è„šæœ¬å¯åŠ¨äº 2018å¹´07æœˆ14æ—¥ æ˜ŸæœŸå…­ 15æ—¶50åˆ†56ç§’
]0;root@test0:/share/BCGen/BCGen[?1034h[root@test0 BCGen]# ls[K[Kcd scripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./BCGen.sh 1
./BCGen.sh:è¡Œ5: proc_def.F90: æœªæ‰¾åˆ°å‘½ä»¤
0
haha
haha
haha
haha
...................model parsed...................
ocn2x_ocnx
lnd2x_lndx
a2x_ax
b2x_bx
a2x_ax
..............couple AttrVect parsed..............
{'a': <ir.Model object at 0x7facc3b83950>, 'lnd': <ir.Model object at 0x7facc3b83c50>, 'b': <ir.Model object at 0x7facc3b83a10>, 'atm': <ir.Model object at 0x7facc3b83b90>, 'ocn': <ir.Model object at 0x7facc3b83d10>}
a
b
atm
lnd
ocn
..................deploy parsed...................
<type 'dict'>
6
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
/usr/lib/python2.7/site-packages/Cheetah/Compiler.py:1509: UserWarning: 
You don't have the C version of NameMapper installed! I'm disabling Cheetah's useStackFrames option as it is painfully slow with the Python version of NameMapper. You should get a copy of Cheetah with the compiled C version of NameMapper.
  "\nYou don't have the C version of NameMapper installed! "
vnn
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
eee
check baseCpl in directory: /share/BCGen/BCGen/baseCpl
/share/BCGen/BCGen/src/template
code moved
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./gbase[K[K[K[K[KbaseCpl.make.sh 
/share/BCGen/BCGen/baseCpl
atm lnd model1 model2 model3 ocn
make -C MCTWrapper
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
mpif90 -I/usr/local/include -c mct_mod.F90 -lmct -lmpeu
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
make -C data_def
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
mpif90 -I/usr/local/include -I/usr/local/lib -I../include -c comms_def.F90 proc_def.F90 -lmct -lmpeu -lmctm
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
make -C timeManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
mpif90  -c timeM.F90
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
make -C	transManage 
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
extend.F90:560.51:

subroutine write_netcdf(my_proc, ID, log_path, time, AV, gsMap_AV)
                                                   1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:501.48:

    integer :: comm_rank, mpi_comm, nlseg, gsize, ierr 
                                                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜gsizeâ€™
extend.F90:492.58:

subroutine read_netcdf(my_proc, ID, check_point_path, time, AV, gsMap_AV)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:470.50:

subroutine log_run_msg(my_proc, ID, log_path, time)
                                                  1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:436.13:

    integer i, ierr, comm_rank, comm_size, j
             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:436.44:

    integer i, ierr, comm_rank, comm_size, j
                                            1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜jâ€™
extend.F90:383.56:

subroutine save_model_av(my_proc, AV, gsMap_AV, ID, time)
                                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:337.20:

    integer pid_in_d,ier, rank_s, rank_d, srank, rrank
                    1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜pid_in_dâ€™
extend.F90:82.14:

    integer  i,j,status,ier,rank_s,rank_d,srank,rrank
              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:80.30:

    integer, pointer :: pei(:), peo(:)
                              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peiâ€™
extend.F90:80.38:

    integer, pointer :: pei(:), peo(:)
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peoâ€™
extend.F90:78.22:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜procs_iâ€™
extend.F90:78.38:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rank_in_comm_iâ€™
extend.F90:51.75:

subroutine avect_init_ext(my_proc, AV_s, ID_s, AV_d, ID_d, gsMap_d, ID_join)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜id_joinâ€™
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.o comms.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
comms.F90:192.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:192.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:179.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:179.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:129.58:

subroutine mapper_comp_map(mapper, src, dst, msgtag,  ierr, rList)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:37.94:

earrsplit_init(mapper, my_proc, gsmap_s, ID_s, gsmap_d, ID_d, ID_join, ierr)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:23.39:

subroutine mapper_init_nil(mapper, ierr)
                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
gfortran: è­¦å‘Šï¼šextend.oï¼šæœªä½¿ç”¨é“¾æ¥å™¨è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºé“¾æ¥å°šæœªå®Œæˆ
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
make -C procManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
mpif90 -I../include -I/usr/local/include -c deploy_mod.F90 mpi_comm.F90  manage.F90 -lmct -lmpeu -lmctm -lcomm -ldata_def 
deploy_mod.F90:134.71:

subroutine deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:67.65:

                  comp_id, cpl_id, id_join, iam_in, pattern, ierr)
                                                                 1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:86.22:

    integer    :: rank  
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rankâ€™
deploy_mod.F90:22.71:

subroutine deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mpi_comm.F90:56.45:

subroutine iam_comm_root(comm, iam_root, ierr)
                                             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
make models
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
mpif90 -c comp_atm.F90 -I../../include
comp_atm.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_atm.F90:149.42:

subroutine atm_run_mct(my_proc, ID, EClock, atm2x, x2atm, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_atm.F90:26.43:

subroutine atm_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
mpif90 -c comp_lnd.F90 -I../../include
comp_lnd.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_lnd.F90:149.42:

subroutine lnd_run_mct(my_proc, ID, EClock, lnd2x, x2lnd, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_lnd.F90:26.43:

subroutine lnd_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
mpif90 -c comp_a.F90 -I../../include
comp_a.F90:65.40:

subroutine a_run_mct(my_proc, ID, EClock, a2x, x2a, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_a.F90:23.41:

subroutine a_init_mct(my_proc, ID, EClock, gsMap_aa, a2x_aa, x2a_aa, ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
mpif90 -c comp_b.F90 -I../../include
comp_b.F90:64.40:

subroutine b_run_mct(my_proc, ID, EClock, b2x, x2b, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_b.F90:23.41:

subroutine b_init_mct(my_proc, ID, EClock, gsMap_bb, b2x_bb, x2b_bb,ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
mpif90 -c comp_c.F90 -I../../include
comp_c.F90:50.27:

    gsize = my_proc%c_gsize
                           1
é”™è¯¯ï¼š â€˜c_gsizeâ€™åœ¨(1)å¤„ä¸æ˜¯â€˜procâ€™ç»“æ„çš„æˆå‘˜
make[1]: *** [comp_c.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
mpif90 -c comp_ocn.F90 -I../../include
comp_ocn.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_ocn.F90:149.42:

subroutine ocn_run_mct(my_proc, ID, EClock, ocn2x, x2ocn, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_ocn.F90:26.43:

subroutine ocn_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
/share/BCGen/BCGen/baseCpl
end make models
ar rcs libbcpl.a ./include/*.o
rm ./include/*.o
mv libbcpl.a ./lib 	
make -C ./model/cpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mpif90 -c  baseCpl.F90 -I../../include -I./ -I/usr/local/netcdf-fortran/include
baseCpl.F90:62.1:

  logical :: a_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:63.1:

  logical :: lnd_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:64.1:

  logical :: b_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:65.1:

  logical :: atm_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:66.1:

  logical :: ocn_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:740.8:

        )
        1
é”™è¯¯ï¼š (1)å¤„çš„å‚æ•°åˆ—è¡¨è¯­æ³•é”™è¯¯
make[1]: *** [baseCpl.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
make: *** [all] é”™è¯¯ 2
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# sc [K[K[Kcd src
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd  template/
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 775L, 32289C[>c[3;5H[34m!-------------------------------------------------------------------
[m    [34m! !Model Init
[m    [34m!-------------------------------------------------------------------[m[6;17H[38;5;130mif[m(my_proc%iamin_modela)[38;5;130mthen[m[7;21H[36mcall[m a_init_mct(EClock[38;5;130m=[mEClock[35m&[m[8;25H,ID[38;5;130m=[mmy_proc%modela_id[35m&[m[9;25H,a2x_aa[38;5;130m=[ma2x_aa[35m&[m[10;25H,gsMap_aa[38;5;130m=[mgsMap_aa[35m&[m[11;25H,ierr[38;5;130m=[mierr[35m&[m[12;25H,my_proc[38;5;130m=[mmy_proc[35m&[m[13;25H,x2a_aa[38;5;130m=[mx2a_aa)[14;17H[38;5;130mend if[15;17Hif[m(my_proc%iamin_modellnd)[38;5;130mthen[m[16;21H[36mcall[m lnd_init_mct(EClock[38;5;130m=[mEClock[35m&[m[17;25H,ID[38;5;130m=[mmy_proc%modellnd_id[35m&[m[18;25H,gsMap_lndlnd[38;5;130m=[mgsMap_lndlnd[35m&[m[19;25H,ierr[38;5;130m=[mierr[35m&[m[20;25H,lnd2x_lndlnd[38;5;130m=[mlnd2x_lndlnd[35m&[m[21;25H,my_proc[38;5;130m=[mmy_proc[35m&[m[22;25H,x2lnd_lndlnd[38;5;130m=[mx2lnd_lndlnd)[23;17H[38;5;130mend if[24;17Hif[m(my_proc%iamin_modelb)[38;5;130mthen[m[25;21H[36mcall[m b_init_mct(EClock[38;5;130m=[mEClock[35m&[m[26;25H,ID[38;5;130m=[mmy_proc%modelb_id[35m&[m[27;25H,b2x_bb[38;5;130m=[mb2x_bb[35m&[m[28;63H130,17[8C15%[14;17H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[27m[m[H[2J[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[2;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[4;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[5;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[6;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[7;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[8;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[9;1H%rAttr([31m1[m,:)[10;17H[36mcall[m mrg_x2a(my_proc, x2a_ax, b2x_ax)[11;17H[36mcall[m mrg_x2b(my_proc, x2b_bx, a2x_bx)[12;17H[36mcall[m mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[13;17H[36mcall[m mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, [35m&[m[14;9H)[15;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[16;9H[38;5;130mendif
[m    [38;5;130mendif[19;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[25;5H[32mimplicit[m [32mnone[m[27;5H[34m!----------------------------------------------------------------------[m[28;63H740,9[9C97%[14;9H[?12l[?25h[?25l[28;64H39[13;9H[?12l[?25h[?25l[28;67H10[13;10H[?12l[?25h[?25l[28;68H1[13;11H[?12l[?25h[?25l[28;68H2[13;12H[?12l[?25h[?25l[28;68H3[13;13H[?12l[?25h[?25l[28;68H4[13;14H[?12l[?25h[?25l[28;68H5[13;15H[?12l[?25h[?25l[28;68H6[13;16H[?12l[?25h[?25l[28;68H7[13;17H[?12l[?25h[?25l[28;68H8[13;18H[?12l[?25h[?25l[28;68H9[13;19H[?12l[?25h[?25l[28;67H20[13;20H[?12l[?25h[?25l[28;68H1[13;21H[?12l[?25h[?25l[28;68H2[13;22H[?12l[?25h[?25l[28;68H3[13;23H[?12l[?25h[?25l[28;68H4[13;24H[?12l[?25h[?25l[28;68H5[13;25H[?12l[?25h[?25l[28;68H6[13;26H[?12l[?25h[?25l[28;68H7[13;27H[?12l[?25h[?25l[28;68H8[13;28H[?12l[?25h[?25l[28;68H9[13;29H[?12l[?25h[?25l[28;67H30[13;30H[?12l[?25h[?25lm[106m([14;9H)[m[28;68H1[13;31H[?12l[?25h[?25l([14;9H)[28;68H2[13;32H[?12l[?25h[?25l[28;68H3[13;33H[?12l[?25h[?25l[28;68H4[13;34H[?12l[?25h[?25l[28;68H5[13;35H[?12l[?25h[?25l[28;68H6[13;36H[?12l[?25h[?25l[28;68H7[13;37H[?12l[?25h[?25l[28;68H8[13;38H[?12l[?25h[?25l[28;68H9[13;39H[?12l[?25h[?25l[28;67H40[13;40H[?12l[?25h[?25l[28;68H1[13;41H[?12l[?25h[?25l[28;68H2[13;42H[?12l[?25h[?25l[28;68H3[13;43H[?12l[?25h[?25l[28;68H4[13;44H[?12l[?25h[?25l[28;68H5[13;45H[?12l[?25h[?25l[28;68H6[13;46H[?12l[?25h[?25l[28;68H7[13;47H[?12l[?25h[?25l[28;68H8[13;48H[?12l[?25h[?25l[28;68H9[13;49H[?12l[?25h[?25l[28;67H50[13;50H[?12l[?25h[?25l[28;68H1[13;51H[?12l[?25h[?25l[28;68H2[13;52H[?12l[?25h[?25l[28;68H3[13;53H[?12l[?25h[?25l[28;68H4[13;54H[?12l[?25h[?25l[28;68H5[13;55H[?12l[?25h[?25l[28;68H6[13;56H[?12l[?25h[?25l[28;68H7[13;57H[?12l[?25h[?25l[28;68H8[13;58H[?12l[?25h[?25l[28;68H9[13;59H[?12l[?25h[?25l[28;67H60[13;60H[?12l[?25h[?25l[28;68H1[13;61H[?12l[?25h[?25l[28;68H2[13;62H[?12l[?25h[?25l[28;68H3[13;63H[?12l[?25h[?25l[28;68H4[13;64H[?12l[?25h[?25l[28;68H5[13;65H[?12l[?25h[?25l[28;68H6[13;66H[?12l[?25h[?25l[28;68H7[13;67H[?12l[?25h[?25l[28;68H8[13;68H[?12l[?25h[?25l[28;68H9[13;69H[?12l[?25h[?25l[28;67H70[13;70H[?12l[?25h[?25l[28;68H1[13;71H[?12l[?25h[?25l[28;68H2[13;72H[?12l[?25h[?25l[28;68H3[13;73H[?12l[?25h[?25l[28;68H4[13;74H[?12l[?25h[?25l[28;68H5[13;75H[?12l[?25h[?25l[28;68H6[13;76H[?12l[?25h[?25l[28;68H7[13;77H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 775L, 32289C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCplt[KT[K[K[K[K[K[K[K[K[K[K[K[KLS
bash: LS: æœªæ‰¾åˆ°å‘½ä»¤
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# VIM [K[K[K[Kls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl_Template.F90" 372L, 13881C[>c[1;17H#[35mend[m for
    #[35mend[m for[4;5H#for $frac [32min[m $fraction_cfgs[5;10H#set $init [38;5;130m=[m $fraction_cfgs[$frac].init[6;10H#set $init_str [38;5;130m=[m $init.toString($init.[38;5;130mname[m, $init.argList)[7;10H[36mcall[m $init_str
    #[35mend[m for[10;5H[36mcall[m MPI_Comm_rank(MPI_COMM_WORLD, comm_rank, ierr)[13;5H[34m!-------------------------------------------------------------------
[m    [34m! !Model Init
[m    [34m!-------------------------------------------------------------------[m[16;8H#for $cfg [32min[m $model_cfgs[17;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][18;17H#set $[35msubroutine[m [38;5;130m=[m $cfg[[31m'subroutine'[m][19;17H#set $init_method [38;5;130m=[m $[35msubroutine[m[[31m'init_method'[m][20;17H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m})[38;5;130mthen[m[21;21H$init_method.getFuncFormat()[22;17H[38;5;130mend if[m[23;8H#[35mend[m for[26;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<==== All Model Init Rank:'[m, comm_rank, [35m&[m[28;63H99,5[10C24%[14;5H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;63H100,5[15;5H[?12l[?25h[?25l[28;65H1[16;5H[?12l[?25h[?25l[28;65H2[17;5H[?12l[?25h[?25l[28;65H3[18;5H[?12l[?25h[?25l[28;65H4[19;5H[?12l[?25h[?25l[28;65H5[20;5H[?12l[?25h[?25l[28;65H6[21;5H[?12l[?25h[?25l[28;65H7[22;5H[?12l[?25h[?25l[28;65H8[23;5H[?12l[?25h[?25l[28;65H9,0-1[24;1H[?12l[?25h[?25l[28;64H10,4  [25;4H[?12l[?25h[?25l[28;65H1,5[26;5H[?12l[?25h[?25l[28;65H2[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m" Over ====>>"[m[28;1H[K[28;63H113,5[9C24%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H114,5[9C25%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m' '[m[28;63H[K[28;63H115,5[9C25%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H116,5[9C25%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H117,4[9C26%[27;4H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H118,0-1[7C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H119,5[9C26%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! !Model_X gsmap_ext av_ext[m[28;63H[K[28;63H120,5[9C26%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H121,5[9C27%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H122,5[9C27%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $av_mx [38;5;130m=[m $cfg[[31m'mx_av_set'[m][28;63H[K[28;63H123,5[9C27%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $gm [38;5;130m=[m $cfg[[31m'mx_gsmap_set'[m][28;63H[K[28;63H124,5[9C28%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H125,5[9C28%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $av_mx_mm [38;5;130m=[m $av_mx[[31m'mx_mm'[m][[31m'name'[m][28;63H[K[28;63H126,5[9C28%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $av_xm_mm [38;5;130m=[m $av_mx[[31m'xm_mm'[m][[31m'name'[m][28;63H[K[28;63H127,5[9C28%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $av_mx_mx [38;5;130m=[m $av_mx[[31m'mx_mx'[m][[31m'name'[m][28;63H[K[28;63H128,5[9C29%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H#set $av_xm_mx [38;5;130m=[m $av_mx[[31m'xm_mx'[m][[31m'name'[m][28;63H[K[28;63H129,5[9C29%[27;5H[?12l[?25h[?25l[27m[m[H[2J[2;5H[34m!----------------------------------------------------------------------
[m    [34m!     end component
[m    [34m!----------------------------------------------------------------------[m[5;8H#for $cfg [32min[m $model_cfgs[6;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][7;17H#set $[35msubroutine[m [38;5;130m=[m $cfg[[31m'subroutine'[m][8;17H#set $final_method [38;5;130m=[m $[35msubroutine[m[[31m'final_method'[m]
    [38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m})[38;5;130mthen[m[10;17H#for $method [32min[m $final_method[11;25H#set $final_method_name [38;5;130m=[m $method[[31m'method_name'[m][12;25H#set $params [38;5;130m=[m $method[[31m'params'[m][13;25H#set $args [38;5;130m=[m [][14;25H#for $key [32min[m $params[15;33H#set item [38;5;130m=[m $key [38;5;130m+[m [31m'='[m [38;5;130m+[m $params[$key][16;33H$args.append(str(item))[17;25H#[35mend[m for[18;25H#set $args [38;5;130m=[m [31m","[m.join(args)[19;9H[36mcall[m ${final_method_name}(${args})[20;17H#[35mend[m for
    [38;5;130mend if[m[22;8H#[35mend[m for
    [36mcall[m clean(my_proc)

[35mend subroutine[m cpl_final

[35mend module[m baseCpl[28;63H372,1[8Cåº•ç«¯[27;1H[?12l[?25h[?25l[28;65H1,0-1[26;1H[?12l[?25h[?25l[28;65H0,1  [25;1H[?12l[?25h[?25l[28;64H69,0-1[24;1H[?12l[?25h[?25l[28;65H8,1  [23;1H[?12l[?25h[?25l[28;65H7[22;1H[?12l[?25h[?25l[28;65H6[21;1H[?12l[?25h[?25l[28;65H5[20;1H[?12l[?25h[?25l[28;65H4[19;1H[?12l[?25h[?25l[28;65H3[18;1H[?12l[?25h[?25l[28;65H2[17;1H[?12l[?25h[?25l[28;65H1[16;1H[?12l[?25h[?25l[28;67H2[16;2H[?12l[?25h[?25l[28;67H3[16;3H[?12l[?25h[?25l[28;67H4[16;4H[?12l[?25h[?25l[28;67H5[16;5H[?12l[?25h[?25l[28;67H6[16;6H[?12l[?25h[?25l[28;67H7[16;7H[?12l[?25h[?25l[28;67H8[16;8H[?12l[?25h[?25l[28;67H9[16;9H[?12l[?25h[?25l[28;67H10[16;10H[?12l[?25h[?25l[28;68H1[16;11H[?12l[?25h[?25l[28;68H2[16;12H[?12l[?25h[?25l[28;68H3[16;13H[?12l[?25h[?25l[28;68H4[16;14H[?12l[?25h[?25l[28;68H5[16;15H[?12l[?25h[?25l[28;68H6[16;16H[?12l[?25h[?25l[28;68H7[16;17H[?12l[?25h[?25l[28;68H8[16;18H[?12l[?25h[?25l[28;68H9[16;19H[?12l[?25h[?25l[28;67H20[16;20H[?12l[?25h[?25l[28;68H1[16;21H[?12l[?25h[?25l[28;68H2[16;22H[?12l[?25h[?25l[28;68H3[16;23H[?12l[?25h[?25l[28;68H4[16;24H[?12l[?25h[?25l[28;68H5[16;25H[?12l[?25h[?25l[28;68H6[16;26H[?12l[?25h[?25l[28;68H7[16;27H[?12l[?25h[?25l[28;68H8[16;28H[?12l[?25h[?25l[28;68H9[16;29H[?12l[?25h[?25l[28;67H30[16;30H[?12l[?25h[?25l[28;68H1[16;31H[?12l[?25h[?25l[28;68H2[16;32H[?12l[?25h[?25l[28;68H3[16;33H[?12l[?25h[?25l[28;68H4[16;34H[?12l[?25h[?25l[28;68H5[16;35H[?12l[?25h[?25l[28;68H6[16;36H[?12l[?25h[?25l[28;68H7[16;37H[?12l[?25h[?25l[28;68H8[16;38H[?12l[?25h[?25l[28;68H9[16;39H[?12l[?25h[?25l[28;67H40[16;40H[?12l[?25h[?25l[28;68H1[16;41H[?12l[?25h[?25l[28;68H2[16;42H[?12l[?25h[?25l[28;68H3[16;43H[?12l[?25h[?25l[28;68H4[16;44H[?12l[?25h[?25ld[106m([9C)[m[28;68H5[16;45H[?12l[?25h[?25l([9C)[28;68H6[16;46H[?12l[?25h[?25l[28;68H7[16;47H[?12l[?25h[?25l[28;68H8[16;48H[?12l[?25h[?25lr[106m([mitem[106m)[m[28;68H9[16;49H[?12l[?25h[?25l(item)[28;67H50[16;50H[?12l[?25h[?25l[28;68H1[16;51H[?12l[?25h[?25l[28;68H2[16;52H[?12l[?25h[?25l[28;68H3[16;53H[?12l[?25h[?25l[106m([mitem[106m)[m[28;68H4[16;54H[?12l[?25h[?25l[16;45H[106m([mstr(item)[106m)[m[28;68H5[16;55H[?12l[?25h[?25l[16;45H([9C)[28;68H6[16;56H[?12l[?25h[?25l[28;65H2,32[17;32H[?12l[?25h[?25l[18;46H[106m([margs[106m)[m[28;65H3,51[18;51H[?12l[?25h[?25l(args)[28;65H2,32[17;32H[?12l[?25h[?25l[28;65H1,56[16;56H[?12l[?25h[?25l[28;65H0[15;56H[?12l[?25h[?25l[28;64H59,44[14;44H[?12l[?25h[?25l[13;38H[106m[][m[28;65H8,39[13;39H[?12l[?25h[?25l[12;47H[106m[[8C][m[13;38H[][28;65H7,56[12;56H[?12l[?25h[?25l[12;47H[[8C][28;65H6[11;56H[?12l[?25h[?25l[28;65H5,45[10;45H[?12l[?25h[?25l[28;65H4,38[9;38H[?12l[?25h[?25l[28;65H3,56[8;56H[?12l[?25h[?25l[7;40H[106m[[12C][m[28;65H2,53[7;53H[?12l[?25h[?25l[6;34H[106m[[19C][m[7;40H[[12C][28;65H1,54[6;54H[?12l[?25h[?25l[6;34H[[19C][28;65H0,31[5;31H[?12l[?25h[?25l[28;64H49,56[4;56H[?12l[?25h[?25l[28;65H8,23[3;23H[?12l[?25h[?25l[28;65H7,56[2;56H[?12l[?25h[?25l[28;65H6,0-1[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H345,17[8C99%[1;17H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H344,0-1[7C99%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35msubroutine[m cpl_final[106m()[m[28;63H[K[28;63H343,22[8C99%[1;22H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[2;21H()[28;63H[K[28;63H342,0-1[7C98%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mend subroutine[m cpl_run[28;63H[K[28;63H341,22[8C98%[1;22H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H340,0-1[7C98%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mend do[m[28;63H[K[28;63H339,10[8C97%[1;10H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H338,0-1[7C97%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mendif[m[28;63H[K[28;63H337,9[9C97%[1;9H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mendif[m[28;63H[K[28;63H336,13[8C97%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[28;63H[K[28;63H335,56[8C96%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H#[35mend[m for[28;63H[K[28;63H334,20[8C96%[1;20H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;17H[36mcall[m ${mgr_routine.toString($mgr_routine.[38;5;130mname[m,$mgr_routine.argLii[2;1Hst)}[28;63H[K[28;63H333,56[8C95%[1;56H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;17H#set func_str [38;5;130m=[m $mgr_routine.toString($mgr_routine.[38;5;130mname[m, $mgr_roo[2;1Hutine.argList)[28;63H[K[28;63H332,56[8C95%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H#for $mgr_routine [32min[m $merge_subroutines[28;63H[K[28;63H331,51[8C95%[1;51H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[2;1H%rAttr([31m1[m,:)[28;63H[K[28;63H330,56[8C94%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[28;63H[K[28;63H329,56[8C94%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[28;63H[K[28;63H328,56[8C93%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[m[28;63H[K[28;63H327,56[8C93%[1;56H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[28;63H[K[28;63H326,22[8C93%[1;22H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[m[28;63H[K[28;63H325,30[8C93%[1;30H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (c2x_cx,b2x_cx,a2x_cx) => [m[34m[106m([m[34mx2c_cx[m[34m[106m)[m[28;63H[K[28;63H324,44[8C92%[1;44H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => [m[34m[106m([m[34mx2b_bx[m[34m[106m)[m[2;37H[34m(x2c_cx)[m[28;63H[K[28;63H323,44[8C92%[1;44H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (c2x_ax,b2x_ax,a2x_ax) => [m[34m[106m([m[34mx2a_ax[m[34m[106m)[m[2;37H[34m(x2b_bx)[m[28;63H[K[28;63H322,44[8C92%[1;44H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! For Example:[2;37H(x2a_ax)[m[28;63H[K[28;63H321,22[8C91%[1;22H[?12l[?25h[?25l[2;37H[34m[106m([6C)[m[28;65H2,44[2;44H[?12l[?25h[?25l[2;37H[34m(x2a_ax)[m[3;37H[34m[106m([6C)[m[28;65H3[3;44H[?12l[?25h[?25l[3;37H[34m(x2b_bx)[m[4;37H[34m[106m([6C)[m[28;65H4[4;44H[?12l[?25h[?25l[4;37H[34m(x2c_cx)[m[28;65H5,30[5;30H[?12l[?25h[?25l[28;65H6,22[6;22H[?12l[?25h[?25l[28;65H7,56[7;56H[?12l[?25h[?25l[28;65H8[8;56H[?12l[?25h[?25l[28;65H9[9;56H[?12l[?25h[?25l[28;64H30[10;56H[?12l[?25h[?25l[28;65H1,51[12;51H[?12l[?25h[?25l[28;65H2,56[13;56H[?12l[?25h[?25l[28;65H3[15;56H[?12l[?25h[?25l[28;68H5[15;55H[?12l[?25h[?25l[28;68H4[15;54H[?12l[?25h[?25l[28;68H3[15;53H[?12l[?25h[?25l[28;68H2[15;52H[?12l[?25h[?25l[28;68H1[15;51H[?12l[?25h[?25l[28;68H0[15;50H[?12l[?25h[?25l[28;67H49[15;49H[?12l[?25h[?25l[28;68H8[15;48H[?12l[?25h[?25l[28;68H7[15;47H[?12l[?25h[?25l[28;68H6[15;46H[?12l[?25h[?25l[28;68H5[15;45H[?12l[?25h[?25l[106m([m[35Cii[16;1Hst[106m)[m[28;68H4[15;44H[?12l[?25h[?25l([35Cii[16;1Hst)[28;68H3[15;43H[?12l[?25h[?25l[28;68H2[15;42H[?12l[?25h[?25l[28;68H1[15;41H[?12l[?25h[?25l[28;68H0[15;40H[?12l[?25h[?25l[28;67H39[15;39H[?12l[?25h[?25l[28;68H8[15;38H[?12l[?25h[?25l[28;68H7[15;37H[?12l[?25h[?25l[28;68H6[15;36H[?12l[?25h[?25l[28;68H5[15;35H[?12l[?25h[?25l[28;68H4[15;34H[?12l[?25h[?25l[28;68H3[15;33H[?12l[?25h[?25l[28;68H2[15;32H[?12l[?25h[?25l[28;68H1[15;31H[?12l[?25h[?25l[28;68H0[15;30H[?12l[?25h[?25l[28;67H29[15;29H[?12l[?25h[?25l[28;68H8[15;28H[?12l[?25h[?25l[28;68H7[15;27H[?12l[?25h[?25l[28;68H6[15;26H[?12l[?25h[?25l[28;68H5[15;25H[?12l[?25h[?25l[28;68H4[15;24H[?12l[?25h[?25l[106m{[m[56Cii[16;1Hst)[106m}[m[28;68H3[15;23H[?12l[?25h[?25l{[56Cii[16;1Hst)}[28;68H2[15;22H[?12l[?25h[?25l[28;68H1[15;21H[?12l[?25h[?25l[28;68H0[15;20H[?12l[?25h[?25l[28;68H1[15;21H[?12l[?25h[?25l[28;68H2[15;22H[?12l[?25h[?25l$[106m{[m[56Cii[16;1Hst)[106m}[m[28;68H3[15;23H[?12l[?25h[?25l{[56Cii[16;1Hst)}[28;68H4[15;24H[?12l[?25h[?25l[28;68H5[15;25H[?12l[?25h[?25l[28;68H6[15;26H[?12l[?25h[?25l[28;68H7[15;27H[?12l[?25h[?25l[28;68H8[15;28H[?12l[?25h[?25l[28;68H9[15;29H[?12l[?25h[?25l[28;67H30[15;30H[?12l[?25h[?25l[28;68H1[15;31H[?12l[?25h[?25l[28;68H2[15;32H[?12l[?25h[?25l[28;68H3[15;33H[?12l[?25h[?25l[28;68H4[15;34H[?12l[?25h[?25l[28;68H5[15;35H[?12l[?25h[?25l[28;68H6[15;36H[?12l[?25h[?25l[28;68H7[15;37H[?12l[?25h[?25l[28;68H8[15;38H[?12l[?25h[?25l[28;68H9[15;39H[?12l[?25h[?25l[28;67H40[15;40H[?12l[?25h[?25l[28;68H1[15;41H[?12l[?25h[?25l[28;68H2[15;42H[?12l[?25h[?25l[28;68H3[15;43H[?12l[?25h[?25lg[106m([m[35Cii[16;1Hst[106m)[m[28;68H4[15;44H[?12l[?25h[?25l([35Cii[16;1Hst)[28;68H5[15;45H[?12l[?25h[?25l[28;68H6[15;46H[?12l[?25h[?25l[28;68H7[15;47H[?12l[?25h[?25l[28;68H8[15;48H[?12l[?25h[?25l[28;68H9[15;49H[?12l[?25h[?25l[28;67H50[15;50H[?12l[?25h[?25l[28;68H1[15;51H[?12l[?25h[?25l[28;68H2[15;52H[?12l[?25h[?25l[28;68H3[15;53H[?12l[?25h[?25l[28;68H4[15;54H[?12l[?25h[?25l[28;68H5[15;55H[?12l[?25h[?25l[28;68H6[15;56H[?12l[?25h[?25l[28;68H7[15;57H[?12l[?25h[?25l[28;68H8[15;58H[?12l[?25h[?25l[28;68H9[15;59H[?12l[?25h[?25l[28;67H60[15;60H[?12l[?25h[?25l[28;68H1[15;61H[?12l[?25h[?25l[28;68H2[15;62H[?12l[?25h[?25l[28;68H3[15;63H[?12l[?25h[?25l[28;68H4[15;64H[?12l[?25h[?25l[28;68H5[15;65H[?12l[?25h[?25l[28;68H6[15;66H[?12l[?25h[?25l[28;68H7[15;67H[?12l[?25h[?25l[28;68H8[15;68H[?12l[?25h[?25l[28;68H9[15;69H[?12l[?25h[?25l[28;67H70[15;70H[?12l[?25h[?25l[28;68H1[15;71H[?12l[?25h[?25l[28;68H2[15;72H[?12l[?25h[?25l[28;68H3[15;73H[?12l[?25h[?25l[28;68H4[15;74H[?12l[?25h[?25l[28;68H5[15;75H[?12l[?25h[?25l[28;68H6[15;76H[?12l[?25h[?25l[28;68H7[15;77H[?12l[?25h[?25l[28;68H8[15;78H[?12l[?25h[?25l[28;68H9[15;79H[?12l[?25h[?25l[28;67H80[15;80H[?12l[?25h[?25l[28;68H1[16;1H[?12l[?25h[?25l[28;68H2[16;2H[?12l[?25h[?25l[15;44H[106m([m[35Cii[16;1Hst[106m)[m[28;68H3[16;3H[?12l[?25h[?25l[15;23H[106m{[m[20C([35Cii[16;1Hst)[106m}[m[28;68H4[16;4H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl_Template.F90" 372L, 13881C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd [K[K[Kbi[K[Kvim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 775L, 32289C[>c[1;9H[34m! (c2x_ax,b2x_ax,a2x_ax) => (x2a_ax)[2;9H! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[3;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[5;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[6;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[7;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[8;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[9;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[10;1H%rAttr([31m1[m,:)[11;17H[36mcall[m mrg_x2a(my_proc, x2a_ax, b2x_ax)[12;17H[36mcall[m mrg_x2b(my_proc, x2b_bx, a2x_bx)[13;17H[36mcall[m mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[14;17H[36mcall[m mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, [35m&[m[15;9H)[16;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[17;9H[38;5;130mendif
[m    [38;5;130mendif[20;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[26;5H[32mimplicit[m [32mnone[m[28;63H739,17[8C96%[14;17H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;68H8[14;18H[?12l[?25h[?25l[28;68H9[14;19H[?12l[?25h[?25l[28;67H20[14;20H[?12l[?25h[?25l[28;68H1[14;21H[?12l[?25h[?25l[28;68H2[14;22H[?12l[?25h[?25l[28;68H3[14;23H[?12l[?25h[?25l[28;68H4[14;24H[?12l[?25h[?25l[28;68H5[14;25H[?12l[?25h[?25l[28;68H6[14;26H[?12l[?25h[?25l[28;68H7[14;27H[?12l[?25h[?25l[28;68H8[14;28H[?12l[?25h[?25l[28;68H9[14;29H[?12l[?25h[?25l[28;67H30[14;30H[?12l[?25h[?25lm[106m([15;9H)[m[28;68H1[14;31H[?12l[?25h[?25l([15;9H)[28;68H2[14;32H[?12l[?25h[?25l[28;68H3[14;33H[?12l[?25h[?25l[28;68H4[14;34H[?12l[?25h[?25l[28;68H5[14;35H[?12l[?25h[?25l[28;68H6[14;36H[?12l[?25h[?25l[28;68H7[14;37H[?12l[?25h[?25l[28;68H8[14;38H[?12l[?25h[?25l[28;68H9[14;39H[?12l[?25h[?25l[28;67H40[14;40H[?12l[?25h[?25l[28;68H1[14;41H[?12l[?25h[?25l[28;68H2[14;42H[?12l[?25h[?25l[28;68H3[14;43H[?12l[?25h[?25l[28;68H4[14;44H[?12l[?25h[?25l[28;68H5[14;45H[?12l[?25h[?25l[28;68H6[14;46H[?12l[?25h[?25l[28;68H7[14;47H[?12l[?25h[?25l[28;68H8[14;48H[?12l[?25h[?25l[28;68H9[14;49H[?12l[?25h[?25l[28;67H50[14;50H[?12l[?25h[?25l[28;68H1[14;51H[?12l[?25h[?25l[28;68H2[14;52H[?12l[?25h[?25l[28;68H3[14;53H[?12l[?25h[?25l[28;68H4[14;54H[?12l[?25h[?25l[28;68H5[14;55H[?12l[?25h[?25l[28;68H6[14;56H[?12l[?25h[?25l[28;68H7[14;57H[?12l[?25h[?25l[28;68H8[14;58H[?12l[?25h[?25l[28;68H9[14;59H[?12l[?25h[?25l[28;67H60[14;60H[?12l[?25h[?25l[28;68H1[14;61H[?12l[?25h[?25l[28;68H2[14;62H[?12l[?25h[?25l[28;68H3[14;63H[?12l[?25h[?25l[28;68H4[14;64H[?12l[?25h[?25l[28;68H5[14;65H[?12l[?25h[?25l[28;68H6[14;66H[?12l[?25h[?25l[28;68H7[14;67H[?12l[?25h[?25l[28;68H8[14;68H[?12l[?25h[?25l[28;68H9[14;69H[?12l[?25h[?25l[28;67H70[14;70H[?12l[?25h[?25l[28;68H1[14;71H[?12l[?25h[?25l[28;68H2[14;72H[?12l[?25h[?25l[28;68H3[14;73H[?12l[?25h[?25l[28;68H4[14;74H[?12l[?25h[?25l[28;68H5[14;75H[?12l[?25h[?25l[28;68H6[14;76H[?12l[?25h[?25l[28;68H7[14;77H[?12l[?25h[?25l[14;77H[K[28;68H6[14;76H[?12l[?25h[?25l[28;68H5[14;75H[?12l[?25h[?25l [?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 775L, 32287C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 775L, 32287C[>c[1;9H[34m! (c2x_ax,b2x_ax,a2x_ax) => (x2a_ax)[2;9H! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[3;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[5;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[6;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[7;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[8;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[9;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[10;1H%rAttr([31m1[m,:)[11;17H[36mcall[m mrg_x2a(my_proc, x2a_ax, b2x_ax)[12;17H[36mcall[m mrg_x2b(my_proc, x2b_bx, a2x_bx)[13;17H[36mcall[m mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[14;17H[36mcall[m mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx[15;9H)[16;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[17;9H[38;5;130mendif
[m    [38;5;130mendif[20;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[26;5H[32mimplicit[m [32mnone[m[28;63H739,17[8C96%[14;17H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[14C[106m([15;9H)[m[28;64H40,9 [15;9H[?12l[?25h[?25l[14;31H([15;9H)[28;67H8[15;8H[?12l[?25h[?25l[14;31H[106m([15;9H)[m[28;67H9[15;9H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H740,9[9C96%[15;9H[?12l[?25h[?25l)[106m )[m[15;9H[K[28;67H8[15;8H[?12l[?25h[?25l)[106m )[m[15;8H[K[28;67H7[15;7H[?12l[?25h[?25l)[106m )[m[15;7H[K[28;67H6[15;6H[?12l[?25h[?25l)[106m )[m[15;6H[K[28;67H5[15;5H[?12l[?25h[?25l)[106m )[m[15;5H[K[28;67H4[15;4H[?12l[?25h[?25l)[106m )[m[15;4H[K[28;67H3[15;3H[?12l[?25h[?25l)[106m )[m[15;3H[K[28;67H2[15;2H[?12l[?25h[?25l)[106m )[m[15;2H[K[28;67H1[15;1H[?12l[?25h[?25l[14;27r[27;1H
[1;28r[14;1H [15C[36mcall[m mrg_x2atm[106m([mmy_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx )
[106m [m[27;5H[34m!----------------------------------------------------------------------[m[28;63H[K[28;63H739,76[8C97%[14;76H[106m)[m
 [14;76H[?12l[?25h[?25l)[106m )[m[14;76H[K[28;68H5[14;75H[?12l[?25h[28;1H[K[14;74H[?25l[14;31H([43C)[28;63H739,74[8C97%[14;74H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 774L, 32277C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./move.sh 
code moved
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd scripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./baseCpl.MAKE[K[K[K[Kmake.sh 
/share/BCGen/BCGen/baseCpl
atm lnd model1 model2 model3 ocn
make -C MCTWrapper
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
mpif90 -I/usr/local/include -c mct_mod.F90 -lmct -lmpeu
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
make -C data_def
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
mpif90 -I/usr/local/include -I/usr/local/lib -I../include -c comms_def.F90 proc_def.F90 -lmct -lmpeu -lmctm
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
make -C timeManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
mpif90  -c timeM.F90
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
make -C	transManage 
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
extend.F90:560.51:

subroutine write_netcdf(my_proc, ID, log_path, time, AV, gsMap_AV)
                                                   1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:501.48:

    integer :: comm_rank, mpi_comm, nlseg, gsize, ierr 
                                                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜gsizeâ€™
extend.F90:492.58:

subroutine read_netcdf(my_proc, ID, check_point_path, time, AV, gsMap_AV)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:470.50:

subroutine log_run_msg(my_proc, ID, log_path, time)
                                                  1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:436.13:

    integer i, ierr, comm_rank, comm_size, j
             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:436.44:

    integer i, ierr, comm_rank, comm_size, j
                                            1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜jâ€™
extend.F90:383.56:

subroutine save_model_av(my_proc, AV, gsMap_AV, ID, time)
                                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:337.20:

    integer pid_in_d,ier, rank_s, rank_d, srank, rrank
                    1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜pid_in_dâ€™
extend.F90:82.14:

    integer  i,j,status,ier,rank_s,rank_d,srank,rrank
              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:80.30:

    integer, pointer :: pei(:), peo(:)
                              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peiâ€™
extend.F90:80.38:

    integer, pointer :: pei(:), peo(:)
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peoâ€™
extend.F90:78.22:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜procs_iâ€™
extend.F90:78.38:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rank_in_comm_iâ€™
extend.F90:51.75:

subroutine avect_init_ext(my_proc, AV_s, ID_s, AV_d, ID_d, gsMap_d, ID_join)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜id_joinâ€™
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.o comms.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
comms.F90:192.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:192.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:179.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:179.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:129.58:

subroutine mapper_comp_map(mapper, src, dst, msgtag,  ierr, rList)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:37.94:

earrsplit_init(mapper, my_proc, gsmap_s, ID_s, gsmap_d, ID_d, ID_join, ierr)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:23.39:

subroutine mapper_init_nil(mapper, ierr)
                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
gfortran: è­¦å‘Šï¼šextend.oï¼šæœªä½¿ç”¨é“¾æ¥å™¨è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºé“¾æ¥å°šæœªå®Œæˆ
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
make -C procManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
mpif90 -I../include -I/usr/local/include -c deploy_mod.F90 mpi_comm.F90  manage.F90 -lmct -lmpeu -lmctm -lcomm -ldata_def 
deploy_mod.F90:134.71:

subroutine deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:67.65:

                  comp_id, cpl_id, id_join, iam_in, pattern, ierr)
                                                                 1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:86.22:

    integer    :: rank  
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rankâ€™
deploy_mod.F90:22.71:

subroutine deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mpi_comm.F90:56.45:

subroutine iam_comm_root(comm, iam_root, ierr)
                                             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
make models
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
mpif90 -c comp_atm.F90 -I../../include
comp_atm.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_atm.F90:149.42:

subroutine atm_run_mct(my_proc, ID, EClock, atm2x, x2atm, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_atm.F90:26.43:

subroutine atm_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
mpif90 -c comp_lnd.F90 -I../../include
comp_lnd.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_lnd.F90:149.42:

subroutine lnd_run_mct(my_proc, ID, EClock, lnd2x, x2lnd, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_lnd.F90:26.43:

subroutine lnd_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
mpif90 -c comp_a.F90 -I../../include
comp_a.F90:65.40:

subroutine a_run_mct(my_proc, ID, EClock, a2x, x2a, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_a.F90:23.41:

subroutine a_init_mct(my_proc, ID, EClock, gsMap_aa, a2x_aa, x2a_aa, ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
mpif90 -c comp_b.F90 -I../../include
comp_b.F90:64.40:

subroutine b_run_mct(my_proc, ID, EClock, b2x, x2b, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_b.F90:23.41:

subroutine b_init_mct(my_proc, ID, EClock, gsMap_bb, b2x_bb, x2b_bb,ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
mpif90 -c comp_c.F90 -I../../include
comp_c.F90:50.27:

    gsize = my_proc%c_gsize
                           1
é”™è¯¯ï¼š â€˜c_gsizeâ€™åœ¨(1)å¤„ä¸æ˜¯â€˜procâ€™ç»“æ„çš„æˆå‘˜
make[1]: *** [comp_c.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
mpif90 -c comp_ocn.F90 -I../../include
comp_ocn.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_ocn.F90:149.42:

subroutine ocn_run_mct(my_proc, ID, EClock, ocn2x, x2ocn, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_ocn.F90:26.43:

subroutine ocn_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
/share/BCGen/BCGen/baseCpl
end make models
ar rcs libbcpl.a ./include/*.o
rm ./include/*.o
mv libbcpl.a ./lib 	
make -C ./model/cpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mpif90 -c  baseCpl.F90 -I../../include -I./ -I/usr/local/netcdf-fortran/include
baseCpl.F90:62.1:

  logical :: a_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:63.1:

  logical :: lnd_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:64.1:

  logical :: b_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:65.1:

  logical :: atm_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:66.1:

  logical :: ocn_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
mpif90 ./comp_a.o ./comp_b.o ./comp_c.o ./comp_atm.o ./comp_ocn.o ./comp_lnd.o main.o baseCpl.o   -o main \
-L../../lib -L/usr/local/netcdf-fortran/lib -I/usr/local/netcdf-fortran/include -lbcpl  -lmct -lmpeu  -lnetcdff
baseCpl.oï¼šåœ¨å‡½æ•°â€˜__basecpl_MOD_cpl_runâ€™ä¸­ï¼š
/share/BCGen/BCGen/baseCpl/model/cpl/baseCpl.F90:736ï¼šå¯¹â€˜mrg_x2a_â€™æœªå®šä¹‰çš„å¼•ç”¨
/share/BCGen/BCGen/baseCpl/model/cpl/baseCpl.F90:737ï¼šå¯¹â€˜mrg_x2b_â€™æœªå®šä¹‰çš„å¼•ç”¨
/share/BCGen/BCGen/baseCpl/model/cpl/baseCpl.F90:738ï¼šå¯¹â€˜mrg_x2ocn_â€™æœªå®šä¹‰çš„å¼•ç”¨
/share/BCGen/BCGen/baseCpl/model/cpl/baseCpl.F90:739ï¼šå¯¹â€˜mrg_x2atm_â€™æœªå®šä¹‰çš„å¼•ç”¨
collect2: é”™è¯¯ï¼šld è¿”å› 1
make[1]: *** [main] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
make: *** [all] é”™è¯¯ 2
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd baseCpl/
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# vim model
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"model" æ˜¯ç›®å½•[>c[1;1H[4m[34m" ============================================================================[m[4m  [m[2;1H[34m" Netrw Directory Listing                                        [m[36m(netrw v149)[m
[34m"   /share/BCGen/BCGen/baseCpl/model
"   Sorted by[m[38;5;130m      name[m
[34m"   Sort sequence:[m[38;5;130m [\/]$[m[34m,[m[38;5;130m\<core\%(\.\d\+\)\=\>[m[34m,[m[38;5;130m\.h$[m[34m,[m[38;5;130m\.c$[m[34m,[m[38;5;130m\.cpp$[m[34m,[m[38;5;130m\~\=\*$[m[34m,[m[38;5;130m*[m[34m,[m[38;5;130m\.o$[m[34m,[m[38;5;130m\[m[6;1H[34m"   Quick Help: [m<F1[36m>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mexec
[34m" ============================================================================
..[m[36m/[m
[34m.[m[36m/[m
[34matm[m[36m/[m
[34mcpl[m[36m/[m
[34mlnd[m[36m/[m
[34mmodel1[m[36m/[m
[34mmodel2[m[36m/[m
[34mmodel3[m[36m/[m
[34mocn[m[36m/[m
.swp
[94m~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [24;1H~                                                                               [25;1H~                                                                               [26;1H~                                                                               [27;1H~                                                                               [m[28;63H1,1[10Cå…¨éƒ¨[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H2[1;2H[?12l[?25h[?25l[4;15H[38;5;130mtime[m[4;19H[K[5;5H[34mQuick Help: [m<F1[36m>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mexec[5;78H[K[6;3H[34m============================================================================
..[m[36m/[m[7;4H[K[8;1H[34matm[m[36m/[m
[34mlnd[m[36m/[m
[34mmodel1[m[36m/[m
[34mmodel2[m[36m/[m
[34mmodel3[m[36m/[m
[34mocn[m[36m/[m[13;5H[K[14;1H[34mcpl[m[36m/[m[14;5H[K[15;1H[34m.[m[36m/[m[15;3H[K[16;1H.swp
[94m~                                                                               [1;2H[?12l[?25h[?25l[m[28;1H[K[28;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[28;1H[K[28;1H[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd prioc[K[K[KocManage/
]0;root@test0:/share/BCGen/BCGen/baseCpl/procManage[root@test0 procManage]# ls
deploy_mod.F90  makefile  manage2.F90  manage.F90  mpi_comm.F90
]0;root@test0:/share/BCGen/BCGen/baseCpl/procManage[root@test0 procManage]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd, [K[K yr[K[K[Ktr[K[K tramns[K[K[KnsManage/
]0;root@test0:/share/BCGen/BCGen/baseCpl/transManage[root@test0 transManage]# ls
comms.F90  extend.F90  makefile  read
]0;root@test0:/share/BCGen/BCGen/baseCpl/transManage[root@test0 transManage]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd trim[K[K[KimeManage/
]0;root@test0:/share/BCGen/BCGen/baseCpl/timeManage[root@test0 timeManage]# ls
makefile  timeM.F90
]0;root@test0:/share/BCGen/BCGen/baseCpl/timeManage[root@test0 timeManage]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd model
]0;root@test0:/share/BCGen/BCGen/baseCpl/model[root@test0 model]# ls
[0m[38;5;27matm[0m  [38;5;27mcpl[0m  [38;5;27mlnd[0m  [38;5;27mmodel1[0m  [38;5;27mmodel2[0m  [38;5;27mmodel3[0m  [38;5;27mocn[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl/model[root@test0 model]# cd cpl
]0;root@test0:/share/BCGen/BCGen/baseCpl/model/cpl[root@test0 cpl]# ls
back              baseCpl.o     comp_atm.o  comp_c.o      comp_ocn.o
baseCpl_back.F90  comp_a.mod    comp_b.mod  comp_lnd.mod  main.F90
baseCpl.F90       comp_a.o      comp_b.o    comp_lnd.o    main.o
basecpl.mod       comp_atm.mod  comp_c.mod  comp_ocn.mod  makefile
]0;root@test0:/share/BCGen/BCGen/baseCpl/model/cpl[root@test0 cpl]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl/model[root@test0 model]# ls
[0m[38;5;27matm[0m  [38;5;27mcpl[0m  [38;5;27mlnd[0m  [38;5;27mmodel1[0m  [38;5;27mmodel2[0m  [38;5;27mmodel3[0m  [38;5;27mocn[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl/model[root@test0 model]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd data_def
]0;root@test0:/share/BCGen/BCGen/baseCpl/data_def[root@test0 data_def]# ls
comms_def.F90  makefile  proc_def2.F90  proc_def.F90
]0;root@test0:/share/BCGen/BCGen/baseCpl/data_def[root@test0 data_def]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd model[K[K[K[K[Kutil
bash: cd: util: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# lscd utills[Kcd utils/
]0;root@test0:/share/BCGen/BCGen/baseCpl/utils[root@test0 utils]# l;s[K[Ks
[0m[38;5;34mmain[0m  main.F90  main.o  makefile  m_vector.mod  vector.F90  vector.o
]0;root@test0:/share/BCGen/BCGen/baseCpl/utils[root@test0 utils]# cd ..
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# vim mdoel[K[K[K[K[Kmodel
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"model" æ˜¯ç›®å½•[>c[1;1H[4m[34m" ============================================================================[m[4m  [m[2;1H[34m" Netrw Directory Listing                                        [m[36m(netrw v149)[m
[34m"   /share/BCGen/BCGen/baseCpl/model
"   Sorted by[m[38;5;130m      name[m
[34m"   Sort sequence:[m[38;5;130m [\/]$[m[34m,[m[38;5;130m\<core\%(\.\d\+\)\=\>[m[34m,[m[38;5;130m\.h$[m[34m,[m[38;5;130m\.c$[m[34m,[m[38;5;130m\.cpp$[m[34m,[m[38;5;130m\~\=\*$[m[34m,[m[38;5;130m*[m[34m,[m[38;5;130m\.o$[m[34m,[m[38;5;130m\[m[6;1H[34m"   Quick Help: [m<F1[36m>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mexec
[34m" ============================================================================
..[m[36m/[m
[34m.[m[36m/[m
[34matm[m[36m/[m
[34mcpl[m[36m/[m
[34mlnd[m[36m/[m
[34mmodel1[m[36m/[m
[34mmodel2[m[36m/[m
[34mmodel3[m[36m/[m
[34mocn[m[36m/[m
.swp
[94m~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [24;1H~                                                                               [25;1H~                                                                               [26;1H~                                                                               [27;1H~                                                                               [m[28;63H1,1[10Cå…¨éƒ¨[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H2[1;2H[?12l[?25h[?25l[4;15H[38;5;130mtime[m[4;19H[K[5;5H[34mQuick Help: [m<F1[36m>[m[35m:[mhelp  [36m-[m[35m:[mgo up dir  [36mD[m[35m:[mdelete  [36mR[m[35m:[mrename  [36ms[m[35m:[msort-by  [36mx[m[35m:[mexec[5;78H[K[6;3H[34m============================================================================
..[m[36m/[m[7;4H[K[8;1H[34matm[m[36m/[m
[34mlnd[m[36m/[m
[34mmodel1[m[36m/[m
[34mmodel2[m[36m/[m
[34mmodel3[m[36m/[m
[34mocn[m[36m/[m[13;5H[K[14;1H[34mcpl[m[36m/[m[14;5H[K[15;1H[34m.[m[36m/[m[15;3H[K[16;1H.swp
[94m~                                                                               [1;2H[?12l[?25h[?25l[m[28;1H[K[28;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[28;1H[K[28;1H[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# cd ./.[K[K.
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd ..
]0;root@test0:/share/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m  [38;5;27mBCGen[0m  [38;5;27mtestLib[0m
]0;root@test0:/share/BCGen[root@test0 BCGen]# cd baseCpl/
]0;root@test0:/share/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   [38;5;27minclude[0m   Makefile    [38;5;27mMrgSubroutine[0m  readme.md   [38;5;27mtransManage[0m
[38;5;27mdoc[0m        [38;5;27mlib[0m       [38;5;27mMCT[0m         netcf.nc       [38;5;34mrun.sh[0m      [38;5;27mutils[0m
file2.txt  [38;5;27mlogUtils[0m  [38;5;27mMCTWrapper[0m  plan           test.py
file.txt   [38;5;34mmain[0m      [38;5;27mmodel[0m       [38;5;27mprocManage[0m     [38;5;27mtimeManage[0m
]0;root@test0:/share/BCGen/baseCpl[root@test0 baseCpl]# cd MrgSubroutine/
]0;root@test0:/share/BCGen/baseCpl/MrgSubroutine[root@test0 MrgSubroutine]# ls
fraction_mod.F90  makefile  mrg_mod.F90
]0;root@test0:/share/BCGen/baseCpl/MrgSubroutine[root@test0 MrgSubroutine]# vim mrg_mod.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"mrg_mod.F90" 165L, 5771C[>c[1;1H[35mmodule[m mrg_mod

[35muse[m mct_mod
[35muse[m proc_def
[34m!use comms[m
[35muse[m mpi_comm[8;5H[32mimplicit[m [32mnone[m[10;5H[34m!----------------------------------------------------
[m    [34m!   add user define subroutine
[m    [34m!----------------------------------------------------[m
    [32mpublic[m :: mrg_x2atm
    [34m!public :: mrg_x2lnd
[m    [34m!public :: mrg_x2ocn[m

[35mcontains

subroutine[m mrg_x2atm(my_proc, x2atm_atm, ocn2x_atm, lnd2x_atm, fractions_a)[21;5H[32mtype[m(proc), [32mintent[m([32minout[m)      :: my_proc
    [32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: x2atm_atm
    [32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: ocn2x_atm
    [32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: lnd2x_atm
    [32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: fractions_a[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_atm[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;63H2,0-1[2;1H[?12l[?25h[?25l[28;63H3,1  [3;1H[?12l[?25h[?25l[28;63H4[4;1H[?12l[?25h[?25l[28;63H5[5;1H[?12l[?25h[?25l[28;63H6[6;1H[?12l[?25h[?25l[28;63H7,0-1[7;1H[?12l[?25h[?25l[28;63H8,1  [8;1H[?12l[?25h[?25l[28;63H9[9;1H[?12l[?25h[?25l[28;63H10,1[10;1H[?12l[?25h[?25l[28;64H1[11;1H[?12l[?25h[?25l[28;64H2[12;1H[?12l[?25h[?25l[28;64H3[13;1H[?12l[?25h[?25l[28;64H4[14;1H[?12l[?25h[?25l[28;64H5[15;1H[?12l[?25h[?25l[28;64H6,0-1[16;1H[?12l[?25h[?25l[28;64H7,1  [17;1H[?12l[?25h[?25l[28;64H8,0-1[18;1H[?12l[?25h[?25l[28;64H9,1  [19;1H[?12l[?25h[?25l[28;63H20,0-1[20;1H[?12l[?25h[?25l[28;64H1,1  [21;1H[?12l[?25h[?25l[28;64H2[22;1H[?12l[?25h[?25l[28;64H3[23;1H[?12l[?25h[?25l[28;64H4[24;1H[?12l[?25h[?25l[28;64H5[25;1H[?12l[?25h[?25l[28;64H6[26;1H[?12l[?25h[?25l[28;64H7[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_ocn[28;1H[K[28;63H28,1[11C0%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_lnd[28;63H[K[28;63H29,1[11C1%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_atm[28;63H[K[28;63H30,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_lnd[28;63H[K[28;63H31,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_ocn[28;63H[K[28;63H32,1[11C3%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H33,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: n, ka, kl, ko, kof, klf[28;63H[K[28;63H34,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: lsize[28;63H[K[28;63H35,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    real[m   :: fracl, fraco[28;63H[K[28;63H36,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    logical[m :: iamroot[28;63H[K[28;63H37,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    logical[m :: first_time [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H38,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    logical[m :: mct_usevector [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H39,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    logical[m, [32mpointer[m, [32msave[m :: lmerge(:), omerge(:)[28;63H[K[28;63H40,1[11C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mpointer[m, [32msave[m :: lindx(:), oindx(:)[28;63H[K[28;63H41,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32msave[m[10C:: naflds, klflds, noflds[28;63H[K[28;63H42,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H43,0-1[8C11%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hiamroot [38;5;130m=[m my_proc%iam_root [34m![m[28;63H[K[28;63H44,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H45,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m (first_time)[38;5;130mthen[m[28;63H[K[28;63H46,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H47,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hnaflds [38;5;130m=[m avect_nRattr(x2atm_atm)[28;63H[K[28;63H48,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hklflds [38;5;130m=[m avect_nRattr(lnd2x_atm)[28;63H[K[28;63H49,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hnoflds [38;5;130m=[m avect_nRattr(ocn2x_atm)[28;63H[K[28;63H50,1[10C16%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H51,0-1[8C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mallocate[m(lindx(naflds), lmerge(naflds))[28;63H[K[28;63H52,1[10C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mallocate[m(oindx(naflds), omerge(naflds))[28;63H[K[28;63H53,1[10C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H54,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hlindx(:) [38;5;130m=[m [31m0[m[28;63H[K[28;63H55,1[10C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hoindx(:) [38;5;130m=[m [31m0[m[28;63H[K[28;63H56,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hlmerge(:) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H57,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Homerge(:) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H58,1[10C22%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H59,0-1[8C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[34m!  Field naming rules[m[28;63H[K[28;63H60,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[34m! Only atm state that are Sx_... will be merged[m[28;63H[K[28;63H61,1[10C24%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[34m! Only fluxes that are F??x_... will be merged[m[28;63H[K[28;63H62,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[34m! All fluxes will be multiplied by corresponding componet fraction[m[28;63H[K[28;63H63,1[10C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H64,0-1[8C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mdo[m ka [38;5;130m=[m [31m1[m, naflds[28;63H[K[28;63H65,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[36mcall[m getfld(ka, x2atm_atm, field_atm, itemc_atm)[28;63H[K[28;63H66,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m (field_atm([31m1[m:[31m2[m)[38;5;130m==[m[31m'PF'[m)[38;5;130mthen[m[28;63H[K[28;63H67,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mcycle[m[28;63H[K[28;63H68,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mend if[m[28;63H[K[28;63H69,1[10C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m (field_atm([31m1[m:[31m1[m) [38;5;130m==[m [31m'S'[m [38;5;130m.and.[m field_atm([31m2[m:[31m2[m)[38;5;130m/=[m[31m'x'[m) [38;5;130mthen[m[28;63H[K[28;63H70,1[10C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mcycle[m[28;63H[K[28;63H71,1[10C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mend if[m[28;63H[K[28;63H72,1[10C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H73,1[10C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mdo[m kl [38;5;130m=[m [31m1[m,klflds[28;63H[K[28;63H74,1[10C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[36mcall[m getfld(kl, lnd2x_atm, field_lnd, itemc_lnd)[28;63H[K[28;63H75,1[10C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mif[m ([36mtrim[m(itemc_atm) [38;5;130m==[m [36mtrim[m(itemc_lnd))[38;5;130mthen[m[28;63H[K[28;63H76,1[10C35%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mif[m(([36mtrim[m(field_atm)[38;5;130m==[m[36mtrim[m(field_lnd)))[38;5;130mthen[m[28;63H[K[28;63H77,1[10C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;25H[38;5;130mif[m(field_lnd([31m1[m:[31m1[m)[38;5;130m==[m[31m'F'[m)lmerge(ka)  [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H78,1[10C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mend if[m[28;63H[K[28;63H79,1[10C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21Hlindx(ka) [38;5;130m=[m kl[28;63H[K[28;63H80,1[10C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mexit[m[28;63H[K[28;63H81,1[10C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130mend if[m[28;63H[K[28;63H82,1[10C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mend do[m[28;63H[K[28;63H83,1[10C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H84,0-1[8C41%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mdo[m ko [38;5;130m=[m [31m1[m,noflds[28;63H[K[28;63H85,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[36mcall[m getfld(ko, ocn2x_atm, field_ocn, itemc_ocn)[28;63H[K[28;63H86,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mif[m([36mtrim[m(itemc_atm) [38;5;130m==[m [36mtrim[m(itemc_ocn))[38;5;130mthen[m[28;63H[K[28;63H87,1[10C43%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mif[m(([36mtrim[m(field_atm)[38;5;130m==[m[36mtrim[m(field_ocn)))[38;5;130mthen[m[28;63H[K[28;63H88,1[10C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;25H[38;5;130mif[m(field_ocn([31m1[m:[31m1[m) [38;5;130m==[m [31m'F'[m)omerge(ka) [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H89,1[10C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mend if[m[28;63H[K[28;63H90,1[10C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21Hoindx(ka) [38;5;130m=[m ko[28;63H[K[28;63H91,1[10C46%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H[38;5;130mexit[m[28;63H[K[28;63H92,1[10C47%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mend if[m[28;63H[K[28;63H93,1[10C47%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mend do[m[28;63H[K[28;63H94,1[10C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m(lindx(ka) [38;5;130m==[m [31m0[m) itemc_lnd [38;5;130m=[m [31m'unset'[m[28;63H[K[28;63H95,1[10C49%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m(oindx(ka) [38;5;130m==[m [31m0[m) itemc_ocn [38;5;130m=[m [31m'unset'[m[28;63H[K[28;63H96,1[10C50%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H97,0-1[8C50%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m(iamroot)[38;5;130mthen[m[28;63H[K[28;63H98,1[10C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[36mtrim[m(itemc_atm),[36mtrim[m(itemc_lnd),[36mtrim[m(itemc_ocn)[28;63H[K[28;63H99,1[10C52%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mend if[m[28;63H[K[28;63H100,1[9C52%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mend do[m[28;63H[K[28;63H101,1[9C53%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10Hfirst_time [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H102,1[9C54%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[38;5;130mend if[m[28;63H[K[28;63H103,1[9C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H104,1[9C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! Zero attribute vector!![m[28;63H[K[28;63H105,1[9C56%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[36mcall[m avect_zero(x2atm_atm)[28;63H[K[28;63H106,1[9C57%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H107,0-1[7C57%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! updata surface fractions[m[28;63H[K[28;63H108,1[9C58%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! klf = avect_indexRA(fractions_a,"lfrac")[m[28;63H[K[28;63H109,1[9C59%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! kof = avect_indexRA(fractions_a,'ofrac')[m[28;63H[K[28;63H110,1[9C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6Hlsize [38;5;130m=[m avect_lsize(x2atm_atm)[28;63H[K[28;63H111,1[9C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H112,0-1[7C61%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!index_x2a_Sf_lfrac = avect_indexRA(x2atm_atm,'Sf_lfrac')[m[28;63H[K[28;63H113,1[9C62%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!index_x2a_Sf_ofrac = avect_indexRA(x2atm_atm,'Sf_ofrac')[m[28;63H[K[28;63H114,1[9C63%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!do n = 1,lsize[m[28;63H[K[28;63H115,1[9C63%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!    x2atm_atm%rAttr(index_x2a_Sf_lfrac,n) = fractions_atm%Rattr(klf, n)[m[28;63H[K[28;63H116,1[9C64%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!    x2atm_atm%rAttr(index_x2a_Sf_ofrac,n) = fractions_atm%Rattr(kpf, n)[m[28;63H[K[28;63H117,1[9C65%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m!end do[m[28;63H[K[28;63H118,1[9C65%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H119,0-1[7C66%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! Copy attributes that do not need to be merged[m[28;63H[K[28;63H120,1[9C67%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! These are assumed to have the same name in [m[28;63H[K[28;63H121,1[9C68%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! (ocn2x_atm and x2atm_atm) and in (lnd2x_atm and x2atm_atm), etc.[m[28;63H[K[28;63H122,1[9C68%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[36mcall[m avect_copy(aVin[38;5;130m=[mlnd2x_atm, aVout[38;5;130m=[mx2atm_atm, vector[38;5;130m=[mmct_usevector)[28;63H[K[28;63H123,1[9C69%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[36mcall[m avect_copy(aVin[38;5;130m=[mocn2x_atm, aVout[38;5;130m=[mx2atm_atm, vector[38;5;130m=[mmct_usevector)[28;63H[K[28;63H124,1[9C70%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H125,0-1[7C71%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;6H[34m! If flux to atm is coming only from the ocean (based on field being in ocnn[27;1H2x_atm) -[m[28;63H[K[28;63H126,1[9C71%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! -- then scale by both ocean and ice fraction[m[28;63H[K[28;63H127,1[9C72%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! If flux to atm is coming only from the land or ice or coupler[m[28;63H[K[28;63H128,1[9C73%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[34m! -- then scale by fraction above[m[28;63H[K[28;63H129,1[9C74%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H130,0-1[7C74%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H[38;5;130mdo[m ka [38;5;130m=[m  [31m1[m, naflds[28;63H[K[28;63H131,1[9C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mdo[m n [38;5;130m=[m [31m1[m, lsize[28;63H[K[28;63H132,1[9C76%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14Hfracl [38;5;130m=[m fractions_a%Rattr(klf, n)[28;63H[K[28;63H133,1[9C76%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14Hfraco [38;5;130m=[m fractions_a%Rattr(kof, n)[28;63H[K[28;63H134,1[9C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[38;5;130mif[m(lindx(ka)[38;5;130m>[m[31m0[m [38;5;130m.and.[m fracl [38;5;130m>[m [31m0[m) [38;5;130mthen[m[28;63H[K[28;63H135,1[9C78%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130mif[m(lmerge(ka))[38;5;130mthen[m[28;63H[K[28;63H136,1[9C79%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m x2atm_atm%rAttr(ka,n) [38;5;130m+[m lnd2x_atm%%[27;1HrAttr(lindx(ka),n)[38;5;130m*[mfracl[28;63H[K[28;63H137,1[9C80%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130melse[m[28;63H[K[28;63H138,1[9C80%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m lnd2x_atm%rAttr(lindx(ka), n)[38;5;130m*[mfracc[27;1Hl[28;63H[K[28;63H139,1[9C81%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130mend if[m[28;63H[K[28;63H140,1[9C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[38;5;130mend if[m[28;63H[K[28;63H141,1[9C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!if (xindx(ka) >0 .and. fraco>0._r8)then[m[28;63H[K[28;63H142,1[9C83%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!    if(xmerge(ka)) then[m[28;63H[K[28;63H143,1[9C84%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;14H[34m!        x2atm_atm%rAttr(ka, n) = x2atm_atm%rAttr(ka, n) + xao_a%rAA[27;1Httr(xindx(ka), n)*fraco[m[28;63H[K[28;63H144,1[9C85%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!    else[m[28;63H[K[28;63H145,1[9C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!        x2atm_atm%rAttr(ka, n) = xao_atm%rAttr(xindx(ka),n)*fraco[m[28;63H[K[28;63H146,1[9C86%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!    end if[m[28;63H[K[28;63H147,1[9C87%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[34m!end if[m[28;63H[K[28;63H148,1[9C88%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;14H[38;5;130mif[m (oindx(ka) [38;5;130m>[m [31m0[m)[38;5;130mthen[27;18Hif[m(omerge(ka) [38;5;130m.and.[m fraco [38;5;130m>[m [31m0[m)[38;5;130mthen[m[28;63H[K[28;63H149,1[9C89%[26;1H[?12l[?25h[?25l[28;64H50[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m x2atm_atm%rAttr(ka,n) [38;5;130m+[m ocn2x_atm%%[27;1HrAttr(oindx(ka),n)[38;5;130m*[mfraco[28;63H[K[28;63H151,1[9C90%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130mend if[m[28;63H[K[28;63H152,1[9C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;18H[38;5;130mif[m([38;5;130m.not.[m omerge(ka)) [38;5;130mthen[m[28;63H[K[28;63H153,1[9C91%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m ocn2x_atm%rAttr(oindx(ka),n)[38;5;130m*[mfraco[28;63H[K[28;63H154,1[9C92%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m x2atm_atm%rAttr(ka, n) [38;5;130m+[m ocn2x_atmm[27;1H%rAttr(oindx(ka),n)[38;5;130m*[mfraco[28;63H[K[28;63H155,1[9C93%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mend if[m[28;63H[K[28;63H156,1[9C93%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;14H[38;5;130mend if[m[28;63H[K[28;63H157,1[9C94%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;10H[38;5;130mend do[m[28;63H[K[28;63H158,1[9C95%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;6H[38;5;130mend do[m[28;63H[K[28;63H159,1[9C96%[26;1H[?12l[?25h[?25l[28;64H60,0-1[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m mrg_x2atm[28;63H[K[28;63H161,1[9C97%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H[35mend module[m mrg_mod[28;63H[K[28;63H162,0-1[7C98%[26;1H[?12l[?25h[?25l[28;65H3,1  [27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H164,0-1[7C99%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H165,0-1      åº•ç«¯[27;1H[?12l[?25h[?25l[28;65H4[26;1H[?12l[?25h[?25l[28;65H3,1  [25;1H[?12l[?25h[?25l[28;65H2,0-1[24;1H[?12l[?25h[?25l[28;65H1,1  [23;1H[?12l[?25h[?25l[28;65H0,0-1[22;1H[?12l[?25h[?25l[28;64H59,1  [21;1H[?12l[?25h[?25l[28;65H8[20;1H[?12l[?25h[?25l[28;65H7[19;1H[?12l[?25h[?25l[28;65H6[18;1H[?12l[?25h[?25l[28;65H5[16;1H[?12l[?25h[?25l[28;65H4[15;1H[?12l[?25h[?25l[28;65H3[14;1H[?12l[?25h[?25l[28;65H2[13;1H[?12l[?25h[?25l[28;65H1[11;1H[?12l[?25h[?25l[28;65H0[10;1H[?12l[?25h[?25l[28;64H49[9;1H[?12l[?25h[?25l[28;65H8[8;1H[?12l[?25h[?25l[28;65H7[7;1H[?12l[?25h[?25l[28;65H6[6;1H[?12l[?25h[?25l[28;65H5[5;1H[?12l[?25h[?25l[28;65H4[3;1H[?12l[?25h[?25l[28;65H3[2;1H[?12l[?25h[?25l[28;65H2[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;14H[38;5;130mend if[m[28;63H[K[28;63H141,1[9C99%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;18H[38;5;130mend if[m[28;63H[K[28;63H140,1[9C98%[1;1H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m lnd2x_atm%rAttr(lindx(ka), n)[38;5;130m*[mfracc[2;1Hl[28;63H[K[28;63H139,1[9C97%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;18H[38;5;130melse[m[28;63H[K[28;63H138,1[9C96%[1;1H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;22Hx2atm_atm%rAttr(ka, n) [38;5;130m=[m x2atm_atm%rAttr(ka,n) [38;5;130m+[m lnd2x_atm%%[2;1HrAttr(lindx(ka),n)[38;5;130m*[mfracl[28;63H[K[28;63H137,1[9C95%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;18H[38;5;130mif[m(lmerge(ka))[38;5;130mthen[m[28;63H[K[28;63H136,1[9C94%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;14H[38;5;130mif[m(lindx(ka)[38;5;130m>[m[31m0[m [38;5;130m.and.[m fracl [38;5;130m>[m [31m0[m) [38;5;130mthen[m[28;63H[K[28;63H135,1[9C93%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;14Hfraco [38;5;130m=[m fractions_a%Rattr(kof, n)[28;63H[K[28;63H134,1[9C93%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;14Hfracl [38;5;130m=[m fractions_a%Rattr(klf, n)[27;1H[94m@                                                                               [m[28;63H[K[28;63H133,1[9C92%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[38;5;130mdo[m n [38;5;130m=[m [31m1[m, lsize[28;63H[K[28;63H132,1[9C92%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[38;5;130mdo[m ka [38;5;130m=[m  [31m1[m, naflds[28;63H[K[28;63H131,1[9C91%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H130,0-1[7C90%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! -- then scale by fraction above[m[28;63H[K[28;63H129,1[9C90%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! If flux to atm is coming only from the land or ice or coupler[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H128,1[9C89%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! -- then scale by both ocean and ice fraction[m[28;63H[K[28;63H127,1[9C89%[1;1H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;6H[34m! If flux to atm is coming only from the ocean (based on field being in ocnn[2;1H2x_atm) -[m[28;63H[K[28;63H126,1[9C88%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H125,0-1[7C87%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[36mcall[m avect_copy(aVin[38;5;130m=[mocn2x_atm, aVout[38;5;130m=[mx2atm_atm, vector[38;5;130m=[mmct_usevector)[28;63H[K[28;63H124,1[9C86%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[36mcall[m avect_copy(aVin[38;5;130m=[mlnd2x_atm, aVout[38;5;130m=[mx2atm_atm, vector[38;5;130m=[mmct_usevector)[28;63H[K[28;63H123,1[9C85%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! (ocn2x_atm and x2atm_atm) and in (lnd2x_atm and x2atm_atm), etc.[m[28;63H[K[28;63H122,1[9C85%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! These are assumed to have the same name in [m[27;1H[94m@                                                                               [m[28;63H[K[28;63H121,1[9C84%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! Copy attributes that do not need to be merged[m[28;63H[K[28;63H120,1[9C84%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H119,0-1[7C83%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!end do[m[28;63H[K[28;63H118,1[9C82%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!    x2atm_atm%rAttr(index_x2a_Sf_ofrac,n) = fractions_atm%Rattr(kpf, n)[m[28;63H[K[28;63H117,1[9C82%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!    x2atm_atm%rAttr(index_x2a_Sf_lfrac,n) = fractions_atm%Rattr(klf, n)[m[28;63H[K[28;63H116,1[9C81%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!do n = 1,lsize[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H115,1[9C80%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!index_x2a_Sf_ofrac = avect_indexRA(x2atm_atm,'Sf_ofrac')[m[28;63H[K[28;63H114,1[9C80%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m!index_x2a_Sf_lfrac = avect_indexRA(x2atm_atm,'Sf_lfrac')[m[28;63H[K[28;63H113,1[9C80%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[27;1H[94m@                                                                               [m[28;63H[K[28;63H112,0-1[7C79%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6Hlsize [38;5;130m=[m avect_lsize(x2atm_atm)[28;63H[K[28;63H111,1[9C79%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! kof = avect_indexRA(fractions_a,'ofrac')[m[28;63H[K[28;63H110,1[9C78%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! klf = avect_indexRA(fractions_a,"lfrac")[m[28;63H[K[28;63H109,1[9C77%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! updata surface fractions[m[28;63H[K[28;63H108,1[9C76%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H107,0-1[7C76%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[36mcall[m avect_zero(x2atm_atm)[28;63H[K[28;63H106,1[9C75%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[34m! Zero attribute vector!![m[28;63H[K[28;63H105,1[9C74%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H104,1[9C74%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[38;5;130mend if[m[28;63H[K[28;63H103,1[9C73%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hfirst_time [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H102,1[9C72%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[38;5;130mend do[m[28;63H[K[28;63H101,1[9C71%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H100,1[9C71%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[36mtrim[m(itemc_atm),[36mtrim[m(itemc_lnd),[36mtrim[m(itemc_ocn)[28;63H[K[28;63H99,1[10C71%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(iamroot)[38;5;130mthen[m[28;63H[K[28;63H98,1[10C70%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H97,0-1[8C69%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(oindx(ka) [38;5;130m==[m [31m0[m) itemc_ocn [38;5;130m=[m [31m'unset'[m[28;63H[K[28;63H96,1[10C68%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(lindx(ka) [38;5;130m==[m [31m0[m) itemc_lnd [38;5;130m=[m [31m'unset'[m[28;63H[K[28;63H95,1[10C68%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend do[m[28;63H[K[28;63H94,1[10C67%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mend if[m[28;63H[K[28;63H93,1[10C66%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mexit[m[28;63H[K[28;63H92,1[10C65%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21Hoindx(ka) [38;5;130m=[m ko[28;63H[K[28;63H91,1[10C65%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mend if[m[28;63H[K[28;63H90,1[10C64%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H[38;5;130mif[m(field_ocn([31m1[m:[31m1[m) [38;5;130m==[m [31m'F'[m)omerge(ka) [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H89,1[10C63%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mif[m(([36mtrim[m(field_atm)[38;5;130m==[m[36mtrim[m(field_ocn)))[38;5;130mthen[m[28;63H[K[28;63H88,1[10C63%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m([36mtrim[m(itemc_atm) [38;5;130m==[m [36mtrim[m(itemc_ocn))[38;5;130mthen[m[28;63H[K[28;63H87,1[10C62%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[36mcall[m getfld(ko, ocn2x_atm, field_ocn, itemc_ocn)[28;63H[K[28;63H86,1[10C61%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mdo[m ko [38;5;130m=[m [31m1[m,noflds[28;63H[K[28;63H85,1[10C60%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H84,0-1[8C60%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend do[m[28;63H[K[28;63H83,1[10C59%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;18H[38;5;130mend if[m[28;63H[K[28;63H82,1[10C58%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mexit[m[28;63H[K[28;63H81,1[10C57%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21Hlindx(ka) [38;5;130m=[m kl[28;63H[K[28;63H80,1[10C57%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mend if[m[28;63H[K[28;63H79,1[10C56%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H[38;5;130mif[m(field_lnd([31m1[m:[31m1[m)[38;5;130m==[m[31m'F'[m)lmerge(ka)  [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H78,1[10C55%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mif[m(([36mtrim[m(field_atm)[38;5;130m==[m[36mtrim[m(field_lnd)))[38;5;130mthen[m[28;63H[K[28;63H77,1[10C55%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m ([36mtrim[m(itemc_atm) [38;5;130m==[m [36mtrim[m(itemc_lnd))[38;5;130mthen[m[28;63H[K[28;63H76,1[10C54%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[36mcall[m getfld(kl, lnd2x_atm, field_lnd, itemc_lnd)[28;63H[K[28;63H75,1[10C53%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mdo[m kl [38;5;130m=[m [31m1[m,klflds[28;63H[K[28;63H74,1[10C52%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H73,1[10C52%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[28;63H[K[28;63H72,1[10C51%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mcycle[m[28;63H[K[28;63H71,1[10C50%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m (field_atm([31m1[m:[31m1[m) [38;5;130m==[m [31m'S'[m [38;5;130m.and.[m field_atm([31m2[m:[31m2[m)[38;5;130m/=[m[31m'x'[m) [38;5;130mthen[m[28;63H[K[28;63H70,1[10C50%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[28;63H[K[28;63H69,1[10C49%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mcycle[m[28;63H[K[28;63H68,1[10C48%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m (field_atm([31m1[m:[31m2[m)[38;5;130m==[m[31m'PF'[m)[38;5;130mthen[m[28;63H[K[28;63H67,1[10C47%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[36mcall[m getfld(ka, x2atm_atm, field_atm, itemc_atm)[28;63H[K[28;63H66,1[10C47%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[38;5;130mdo[m ka [38;5;130m=[m [31m1[m, naflds[28;63H[K[28;63H65,1[10C46%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H64,0-1[8C45%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[34m! All fluxes will be multiplied by corresponding componet fraction[m[28;63H[K[28;63H63,1[10C44%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[34m! Only fluxes that are F??x_... will be merged[m[28;63H[K[28;63H62,1[10C44%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[34m! Only atm state that are Sx_... will be merged[m[28;63H[K[28;63H61,1[10C43%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[34m!  Field naming rules[m[28;63H[K[28;63H60,1[10C42%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H59,0-1[8C42%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Homerge(:) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H58,1[10C41%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hlmerge(:) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H57,1[10C40%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hoindx(:) [38;5;130m=[m [31m0[m[28;63H[K[28;63H56,1[10C39%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hlindx(:) [38;5;130m=[m [31m0[m[28;63H[K[28;63H55,1[10C39%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H54,1[10C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[38;5;130mallocate[m(oindx(naflds), omerge(naflds))[28;63H[K[28;63H53,1[10C37%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[38;5;130mallocate[m(lindx(naflds), lmerge(naflds))[28;63H[K[28;63H52,1[10C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H51,0-1[8C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hnoflds [38;5;130m=[m avect_nRattr(ocn2x_atm)[28;63H[K[28;63H50,1[10C35%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hklflds [38;5;130m=[m avect_nRattr(lnd2x_atm)[28;63H[K[28;63H49,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10Hnaflds [38;5;130m=[m avect_nRattr(x2atm_atm)[28;63H[K[28;63H48,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H47,1[10C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mif[m (first_time)[38;5;130mthen[m[28;63H[K[28;63H46,1[10C32%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H45,1[10C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hiamroot [38;5;130m=[m my_proc%iam_root [34m![m[28;63H[K[28;63H44,1[10C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H43,0-1[8C30%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m, [32msave[m[10C:: naflds, klflds, noflds[28;63H[K[28;63H42,1[10C29%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m, [32mpointer[m, [32msave[m :: lindx(:), oindx(:)[28;63H[K[28;63H41,1[10C28%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m    logical[m, [32mpointer[m, [32msave[m :: lmerge(:), omerge(:)[28;63H[K[28;63H40,1[10C28%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m    logical[m :: mct_usevector [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H39,1[10C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m    logical[m :: first_time [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H38,1[10C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m    logical[m :: iamroot[28;63H[K[28;63H37,1[10C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m    real[m   :: fracl, fraco[28;63H[K[28;63H36,1[10C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: lsize[28;63H[K[28;63H35,1[10C24%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: n, ka, kl, ko, kof, klf[28;63H[K[28;63H34,1[10C23%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H33,1[10C23%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_ocn[28;63H[K[28;63H32,1[10C22%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_lnd[28;63H[K[28;63H31,1[10C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: itemc_atm[28;63H[K[28;63H30,1[10C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_lnd[28;63H[K[28;63H29,1[10C20%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_ocn[28;63H[K[28;63H28,1[10C19%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mcharacter[m([32mlen[m[38;5;130m=[m[31m100[m) :: field_atm[28;63H[K[28;63H27,1[10C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H26,1[10C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: fractions_a[28;63H[K[28;63H25,1[10C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: lnd2x_atm[28;63H[K[28;63H24,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: ocn2x_atm[28;63H[K[28;63H23,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(AttrVect), [32mintent[m([32minout[m)  :: x2atm_atm[28;63H[K[28;63H22,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(proc), [32mintent[m([32minout[m)      :: my_proc[28;63H[K[28;63H21,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H20,0-1[8C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35msubroutine[m mrg_x2atm(my_proc, x2atm_atm, ocn2x_atm, lnd2x_atm, fractions_a)[28;63H[K[28;63H19,1[10C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H18,0-1[8C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mcontains[m[28;63H[K[28;63H17,1[10C11%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H16,0-1[8C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!public :: mrg_x2ocn[m[28;63H[K[28;63H15,1[10C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!public :: mrg_x2lnd[m[28;63H[K[28;63H14,1[11C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mpublic[m :: mrg_x2atm[28;63H[K[28;63H13,1[11C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!----------------------------------------------------[m[28;63H[K[28;63H12,1[11C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!   add user define subroutine[m[28;63H[K[28;63H11,1[11C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!----------------------------------------------------[m[28;63H[K[28;63H10,1[11C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H9,1[12C5%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H8,1[12C5%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H7,0-1[10C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m mpi_comm[28;63H[K[28;63H6,1[12C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m!use comms[m[28;63H[K[28;63H5,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m proc_def[28;63H[K[28;63H4,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m mct_mod[28;63H[K[28;63H3,1[12C1%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H2,0-1[10C0%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mmodule[m mrg_mod[28;63H[K[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"mrg_mod.F90" 165L, 5771C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/baseCpl/MrgSubroutine[root@test0 MrgSubroutine]# ls
fraction_mod.F90  makefile  mrg_mod.F90
]0;root@test0:/share/BCGen/baseCpl/MrgSubroutine[root@test0 MrgSubroutine]# cd ..
]0;root@test0:/share/BCGen/baseCpl[root@test0 baseCpl]# l;s
bash: l: æœªæ‰¾åˆ°å‘½ä»¤
bash: s: æœªæ‰¾åˆ°å‘½ä»¤
]0;root@test0:/share/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   [38;5;27minclude[0m   Makefile    [38;5;27mMrgSubroutine[0m  readme.md   [38;5;27mtransManage[0m
[38;5;27mdoc[0m        [38;5;27mlib[0m       [38;5;27mMCT[0m         netcf.nc       [38;5;34mrun.sh[0m      [38;5;27mutils[0m
file2.txt  [38;5;27mlogUtils[0m  [38;5;27mMCTWrapper[0m  plan           test.py
file.txt   [38;5;34mmain[0m      [38;5;27mmodel[0m       [38;5;27mprocManage[0m     [38;5;27mtimeManage[0m
]0;root@test0:/share/BCGen/baseCpl[root@test0 baseCpl]# cd ..
]0;root@test0:/share/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m  [38;5;27mBCGen[0m  [38;5;27mtestLib[0m
]0;root@test0:/share/BCGen[root@test0 BCGen]# cd BCGen/
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd baseCpl/[K[K[K[K[K[K[K[Ksrc
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd template/
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd baseC[K[K[K[K[K[K[K[KVIM[K[K[Kvim baseCpl)[K_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl_Template.F90" 372L, 13881C[>c[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[2;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[4;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[5;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[6;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[7;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[8;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[9;1H%rAttr([31m1[m,:)[10;13H#for $mgr_routine [32min[m $merge_subroutines[11;17H#set func_str [38;5;130m=[m $mgr_routine.toString($mgr_routine.[38;5;130mname[m, $mgr_roo[12;1Hutine.argList)[13;17H[36mcall[m ${mgr_routine.toString($mgr_routine.[38;5;130mname[m,$mgr_routine.argLii[14;1Hst)}[15;13H#[35mend[m for[16;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[17;9H[38;5;130mendif
[m    [38;5;130mendif[20;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[26;5H[32mimplicit[m [32mnone[m[28;63H333,17[8C92%[13;17H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H2[11;17H[?12l[?25h[?25l[28;65H1[10;17H[?12l[?25h[?25l[28;65H0[8;17H[?12l[?25h[?25l[28;64H29[7;17H[?12l[?25h[?25l[28;64H30[8;17H[?12l[?25h[?25l[28;65H1[10;17H[?12l[?25h[?25l[28;65H2[11;17H[?12l[?25h[?25l[28;68H6[11;16H[?12l[?25h[?25l[28;68H5[11;15H[?12l[?25h[?25l[28;68H4[11;14H[?12l[?25h[?25l[28;68H3[11;13H[?12l[?25h[?25l[28;65H1[10;13H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H331,13[8C92%[10;13H[?12l[?25h[?25l[34m!#for $mgr_routine in $merge_subroutines[m[28;68H4[10;14H[?12l[?25h[?25l[28;65H2[11;14H[?12l[?25h[?25l[28;68H3[11;13H[?12l[?25h[?25l[34m!    #set func_str = $mgr_routine.toString($mgr_routine.name, $mgr_rr[12;1Houtine.argList)[m[28;68H4[11;14H[?12l[?25h[?25l[28;65H3[13;14H[?12l[?25h[?25l[28;65H4[15;14H[?12l[?25h[?25l[28;65H3[13;14H[?12l[?25h[?25l[28;68H3[13;13H[?12l[?25h[?25l[34m!    call ${mgr_routine.toString($mgr_routine.name,$mgr_routine.argLL[14;1Hist)}[m[28;68H4[13;14H[?12l[?25h[?25l[28;65H4[15;14H[?12l[?25h[?25l[28;68H3[15;13H[?12l[?25h[?25l[34m!#end for[m[28;68H4[15;14H[?12l[?25h[?25l#[35mend[m for[15;21H[K[28;68H3[15;13H[?12l[?25h[?25l[28;65H3[13;13H[?12l[?25h[?25l[28;68H4[13;14H[?12l[?25h[?25l    [36mcall[m ${mgr_routine.toString($mgr_routine.[38;5;130mname[m,$mgr_routine.argLii[14;1Hst)}[14;5H[K[28;68H3[13;13H[?12l[?25h[?25l[28;65H2[11;13H[?12l[?25h[?25l[28;68H4[11;14H[?12l[?25h[?25l    #set func_str [38;5;130m=[m $mgr_routine.toString($mgr_routine.[38;5;130mname[m, $mgr_roo[12;1Hutine.argList)[12;15H[K[28;68H3[11;13H[?12l[?25h[?25l[28;65H1[10;13H[?12l[?25h[?25l[28;68H4[10;14H[?12l[?25h[?25l#for $mgr_routine [32min[m $merge_subroutines[10;52H[K[28;68H3[10;13H[?12l[?25h[?25l[28;65H2[11;13H[?12l[?25h[?25l[28;65H3[13;13H[?12l[?25h[?25l[28;65H4[15;13H[?12l[?25h[?25l[28;65H3[13;13H[?12l[?25h[?25l[34m!    call ${mgr_routine.toString($mgr_routine.name,$mgr_routine.argLL[14;1Hist)}[m[28;68H4[13;14H[?12l[?25h[28;1H[K[13;13H[?25l[28;63H333,13[8C92%[13;13H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hW[?25l[?12l[?25hQ[?25l[?12l[?25h[?25l[97m[41mE492: ä¸æ˜¯ç¼–è¾‘å™¨çš„å‘½ä»¤: WQ[m[36C333,13[8C92%[13;13H[?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25h...[?25l:![28;3H[K[28;3H[?12l[?25h[?25l[28;2H[K[28;2H[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl_Template.F90" 372L, 13882C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# l[Kcd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd sf[Kcripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./BCGen.sh 1
./BCGen.sh:è¡Œ5: proc_def.F90: æœªæ‰¾åˆ°å‘½ä»¤
0
haha
haha
haha
haha
...................model parsed...................
ocn2x_ocnx
lnd2x_lndx
a2x_ax
b2x_bx
a2x_ax
..............couple AttrVect parsed..............
{'a': <ir.Model object at 0x7f3baabd5950>, 'lnd': <ir.Model object at 0x7f3baabd5c50>, 'b': <ir.Model object at 0x7f3baabd5a10>, 'atm': <ir.Model object at 0x7f3baabd5b90>, 'ocn': <ir.Model object at 0x7f3baabd5d10>}
a
b
atm
lnd
ocn
..................deploy parsed...................
<type 'dict'>
6
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
/usr/lib/python2.7/site-packages/Cheetah/Compiler.py:1509: UserWarning: 
You don't have the C version of NameMapper installed! I'm disabling Cheetah's useStackFrames option as it is painfully slow with the Python version of NameMapper. You should get a copy of Cheetah with the compiled C version of NameMapper.
  "\nYou don't have the C version of NameMapper installed! "
vnn
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
eee
check baseCpl in directory: /share/BCGen/BCGen/baseCpl
/share/BCGen/BCGen/src/template
code moved
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./baseCpl.mae[Kkje[K[Ke.sh 
/share/BCGen/BCGen/baseCpl
atm lnd model1 model2 model3 ocn
make -C MCTWrapper
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
mpif90 -I/usr/local/include -c mct_mod.F90 -lmct -lmpeu
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
make -C data_def
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
mpif90 -I/usr/local/include -I/usr/local/lib -I../include -c comms_def.F90 proc_def.F90 -lmct -lmpeu -lmctm
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
make -C timeManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
mpif90  -c timeM.F90
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
make -C	transManage 
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
extend.F90:560.51:

subroutine write_netcdf(my_proc, ID, log_path, time, AV, gsMap_AV)
                                                   1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:501.48:

    integer :: comm_rank, mpi_comm, nlseg, gsize, ierr 
                                                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜gsizeâ€™
extend.F90:492.58:

subroutine read_netcdf(my_proc, ID, check_point_path, time, AV, gsMap_AV)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:470.50:

subroutine log_run_msg(my_proc, ID, log_path, time)
                                                  1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:436.13:

    integer i, ierr, comm_rank, comm_size, j
             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:436.44:

    integer i, ierr, comm_rank, comm_size, j
                                            1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜jâ€™
extend.F90:383.56:

subroutine save_model_av(my_proc, AV, gsMap_AV, ID, time)
                                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:337.20:

    integer pid_in_d,ier, rank_s, rank_d, srank, rrank
                    1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜pid_in_dâ€™
extend.F90:82.14:

    integer  i,j,status,ier,rank_s,rank_d,srank,rrank
              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:80.30:

    integer, pointer :: pei(:), peo(:)
                              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peiâ€™
extend.F90:80.38:

    integer, pointer :: pei(:), peo(:)
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peoâ€™
extend.F90:78.22:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜procs_iâ€™
extend.F90:78.38:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rank_in_comm_iâ€™
extend.F90:51.75:

subroutine avect_init_ext(my_proc, AV_s, ID_s, AV_d, ID_d, gsMap_d, ID_join)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜id_joinâ€™
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.o comms.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
comms.F90:192.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:192.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:179.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:179.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:129.58:

subroutine mapper_comp_map(mapper, src, dst, msgtag,  ierr, rList)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:37.94:

earrsplit_init(mapper, my_proc, gsmap_s, ID_s, gsmap_d, ID_d, ID_join, ierr)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:23.39:

subroutine mapper_init_nil(mapper, ierr)
                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
gfortran: è­¦å‘Šï¼šextend.oï¼šæœªä½¿ç”¨é“¾æ¥å™¨è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºé“¾æ¥å°šæœªå®Œæˆ
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
make -C procManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
mpif90 -I../include -I/usr/local/include -c deploy_mod.F90 mpi_comm.F90  manage.F90 -lmct -lmpeu -lmctm -lcomm -ldata_def 
deploy_mod.F90:134.71:

subroutine deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:67.65:

                  comp_id, cpl_id, id_join, iam_in, pattern, ierr)
                                                                 1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:86.22:

    integer    :: rank  
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rankâ€™
deploy_mod.F90:22.71:

subroutine deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mpi_comm.F90:56.45:

subroutine iam_comm_root(comm, iam_root, ierr)
                                             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
make models
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
mpif90 -c comp_atm.F90 -I../../include
comp_atm.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_atm.F90:149.42:

subroutine atm_run_mct(my_proc, ID, EClock, atm2x, x2atm, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_atm.F90:26.43:

subroutine atm_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
mpif90 -c comp_lnd.F90 -I../../include
comp_lnd.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_lnd.F90:149.42:

subroutine lnd_run_mct(my_proc, ID, EClock, lnd2x, x2lnd, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_lnd.F90:26.43:

subroutine lnd_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
mpif90 -c comp_a.F90 -I../../include
comp_a.F90:65.40:

subroutine a_run_mct(my_proc, ID, EClock, a2x, x2a, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_a.F90:23.41:

subroutine a_init_mct(my_proc, ID, EClock, gsMap_aa, a2x_aa, x2a_aa, ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
mpif90 -c comp_b.F90 -I../../include
comp_b.F90:64.40:

subroutine b_run_mct(my_proc, ID, EClock, b2x, x2b, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_b.F90:23.41:

subroutine b_init_mct(my_proc, ID, EClock, gsMap_bb, b2x_bb, x2b_bb,ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
mpif90 -c comp_c.F90 -I../../include
comp_c.F90:50.27:

    gsize = my_proc%c_gsize
                           1
é”™è¯¯ï¼š â€˜c_gsizeâ€™åœ¨(1)å¤„ä¸æ˜¯â€˜procâ€™ç»“æ„çš„æˆå‘˜
make[1]: *** [comp_c.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
mpif90 -c comp_ocn.F90 -I../../include
comp_ocn.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_ocn.F90:149.42:

subroutine ocn_run_mct(my_proc, ID, EClock, ocn2x, x2ocn, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_ocn.F90:26.43:

subroutine ocn_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
/share/BCGen/BCGen/baseCpl
end make models
ar rcs libbcpl.a ./include/*.o
rm ./include/*.o
mv libbcpl.a ./lib 	
make -C ./model/cpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mpif90 -c  baseCpl.F90 -I../../include -I./ -I/usr/local/netcdf-fortran/include
baseCpl.F90:62.1:

  logical :: a_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:63.1:

  logical :: lnd_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:64.1:

  logical :: b_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:65.1:

  logical :: atm_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:66.1:

  logical :: ocn_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:740.9:

        )
         1
é”™è¯¯ï¼š (1)å¤„çš„åå­—ä¸­æœ‰éæ³•å­—ç¬¦
make[1]: *** [baseCpl.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
make: *** [all] é”™è¯¯ 2
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd src
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd template/
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 775L, 32293C[>c[1;9H[34m! (c2x_ax,b2x_ax,a2x_ax) => (x2a_ax)[2;9H! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[3;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[5;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[6;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[7;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[8;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[9;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[10;1H%rAttr([31m1[m,:)[11;13H[34m!    call mrg_x2a(my_proc, x2a_ax, b2x_ax)[12;13H!    call mrg_x2b(my_proc, x2b_bx, a2x_bx)[13;13H!    call mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[14;13H!    call mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, &[m[15;9H[97m[101m)[m[16;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[17;9H[38;5;130mendif
[m    [38;5;130mendif[20;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[26;5H[32mimplicit[m [32mnone[m[28;63H739,13[8C96%[14;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H40,9 [15;9H[?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 775L, 32293C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd [K[K[Kvim baseCpl_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl_Template.F90" 372L, 13882C[>c[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[2;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[4;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[5;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[6;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[7;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[8;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[9;1H%rAttr([31m1[m,:)[10;13H#for $mgr_routine [32min[m $merge_subroutines[11;17H#set func_str [38;5;130m=[m $mgr_routine.toString($mgr_routine.[38;5;130mname[m, $mgr_roo[12;1Hutine.argList)[13;13H[34m!    call ${mgr_routine.toString($mgr_routine.name,$mgr_routine.argLL[14;1Hist)}[m[15;13H#[35mend[m for[16;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[17;9H[38;5;130mendif
[m    [38;5;130mendif[20;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[26;5H[32mimplicit[m [32mnone[m[28;63H333,13[8C92%[13;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H4[15;13H[?12l[?25h[?25l[28;65H5[16;13H[?12l[?25h[?25l[28;65H4[15;13H[?12l[?25h[?25l[28;65H3[13;13H[?12l[?25h[?25l[28;65H2[11;13H[?12l[?25h[?25l[28;65H1[10;13H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H331,13[8C92%[10;13H[?12l[?25h[?25l[34m!#for $mgr_routine in $merge_subroutines[m[28;68H4[10;14H[?12l[?25h[?25l#for $mgr_routine [32min[m $merge_subroutines[10;52H[K[28;68H3[10;13H[?12l[?25h[?25l[34m!#for $mgr_routine in $merge_subroutines[m[28;68H4[10;14H[?12l[?25h[?25l[28;65H2[11;14H[?12l[?25h[?25l[28;68H3[11;13H[?12l[?25h[?25l[34m!    #set func_str = $mgr_routine.toString($mgr_routine.name, $mgr_rr[12;1Houtine.argList)[m[28;68H4[11;14H[?12l[?25h[?25l[28;65H3[13;14H[?12l[?25h[?25l[28;65H4[15;14H[?12l[?25h[?25l[28;65H5[16;14H[?12l[?25h[?25l[28;65H4[15;14H[?12l[?25h[?25l[28;68H3[15;13H[?12l[?25h[?25l[34m!#end for[m[28;68H4[15;14H[?12l[?25h[28;1H[K[15;13H[?25l[28;63H334,13[8C92%[15;13H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hW[?25l[?12l[?25hQ[?25l[?12l[?25h[?25l[97m[41mE492: ä¸æ˜¯ç¼–è¾‘å™¨çš„å‘½ä»¤: WQ[m[36C334,13[8C92%[15;13H[?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl_Template.F90" 372L, 13885C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# python main.p[[Ky 
haha
haha
haha
haha
...................model parsed...................
ocn2x_ocnx
lnd2x_lndx
a2x_ax
b2x_bx
a2x_ax
..............couple AttrVect parsed..............
{'a': <ir.Model object at 0x7f0c9d1c1950>, 'lnd': <ir.Model object at 0x7f0c9d1c1c50>, 'b': <ir.Model object at 0x7f0c9d1c1a10>, 'atm': <ir.Model object at 0x7f0c9d1c1b90>, 'ocn': <ir.Model object at 0x7f0c9d1c1d10>}
a
b
atm
lnd
ocn
..................deploy parsed...................
<type 'dict'>
6
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
/usr/lib/python2.7/site-packages/Cheetah/Compiler.py:1509: UserWarning: 
You don't have the C version of NameMapper installed! I'm disabling Cheetah's useStackFrames option as it is painfully slow with the Python version of NameMapper. You should get a copy of Cheetah with the compiled C version of NameMapper.
  "\nYou don't have the C version of NameMapper installed! "
vnn
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
eee
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 784L, 32435C[>c[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[2;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[4;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[5;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[6;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[7;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[8;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[9;1H%rAttr([31m1[m,:)[10;13H[34m![11;13H!    [12;13H!    call mrg_x2a(my_proc, x2a_ax, b2x_ax)[13;13H![14;13H!    [15;13H!    call mrg_x2b(my_proc, x2b_bx, a2x_bx)[16;13H![17;13H!    [18;13H!    call mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[19;13H![20;13H!    [21;13H!    call mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, &[m[22;9H[97m[101m)[m[23;13H[34m![m[24;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[25;9H[38;5;130mendif
[m    [38;5;130mendif[m[28;63H740,13[8C95%[14;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 784L, 32435C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd ..[K[K[K[K[Kvim searchSet_Template.py 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"searchSet_Template.py" 231L, 6660C[>c[1;9Hself.mix = mix[2;9Hself.space = [31m24[m*[31m" "[m
    [38;5;130mdef[m [36mgetName[m(self):[4;9H[38;5;130mreturn[m [31m"rr34"[m
    [38;5;130mdef[m [36mgetFuncFormat[m(self):[6;9Hres = [][7;9H[38;5;130mif[m self.mix:[8;13H[38;5;130mfor[m routine [38;5;130min[m self.subroutine:[9;17Hres.append(routine.getFuncFormat())[10;9H[38;5;130melse[m:[11;13Hargs = [][12;13Hl = [36mlen[m(self.params)[13;13Hindx = [31m0[m[14;13H[38;5;130mfor[m key [38;5;130min[m [36msorted[m(self.params):[15;17Hindx = indx+[31m1[m[16;17Hitem = key + [31m'='[m + self.params[key] +[31m'&[m[35m\n[m[31m'[m[17;17H[38;5;130mif[m key == [31m'rList'[m:[18;21Hitem = key + [31m'=[m[35m\'[m[31m'[m + params[key]+ [31m'[m[35m\'[m[31m&[m[35m\n[m[31m'[m[19;17H[38;5;130mif[m indx == l:[20;21Hitem = key + [31m'='[m + self.params[key][21;17Hargs.append([36mstr[m(item))[22;13Hargs = (self.space+[31m","[m).join(args)[23;13Hfunc_str = [31m"call "[m+ self.funcname + [31m"("[m + args +[31m")"[m[24;13H[34m#str_len = len(func_str) / 2[25;13H#func_str = func_str[:str_len] + '&\n' + func_str[str_len:][m[27;13Hres.append(func_str)[28;63H39,13[10C5%[27;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H8,0-1[26;1H[?12l[?25h[?25l[28;64H7,13 [25;13H[?12l[?25h[?25l[28;64H6[24;13H[?12l[?25h[?25l[28;64H5[23;13H[?12l[?25h[?25l[28;64H4[22;13H[?12l[?25h[?25l[28;64H3[21;13H[?12l[?25h[?25l[28;64H2[20;13H[?12l[?25h[?25l[28;64H1[19;13H[?12l[?25h[?25l[28;64H0[18;13H[?12l[?25h[?25l[28;63H29[17;13H[?12l[?25h[?25l[28;64H8[16;13H[?12l[?25h[?25l[28;64H7[15;13H[?12l[?25h[?25l[28;64H6[14;13H[?12l[?25h[?25l[28;64H5[13;13H[?12l[?25h[?25l[28;64H4[12;13H[?12l[?25h[?25l[28;64H3[11;13H[?12l[?25h[?25l[28;64H2[10;13H[?12l[?25h[?25l[28;64H1[9;13H[?12l[?25h[?25l[28;64H0[8;13H[?12l[?25h[?25l[28;63H19[7;13H[?12l[?25h[?25l[28;64H8[6;13H[?12l[?25h[?25l[28;64H7[5;13H[?12l[?25h[?25l[28;64H6[4;13H[?12l[?25h[?25l[28;64H5[3;13H[?12l[?25h[?25l[28;64H4[2;13H[?12l[?25h[?25l[28;64H3[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.params = params[28;1H[K[28;63H12,13[10C5%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.funcname = funcname[28;63H[K[28;63H11,13[10C4%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.subroutine = subroutine[28;63H[K[28;63H10,13[10C4%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.a = [31m"333"[m[28;63H[K[28;63H9,13[11C3%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36m__init__[m(self, funcname=[31m""[m, params=[31m""[m, mix=[36mFalse[m, subroutine=[]):[28;63H[K[28;63H8,13[11C3%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H}[28;63H[K[28;63H7,5[12C2%[1;5H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H6,4[12C2%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparams = {[28;63H[K[28;63H5,13[11C1%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hfuncname = [31m""[m[28;63H[K[28;63H4,13[11C1%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hsubroutine = [][28;63H[K[28;63H3,13[11C0%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmix = [36mFalse[m[28;63H[K[28;63H2,13[11C0%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;130mclass[m [36mTemp[m:[28;63H[K[28;63H1,11[9Cé¡¶ç«¯[1;11H[?12l[?25h[?25l[28;63H2,13[2;13H[?12l[?25h[?25l[28;63H3[3;13H[?12l[?25h[?25l[28;63H4[4;13H[?12l[?25h[?25l[28;63H5[5;13H[?12l[?25h[?25l[28;63H6,4 [6;4H[?12l[?25h[?25l[5;14H[106m{[7;5H}[m[28;63H7,5[7;5H[?12l[?25h[?25l[5;14H{[7;5H}[28;63H8,13[8;13H[?12l[?25h[?25l[28;63H9[9;13H[?12l[?25h[?25l[28;63H10,13[10;13H[?12l[?25h[?25l[28;64H1[11;13H[?12l[?25h[?25l[28;64H2[12;13H[?12l[?25h[?25l[28;64H3[13;13H[?12l[?25h[?25l[28;64H4[14;13H[?12l[?25h[?25l[28;64H5[15;13H[?12l[?25h[?25l[28;64H6[16;13H[?12l[?25h[?25l[28;64H7[17;13H[?12l[?25h[?25l[28;64H8[18;13H[?12l[?25h[?25l[28;64H9[19;13H[?12l[?25h[?25l[28;63H20[20;13H[?12l[?25h[?25l[28;64H1[21;13H[?12l[?25h[?25l[28;64H2[22;13H[?12l[?25h[?25l[28;64H3[23;13H[?12l[?25h[?25l[28;64H4[24;13H[?12l[?25h[?25l[28;64H5[25;13H[?12l[?25h[?25l[28;64H6[26;13H[?12l[?25h[?25l[28;64H7[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hitem = key + [31m'='[m + self.params[key] +[31m'&[m[35m\n[m[31m'[m[28;63H[K[28;63H28,13[10C0%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mif[m key == [31m'rList'[m:[28;63H[K[28;63H29,13[10C0%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21Hitem = key + [31m'=[m[35m\'[m[31m'[m + params[key]+ [31m'[m[35m\'[m[31m&[m[35m\n[m[31m'[m[28;63H[K[28;63H30,13[10C1%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[38;5;130mif[m indx == l:[28;63H[K[28;63H31,13[10C1%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21Hitem = key + [31m'='[m + self.params[key][28;63H[K[28;63H32,13[10C2%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hargs.append([36mstr[m(item))[28;63H[K[28;63H33,13[10C2%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hargs = (self.space+[31m","[m).join(args)[28;63H[K[28;63H34,13[10C3%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hfunc_str = [31m"call "[m+ self.funcname + [31m"("[m + args +[31m")"[m[28;63H[K[28;63H35,13[10C3%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[34m#str_len = len(func_str) / 2[m[28;63H[K[28;63H36,13[10C4%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[34m#func_str = func_str[:str_len] + '&\n' + func_str[str_len:][m[28;63H[K[28;63H37,13[10C4%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H38,0-1[9C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hres.append(func_str)[28;63H[K[28;63H39,13[10C5%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mreturn[m [31m"[m[35m\n[m[31m"[m.join(res)[28;63H[K[28;63H40,13[10C6%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H41,0-1[9C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#for $model in $models[m[28;63H[K[28;63H42,13[10C7%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $model_name = $model.name[m[28;63H[K[28;63H43,13[10C7%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $avs = $model.attrVects[m[28;63H[K[28;63H44,13[10C8%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $c2x_cc = $avs['c2x_cc'][m[28;63H[K[28;63H45,13[10C8%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $c2x_cx = $avs['c2x_cx'][m[28;63H[K[28;63H46,13[10C9%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $x2c_cc = $avs['x2c_cc'][m[28;63H[K[28;63H47,13[10C9%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $x2c_cx = $avs['x2c_cx'][m[28;63H[K[28;63H48,13[9C10%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $mapper_c2x = $model.mappers['c2x'][m[28;63H[K[28;63H49,13[9C10%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $mapper_x2c = $model.mappers['x2c'][m[28;63H[K[28;63H50,13[9C11%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hmethod_name = [31m'${model_name}_init_mct'[m[28;63H[K[28;63H51,13[9C11%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hparams = {[28;63H[K[28;63H52,10[9C12%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'my_proc'[m:[31m'my_proc'[m,[28;63H[K[28;63H53,13[9C12%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'ID'[m:[31m'my_proc%model${model_name}_id'[m,[28;63H[K[28;63H54,13[9C13%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'EClock'[m:[31m'EClock'[m,[28;63H[K[28;63H55,13[9C13%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'gsMap_${model_name}${model_name}'[m:[31m'gsMap_${model_name}${model_name}'[m,[28;63H[K[28;63H56,13[9C14%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'${c2x_cc.name}'[m:[31m'${c2x_cc.name}'[m,[28;63H[K[28;63H57,13[9C14%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'${x2c_cc.name}'[m:[31m'${x2c_cc.name}'[m,[28;63H[K[28;63H58,13[9C15%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[31m'ierr'[m:[31m'ierr'[m[28;63H[K[28;63H59,13[9C15%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[19;10H[106m{[27;5H}[m[28;63H[K[28;63H60,5[10C16%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[18;10H{[26;5H}
$[106m{[mmodel_name[106m}[m_init = Temp(funcname=method_name, params=params)[28;63H[K[28;63H61,13[9C16%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[26;2H{[10C}[28;63H[K[28;63H62,0-1[8C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#end for[m[28;63H[K[28;63H63,8[10C17%[27;8H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H64,0-1[8C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#for $j, $model in enumerate($models)[m[28;63H[K[28;63H65,13[9C18%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $model_name = $model.name[m[28;63H[K[28;63H66,13[9C19%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $avs = $model.attrVects[m[28;63H[K[28;63H67,13[9C19%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $c2x_cc = $avs['c2x_cc'][m[28;63H[K[28;63H68,13[9C20%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $c2x_cx = $avs['c2x_cx'][m[28;63H[K[28;63H69,13[9C20%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $x2c_cc = $avs['x2c_cc'][m[28;63H[K[28;63H70,13[9C21%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $x2c_cx = $avs['x2c_cx'][m[28;63H[K[28;63H71,13[9C21%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $comps = ['a', 'b', 'c'][m[28;63H[K[28;63H72,13[9C22%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $mapper_c2x = $model.mappers['c2x'][m[28;63H[K[28;63H73,13[9C22%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m#set $mapper_x2c = $model.mappers['x2c'][m[28;63H[K[28;63H74,13[9C23%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hmethod_name=[31m'mapper_comp_map'[m[28;63H[K[28;63H75,13[9C23%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hparams = {[28;63H[K[28;63H76,10[9C24%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'mapper'[m:[31m'my_proc%${mapper_x2c.name}'[m,[28;63H[K[28;63H77,13[9C24%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'src'[m:[31m'$[m[31m[106m{[m[31mx2c_cx.name[m[31m[106m}[m[31m'[m,[28;63H[K[28;63H78,13[9C25%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[26;13H[31m{[11C}
[m    [31m'dst'[m:[31m'$[m[31m[106m{[m[31mx2c_cc.name[m[31m[106m}[m[31m'[m,[28;63H[K[28;63H79,13[9C25%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[26;13H[31m{[11C}
[m    [31m'msgtag'[m:[31m'100+${j}0+2'[m,[28;63H[K[28;63H80,13[9C25%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'ierr'[m:[31m'ierr'[m,[28;63H[K[28;63H81,13[9C26%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[21;10H[106m{[27;1H}[m[28;63H[K[28;63H82,1[10C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[20;10H{[26;1H}
$[106m{[mmodel_name[106m}[m_run_phase1 = Temp(funcname=method_name, params=params)[28;63H[K[28;63H83,13[9C27%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[26;2H{[10C}[28;63H[K[28;63H84,0-1[8C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hmethod_name = [31m'${model_name}_run_mct'[m[28;63H[K[28;63H85,13[9C28%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hparams = {[28;63H[K[28;63H86,10[9C28%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'my_proc'[m:[31m'my_proc'[m,[28;63H[K[28;63H87,13[9C29%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'ID'[m:[31m'my_proc%model${model_name}_id'[m,[28;63H[K[28;63H88,13[9C29%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'EClock'[m:[31m'EClock'[m,[28;63H[K[28;63H89,13[9C30%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'${model_name}2x'[m:[31m'${c2x_cc.name}'[m,[28;63H[K[28;63H90,13[9C30%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'x2${model_name}'[m:[31m'${x2c_cc.name}'[m,[28;63H[K[28;63H91,13[9C31%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[31m'ierr'[m:[31m'ierr'[m[28;63H[K[28;63H92,13[9C31%[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[20;10H[106m{[27;1H}[m[28;63H[K[28;63H93,1[10C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[19;10H{[26;1H}
$[106m{[mmodel_name[106m}[m_run_phase2 = Temp(funcname=method_name, params=params)[28;63H[K[28;63H94,13[9C32%[27;13H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"searchSet_Template.py" 231L, 6660C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd base[K[K[K[K[K[K[Kcd src
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# kls
bash: kls: æœªæ‰¾åˆ°å‘½ä»¤
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd irt[K
]0;root@test0:/share/BCGen/BCGen/src/ir[root@test0 ir]# ls
__init__.py  ir.py  ir.pyc  NameManager.py  NameManager.pyc
]0;root@test0:/share/BCGen/BCGen/src/ir[root@test0 ir]# vim r[Kir.py
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"ir.py" 519L, 14541C[>c[1;1H[34m#
#    Intermediate representation : include Subroutine class and child class Modee[3;1HlSubroutine
#    class MergeSubroutine; CoupleEntity Class, its child class Model, AttrVect,,[5;1H sMat, Mapper,
#    gsMap, parser  parses xml and generates the intermediate representation 
#
#    reversion history:
#        2018,3,3              alex: add the module
#        2018,3,27             alex: finish version v0.0
#!/usr/bin/python

# intermediate representation[m
[35mimport[m sys
sys.path.append([31m"../ErrorHandle"[m)
[35mfrom[m ErrorHandle [35mimport[m *


[38;5;130mclass[m [36mSubroutine[m([36mobject[m):
    __slots__=[[31m'__subroutineName'[m,[31m'__argList'[m, [31m'__lineCharacter'[m]
    [38;5;130mdef[m [36m__init__[m(self, subroutineName=[31m"func"[m,argList=[], lineCharacter=[31m50[m):[22;9Hself.__subroutineName = subroutineName[23;9Hself.__argList = argList[24;9Hself.__lineCharacter = lineCharacter[26;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36mname[m(self):[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[27m[m[H[2J[1;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36msrcModel[m(self):[3;9H[38;5;130mreturn[m self.__srcModel[5;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36mdstModel[m(self):[7;9H[38;5;130mreturn[m self.__dstModel

[38;5;130mclass[m [36mFraction[m(AttrVect):
    __slots__=[[31m"__name"[m,[31m"__field"[m,[31m"__initSubroutine"[m]
    [38;5;130mdef[m [36m__init__[m(self,fractionName):[12;9Hself.__name=[31m""[m[13;9H[36msuper[m(AttrVect,self).__init__(name=fractionName)[14;9Hself.__name=fractionName[15;9HsubroutineName = self.__name+[31m"_init"[m[16;9Hself.__initSubroutine =  Subroutine(subroutineName=subroutineName)[18;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36minit[m(self):[20;9H[38;5;130mreturn[m self.__initSubroutine[22;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36mname[m(self):[24;9H[38;5;130mreturn[m self.__name[26;5H[38;5;130mdef[m [36mappend[m(self, args):[27;9Hself.__initSubroutine.append(args)[28;63H519,9[8Cåº•ç«¯[27;9H[?12l[?25h[?25l[27m[m[H[2J[1;1H[34m#
#    Intermediate representation : include Subroutine class and child class Modee[3;1HlSubroutine
#    class MergeSubroutine; CoupleEntity Class, its child class Model, AttrVect,,[5;1H sMat, Mapper,
#    gsMap, parser  parses xml and generates the intermediate representation 
#
#    reversion history:
#        2018,3,3              alex: add the module
#        2018,3,27             alex: finish version v0.0
#!/usr/bin/python

# intermediate representation[m
[35mimport[m sys
sys.path.append([31m"../ErrorHandle"[m)
[35mfrom[m ErrorHandle [35mimport[m *


[38;5;130mclass[m [36mSubroutine[m([36mobject[m):
    __slots__=[[31m'__subroutineName'[m,[31m'__argList'[m, [31m'__lineCharacter'[m]
    [38;5;130mdef[m [36m__init__[m(self, subroutineName=[31m"func"[m,argList=[], lineCharacter=[31m50[m):[22;9Hself.__subroutineName = subroutineName[23;9Hself.__argList = argList[24;9Hself.__lineCharacter = lineCharacter[26;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36mname[m(self):[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25h[?25l[28;63H2[2;1H[?12l[?25h[?25l[28;63H3[4;1H[?12l[?25h[?25l[28;63H4[6;1H[?12l[?25h[?25l[28;63H5[7;1H[?12l[?25h[?25l[28;63H6[8;1H[?12l[?25h[?25l[28;63H7[9;1H[?12l[?25h[?25l[28;63H8[10;1H[?12l[?25h[?25l[28;63H9[11;1H[?12l[?25h[?25l[28;63H10,0-1[12;1H[?12l[?25h[?25l[28;64H1,1  [13;1H[?12l[?25h[?25l[28;64H2[14;1H[?12l[?25h[?25l[28;64H3[15;1H[?12l[?25h[?25l[28;64H4[16;1H[?12l[?25h[?25l[28;64H5,0-1[17;1H[?12l[?25h[?25l[28;64H6[18;1H[?12l[?25h[?25l[28;64H7,1  [19;1H[?12l[?25h[?25l[28;64H8[20;1H[?12l[?25h[?25l[28;64H9[21;1H[?12l[?25h[?25l[28;63H20,1-8[22;8H[?12l[?25h[?25l[28;63H[K[28;1H/[?12l[?25hM[?25l[?12l[?25hr[?25l[?12l[?25hg[?25l[?12l[?25h[?25l[27m[m[H[2J[1;9H[38;5;130melse[m:[2;13Hstring = string[:-[31m2[m][3;13Hstring += [31m")"[m[4;9H[38;5;130mreturn[m string

[38;5;130mclass[m [36mMergeSubroutine[m(Subroutine):
    __slots__=[[31m"__name"[m,[31m"default"[m,[31m"__argList"[m,[31m"__subroutineName"[m, [31m"__atype"[m, [31m"___[8;1HlineCharacter"[m]
    [38;5;130mdef[m [36m__init__[m(self, subroutineName=[31m"mrg"[m, pattern=[36mTrue[m, name=[31m""[m):[10;9H[36msuper[m(MergeSubroutine, self).__init__()[11;9Hself.__name = name[12;9Hself.__subroutineName = [36mstr[m(self.__name)[13;9Hself.__argList = [][14;9Hself.__atype = [31m"[m[31m[103mMrg[m[31m"[m[15;9Hself.__lineCharacter = [31m50[m[17;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36mname[m(self):[19;9H[38;5;130mreturn[m self.__subroutineName[21;5H[35m@[m[36mproperty[m
    [38;5;130mdef[m [36matype[m(self):[23;9H[38;5;130mreturn[m self.__atype
    [34m#def append(self, arg):
[m    [34m#    super(MergerSubroutine, self).append(arg)[27;5H#def toString(self):[m[28;63H68,25[9C11%[14;25H[?12l[?25h[?25l[28;63H[K[28;1H/[?12l[?25h/[?25l[?12l[?25h[?25l[28;2H[K[28;2H[?12l[?25h [?25l[61C68,25[9C11%[14;25H[?12l[?25h[?25l[28;64H9[15;25H[?12l[?25h[?25l[28;63H70,0-1[16;1H[?12l[?25h[?25l[28;64H1,13 [17;13H[?12l[?25h[?25l[28;64H2,20[18;20H[?12l[?25h[?25l[28;64H3,25[19;25H[?12l[?25h[?25l[28;64H4,1 [20;1H[?12l[?25h[?25l[28;64H5,13[21;13H[?12l[?25h[?25l[28;64H6,20[22;20H[?12l[?25h[?25l[28;64H7,25[23;25H[?12l[?25h[?25l[28;64H8[24;25H[?12l[?25h[?25l[28;64H9[25;25H[?12l[?25h[?25l[28;63H80,0-1[26;1H[?12l[?25h[?25l[28;64H1,24 [27;24H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5H[34m#    return super(MergeSubroutine, self).toString(self.__subroutineName, sell[27;1Hf.__argList)[m[28;63H[K[28;63H82,25[9C11%[26;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H83,0-1[8C11%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130mclass[m [36mModelSubroutine[m(Subroutine):[28;63H[K[28;63H84,25[9C11%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H85,0-1[8C12%[27;1H[?12l[?25h[?25l[1;27r[1;1H[3M[1;28r[25;5H__slots__=[[31m"__name"[m,[31m"default"[m,[31m"__argList"[m,[31m"__wrapper"[m, [31m"__subroutineName"[m, [31m""[26;1H__type"[m]
    [38;5;130mdef[m [36m__init__[m(self, pattern=[36mTrue[m, name=[31m""[m, wrapper=[31m"mct"[m, subroutineName=[31m"ini[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H86,25[9C12%[25;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[26;1H    [38;5;130mdef[m [36m__init__[m(self, pattern=[36mTrue[m, name=[31m""[m, wrapper=[31m"mct"[m, subroutineName=[31m"inii[27;1Ht"[m):[28;63H[K[28;63H87,25[9C12%[26;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36msuper[m(ModelSubroutine, self).__init__()[28;63H[K[28;63H88,25[9C12%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.__name = name[28;63H[K[28;63H89,25[9C13%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.__wrapper = wrapper  [34m# identify the wrapper API[m[28;63H[K[28;63H90,25[9C13%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.__type = subroutineName[28;63H[K[28;63H91,25[9C13%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.__subroutineName = self.__name + self.__type+ [31m"_"[m + self.__wrapper[28;63H[K[28;63H92,25[9C13%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.default = pattern[28;63H[K[28;63H93,25[9C13%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hself.__argList = [][28;63H[K[28;63H94,18-25      14%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H95,0-1[8C14%[27;1H[?12l[?25h[?25l[28;64H4,18-25[26;25H[?12l[?25h[?25l[28;64H3,25   [25;25H[?12l[?25h[?25l[28;64H2[24;25H[?12l[?25h[?25l[28;64H1[23;25H[?12l[?25h[?25l[28;64H0[22;25H[?12l[?25h[?25l[28;63H89[21;25H[?12l[?25h[?25l[28;64H8[20;25H[?12l[?25h[?25l[28;64H7[18;25H[?12l[?25h[?25l[28;64H6[16;25H[?12l[?25h[?25l[28;64H5,0-1[15;1H[?12l[?25h[?25l[28;64H4,25 [14;25H[?12l[?25h[?25l[28;64H3,0-1[13;1H[?12l[?25h[?25l[28;64H2,25 [11;25H[?12l[?25h[?25l[28;64H1,24[10;24H[?12l[?25h[?25l[28;64H0,0-1[9;1H[?12l[?25h[?25l[28;63H79,25 [8;25H[?12l[?25h[?25l[28;64H8[7;25H[?12l[?25h[?25l[28;64H7[6;25H[?12l[?25h[?25l[28;64H6,20[5;20H[?12l[?25h[?25l[28;64H5,13[4;13H[?12l[?25h[?25l[28;64H4,1 [3;1H[?12l[?25h[?25l[28;64H3,25[2;25H[?12l[?25h[?25l[28;64H2,20[1;20H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[35m@[m[36mproperty[m[28;63H[K[28;63H71,13[9C14%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H70,0-1[8C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__lineCharacter = [31m50[m[28;63H[K[28;63H69,25[9C13%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__atype = [31m"[m[31m[103mMrg[m[31m"[m[28;63H[K[28;63H68,25[9C13%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__argList = [][28;63H[K[28;63H67,25[9C13%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__subroutineName = [36mstr[m(self.__name)[28;63H[K[28;63H66,25[9C13%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__name = name[28;63H[K[28;63H65,25[9C12%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36msuper[m(MergeSubroutine, self).__init__()[28;63H[K[28;63H64,25[9C12%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36m__init__[m(self, subroutineName=[31m"mrg"[m, pattern=[36mTrue[m, name=[31m""[m):[27;1H[94m@                                                                               [m[28;63H[K[28;63H63,25[9C12%[1;25H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;5H__slots__=[[31m"__name"[m,[31m"default"[m,[31m"__argList"[m,[31m"__subroutineName"[m, [31m"__atype"[m, [31m"___[2;1HlineCharacter"[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H62,25[9C12%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;130mclass[m [36mMergeSubroutine[m(Subroutine):[28;63H[K[28;63H61,25[9C12%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H60,11[9C11%[1;11H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mreturn[m string[28;63H[K[28;63H59,22[9C11%[1;22H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hstring += [31m")"[m[28;63H[K[28;63H58,25[9C11%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hstring = string[:-[31m2[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H57,25[9C11%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130melse[m:[28;63H[K[28;63H56,13[9C11%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hstring = string[:-[31m4[m] + [31m")"[m[28;63H[K[28;63H55,25[9C10%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m string[-[31m2[m:] == [31m"&[m[35m\n[m[31m"[m:[28;63H[K[28;63H54,25[9C10%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m#print string[m[28;63H[K[28;63H53,21[9C10%[1;21H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hstring += [31m"&[m[35m\n[m[31m"[m + lenSpace*[31m' '[m[28;63H[K[28;63H52,25[9C10%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17HlenString =lenSpace[28;63H[K[28;63H51,25[9C10%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m lenString > self.__lineCharacter:[28;63H[K[28;63H50,25[10C9%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13HlenString += [36mlen[m(argStr)[28;63H[K[28;63H49,25[10C9%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hstring += argStr[28;63H[K[28;63H48,25[10C9%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13HargStr = arg + [31m", "[m[28;63H[K[28;63H47,25[10C9%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mfor[m arg [38;5;130min[m argList:[28;63H[K[28;63H46,25[10C9%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9HlenSpace = lenString[28;63H[K[28;63H45,25[10C8%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9HlenString = [36mlen[m(string)[28;63H[K[28;63H44,25[10C8%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hstring += [31m"("[m[28;63H[K[28;63H43,21[10C8%[1;21H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hstring = subroutineName[28;63H[K[28;63H42,18-25[7C8%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36mtoString[m(self, subroutineName, argList):[28;63H[K[28;63H41,25[10C8%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H40,0-1[9C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__argList.append(arg)[28;63H[K[28;63H39,25[10C7%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mprint[m [36mtype[m(self.__argList)[28;63H[K[28;63H38,25[10C7%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mraise[m  [32mTypeError[m([31m"arg not a string"[m)[28;63H[K[28;63H37,25[10C7%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m [38;5;130mnot[m [36misinstance[m(arg, [36mstr[m):[27;1H[94m@                                                                               [m[28;63H[K[28;63H36,25[10C7%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36mappend[m[106m([mself, arg[106m)[m:[28;63H[K[28;63H35,25[10C6%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[2;15H([9C)[28;63H[K[28;63H34,0-1[9C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.__argList = argListValue[28;63H[K[28;63H33,25[10C6%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36margList[m(self, argListValue):[28;63H[K[28;63H32,25[10C6%[1;25H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[35m@[m[36margList.setter[m[28;63H[K[28;63H31,19[10C6%[1;19H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mreturn[m self.__argList[28;63H[K[28;63H30,25[10C5%[1;25H[?12l[?25h[?25l[28;64H1,19[2;19H[?12l[?25h[?25l[28;64H2,25[3;25H[?12l[?25h[?25l[28;64H3[4;25H[?12l[?25h[?25l[28;64H4,0-1[5;1H[?12l[?25h[?25l[6;15H[106m([9C)[m[28;64H5,25 [6;25H[?12l[?25h[?25l[6;15H([9C)[28;64H6[7;25H[?12l[?25h[?25l[28;64H7[8;25H[?12l[?25h[?25l[28;64H8[9;25H[?12l[?25h[?25l[28;64H9[10;25H[?12l[?25h[?25l[28;63H40,0-1[11;1H[?12l[?25h[?25l[28;64H1,25 [12;25H[?12l[?25h[?25l[28;64H2,18-25[13;25H[?12l[?25h[?25l[28;64H3,21   [14;21H[?12l[?25h[?25l[28;64H4,25[15;25H[?12l[?25h[?25l[28;64H5[16;25H[?12l[?25h[?25l[28;64H6[17;25H[?12l[?25h[?25l[28;64H7[18;25H[?12l[?25h[?25l[28;64H8[19;25H[?12l[?25h[?25l[28;64H9[20;25H[?12l[?25h[?25l[28;63H50[21;25H[?12l[?25h[?25l[28;64H1[22;25H[?12l[?25h[?25l[28;64H2[23;25H[?12l[?25h[?25l[28;64H3,21[24;21H[?12l[?25h[?25l[28;64H4,25[25;25H[?12l[?25h[?25l[28;64H5[26;25H[?12l[?25h[?25l[28;64H6,13[27;13H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hstring = string[:-[31m2[m][28;63H[K[28;63H57,25[10C6%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hstring += [31m")"[m[28;63H[K[28;63H58,25[10C6%[27;25H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mreturn[m string[28;63H[K[28;63H59,22[10C6%[27;22H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H60,11[10C6%[27;11H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130mclass[m [36mMergeSubroutine[m(Subroutine):[28;63H[K[28;63H61,25[10C6%[27;25H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5H__slots__=[[31m"__name"[m,[31m"default"[m,[31m"__argList"[m,[31m"__subroutineName"[m, [31m"__atype"[m, [31m"___[27;1HlineCharacter"[m][28;63H[K[28;63H62,25[10C7%[26;25H[?12l[?25h[?25l[28;64H1[25;25H[?12l[?25h[?25l[28;64H0,11[24;11H[?12l[?25h[?25l[28;63H59,22[23;22H[?12l[?25h[?25l[28;64H8,25[22;25H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"ir.py" 519L, 14541C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/ir[root@test0 ir]# ks
bash: ks: æœªæ‰¾åˆ°å‘½ä»¤
]0;root@test0:/share/BCGen/BCGen/src/ir[root@test0 ir]# c[Kls
__init__.py  ir.py  ir.pyc  NameManager.py  NameManager.pyc
]0;root@test0:/share/BCGen/BCGen/src/ir[root@test0 ir]# cd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd tempaklt[K[K[K[K[Kpltate[K[K[K[Kate
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 784L, 32435C[>c[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[2;9H! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[4;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[5;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[6;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[7;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[8;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[9;1H%rAttr([31m1[m,:)[10;13H[34m![11;13H!    [12;13H!    call mrg_x2a(my_proc, x2a_ax, b2x_ax)[13;13H![14;13H!    [15;13H!    call mrg_x2b(my_proc, x2b_bx, a2x_bx)[16;13H![17;13H!    [18;13H!    call mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[19;13H![20;13H!    [21;13H!    call mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, &[m[22;9H[97m[101m)[m[23;13H[34m![m[24;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[25;9H[38;5;130mendif
[m    [38;5;130mendif[m[28;63H740,13[8C95%[14;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H1[15;13H[?12l[?25h[?25l[28;65H2[16;13H[?12l[?25h[?25l[28;65H3[17;13H[?12l[?25h[?25l[28;65H4[18;13H[?12l[?25h[?25l[28;65H5[19;13H[?12l[?25h[?25l[28;65H6[20;13H[?12l[?25h[?25l[28;65H7[21;13H[?12l[?25h[?25l[28;65H8,9 [22;9H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H748,9[9C95%[22;9H[?12l[?25h[?25l[28;67H8[22;8H[?12l[?25h[?25l[28;67H9[22;9H[?12l[?25h[?25l[34m!)[m[21;32H[34m[106m([22;10H)[m[28;67H10[22;10H[?12l[?25h[28;1H[K[22;9H[?25l[21;32H[34m([22;10H)[m[28;63H748,9[9C95%[22;9H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 784L, 32436C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./move.sh 
code moved
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd scripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# baseCpl.m,a[K[Kake.sh
bash: baseCpl.make.sh: æœªæ‰¾åˆ°å‘½ä»¤
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# baseCpl.make.sh.baseCpl.make.sh/baseCpl.make.sh
/share/BCGen/BCGen/baseCpl
atm lnd model1 model2 model3 ocn
make -C MCTWrapper
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
mpif90 -I/usr/local/include -c mct_mod.F90 -lmct -lmpeu
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
make -C data_def
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
mpif90 -I/usr/local/include -I/usr/local/lib -I../include -c comms_def.F90 proc_def.F90 -lmct -lmpeu -lmctm
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
make -C timeManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
mpif90  -c timeM.F90
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
make -C	transManage 
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
extend.F90:560.51:

subroutine write_netcdf(my_proc, ID, log_path, time, AV, gsMap_AV)
                                                   1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:501.48:

    integer :: comm_rank, mpi_comm, nlseg, gsize, ierr 
                                                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜gsizeâ€™
extend.F90:492.58:

subroutine read_netcdf(my_proc, ID, check_point_path, time, AV, gsMap_AV)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:470.50:

subroutine log_run_msg(my_proc, ID, log_path, time)
                                                  1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:436.13:

    integer i, ierr, comm_rank, comm_size, j
             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:436.44:

    integer i, ierr, comm_rank, comm_size, j
                                            1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜jâ€™
extend.F90:383.56:

subroutine save_model_av(my_proc, AV, gsMap_AV, ID, time)
                                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:337.20:

    integer pid_in_d,ier, rank_s, rank_d, srank, rrank
                    1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜pid_in_dâ€™
extend.F90:82.14:

    integer  i,j,status,ier,rank_s,rank_d,srank,rrank
              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:80.30:

    integer, pointer :: pei(:), peo(:)
                              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peiâ€™
extend.F90:80.38:

    integer, pointer :: pei(:), peo(:)
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peoâ€™
extend.F90:78.22:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜procs_iâ€™
extend.F90:78.38:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rank_in_comm_iâ€™
extend.F90:51.75:

subroutine avect_init_ext(my_proc, AV_s, ID_s, AV_d, ID_d, gsMap_d, ID_join)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜id_joinâ€™
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.o comms.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
comms.F90:192.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:192.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:179.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:179.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:129.58:

subroutine mapper_comp_map(mapper, src, dst, msgtag,  ierr, rList)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:37.94:

earrsplit_init(mapper, my_proc, gsmap_s, ID_s, gsmap_d, ID_d, ID_join, ierr)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:23.39:

subroutine mapper_init_nil(mapper, ierr)
                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
gfortran: è­¦å‘Šï¼šextend.oï¼šæœªä½¿ç”¨é“¾æ¥å™¨è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºé“¾æ¥å°šæœªå®Œæˆ
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
make -C procManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
mpif90 -I../include -I/usr/local/include -c deploy_mod.F90 mpi_comm.F90  manage.F90 -lmct -lmpeu -lmctm -lcomm -ldata_def 
deploy_mod.F90:134.71:

subroutine deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:67.65:

                  comp_id, cpl_id, id_join, iam_in, pattern, ierr)
                                                                 1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:86.22:

    integer    :: rank  
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rankâ€™
deploy_mod.F90:22.71:

subroutine deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mpi_comm.F90:56.45:

subroutine iam_comm_root(comm, iam_root, ierr)
                                             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
make models
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
mpif90 -c comp_atm.F90 -I../../include
comp_atm.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_atm.F90:149.42:

subroutine atm_run_mct(my_proc, ID, EClock, atm2x, x2atm, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_atm.F90:26.43:

subroutine atm_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
mpif90 -c comp_lnd.F90 -I../../include
comp_lnd.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_lnd.F90:149.42:

subroutine lnd_run_mct(my_proc, ID, EClock, lnd2x, x2lnd, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_lnd.F90:26.43:

subroutine lnd_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
mpif90 -c comp_a.F90 -I../../include
comp_a.F90:65.40:

subroutine a_run_mct(my_proc, ID, EClock, a2x, x2a, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_a.F90:23.41:

subroutine a_init_mct(my_proc, ID, EClock, gsMap_aa, a2x_aa, x2a_aa, ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
mpif90 -c comp_b.F90 -I../../include
comp_b.F90:64.40:

subroutine b_run_mct(my_proc, ID, EClock, b2x, x2b, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_b.F90:23.41:

subroutine b_init_mct(my_proc, ID, EClock, gsMap_bb, b2x_bb, x2b_bb,ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
mpif90 -c comp_c.F90 -I../../include
comp_c.F90:50.27:

    gsize = my_proc%c_gsize
                           1
é”™è¯¯ï¼š â€˜c_gsizeâ€™åœ¨(1)å¤„ä¸æ˜¯â€˜procâ€™ç»“æ„çš„æˆå‘˜
make[1]: *** [comp_c.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
mpif90 -c comp_ocn.F90 -I../../include
comp_ocn.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_ocn.F90:149.42:

subroutine ocn_run_mct(my_proc, ID, EClock, ocn2x, x2ocn, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_ocn.F90:26.43:

subroutine ocn_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
/share/BCGen/BCGen/baseCpl
end make models
ar rcs libbcpl.a ./include/*.o
rm ./include/*.o
mv libbcpl.a ./lib 	
make -C ./model/cpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mpif90 -c  baseCpl.F90 -I../../include -I./ -I/usr/local/netcdf-fortran/include
baseCpl.F90:62.1:

  logical :: a_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:63.1:

  logical :: lnd_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:64.1:

  logical :: b_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:65.1:

  logical :: atm_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:66.1:

  logical :: ocn_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
mpif90 ./comp_a.o ./comp_b.o ./comp_c.o ./comp_atm.o ./comp_ocn.o ./comp_lnd.o main.o baseCpl.o   -o main \
-L../../lib -L/usr/local/netcdf-fortran/lib -I/usr/local/netcdf-fortran/include -lbcpl  -lmct -lmpeu  -lnetcdff
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mv ./model/cpl/main ./
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./baseCpl.run.sh 
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 war protocal initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 my_world_rank:           0  my_in_model T T T F T T T T T T T T
 my_world_rank:           1  my_in_model T T T F T T T T T T T T
 my_world_rank:           2  my_in_model T T F T T F T T T T T T
 my_world_rank:           3  my_in_model T T F T T F F T T T T T
 comm initiated
 comm initiated
 comm initiated
 comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 mct_world_init initiated
 mct_world_init initiated
 Im cpl           1
 mct_world_init initiated
 Im cpl           2
 mct_world_init initiated
 Im cpl           3
 Im cpl           0
 before mapper_init
 before mapper_init
 before mapper_init
  Read in Xlnd input from file= xlnd_in
 before mapper_init
(lnd_init_mct) 
(lnd_init_mct)          Model  :  lnd
(lnd_init_mct)            NGX  :        10
(lnd_init_mct)            NGY  :        10
(lnd_init_mct)  Decomposition  :         0
(lnd_init_mct)  Num pes in X   :         2
(lnd_init_mct)  Num of local Segment :         1
(lnd_init_mct)     inst_index  :        10
(lnd_init_mct) 
  Read in Xatm input from file= xatm_in
(atm_init_mct) 
(atm_init_mct)          Model  :  atm
(atm_init_mct)            NGX  :        10
(atm_init_mct)            NGY  :        10
(atm_init_mct)  Decomposition  :         0
(atm_init_mct)  Num pes in X   :         2
(atm_init_mct)  Num of local Segment :         1
(atm_init_mct)     inst_index  :        10
(atm_init_mct) 
  Read in Xocn input from file= xocn_in
(ocn_init_mct) 
(ocn_init_mct)          Model  :  ocn
(ocn_init_mct)            NGX  :        10
(ocn_init_mct)            NGY  :        10
(ocn_init_mct)  Decomposition  :         0
(ocn_init_mct)  Num pes in X   :         3
(ocn_init_mct)  Num of local Segment :         1
(ocn_init_mct)     inst_index  :        10
(ocn_init_mct) 
 <<==== All Model Init Rank:           0  Over ====>>
 <<==== All Model Init Rank:           1  Over ====>>
 <<==== All Model Init Rank:           2  Over ====>>
 <<==== All Model Init Rank:           3  Over ====>>
  
  
  
  
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
001.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
003.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 1
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./baseCpl.run.sh 
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 war protocal initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 human reaper initiated
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 my_world_rank:           0  my_in_model T T T F T T T T T T T T
 my_world_rank:           1  my_in_model T T T F T T T T T T T T
 my_world_rank:           2  my_in_model T T F T T F T T T T T T
 my_world_rank:           3  my_in_model T T F T T F F T T T T T
 comm initiated
 comm initiated
 comm initiated
 comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 mct_world_init initiated
 mct_world_init initiated
 Im cpl           2
 mct_world_init initiated
 Im cpl           3
 mct_world_init initiated
 Im cpl           1
 Im cpl           0
 before mapper_init
 before mapper_init
 before mapper_init
  Read in Xlnd input from file= xlnd_in
 before mapper_init
(lnd_init_mct) 
(lnd_init_mct)          Model  :  lnd
(lnd_init_mct)            NGX  :        10
(lnd_init_mct)            NGY  :        10
(lnd_init_mct)  Decomposition  :         0
(lnd_init_mct)  Num pes in X   :         2
(lnd_init_mct)  Num of local Segment :         1
(lnd_init_mct)     inst_index  :        10
(lnd_init_mct) 
  Read in Xatm input from file= xatm_in
(atm_init_mct) 
(atm_init_mct)          Model  :  atm
(atm_init_mct)            NGX  :        10
(atm_init_mct)            NGY  :        10
(atm_init_mct)  Decomposition  :         0
(atm_init_mct)  Num pes in X   :         2
(atm_init_mct)  Num of local Segment :         1
(atm_init_mct)     inst_index  :        10
(atm_init_mct) 
  Read in Xocn input from file= xocn_in
(ocn_init_mct) 
(ocn_init_mct)          Model  :  ocn
(ocn_init_mct)            NGX  :        10
(ocn_init_mct)            NGY  :        10
(ocn_init_mct)  Decomposition  :         0
(ocn_init_mct)  Num pes in X   :         3
(ocn_init_mct)  Num of local Segment :         1
(ocn_init_mct)     inst_index  :        10
(ocn_init_mct) 
 <<==== All Model Init Rank:           0  Over ====>>
 <<==== All Model Init Rank:           2  Over ====>>
 <<==== All Model Init Rank:           1  Over ====>>
 <<==== All Model Init Rank:           3  Over ====>>
  
  
  
  
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
001.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
003.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 1
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 3
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
002.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 2
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd /[K../
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# l;s[K[Ks
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd scripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# vim BCGen.sh 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"BCGen.sh" 48L, 1184C[>c[1;1H[34m#!/bin/bash[m
[36mHOMEPATH[m=[35m`[m[38;5;130mcd[m[35m .. && [m[38;5;130mpwd[m[35m`[m
[36mMAINPATH[m=[35m$HOMEPATH[m/src/template
[36mPYTHON[m=python2.7
[36mOBJFILE[m=baseCpl.F90 proc_def.F90 manager.F90
[36mBASECPLPATH[m=[35m$HOMEPATH[m/baseCpl
[36mSCRIPTPATH[m=[35m$HOMEPATH[m/scripts
[34m#
#  we need add some mechanism for user to choose which file to generate
#  mainly for deploy_mod.F90
#[m
[36mcheckBaseCpl(){[m
    [38;5;130mecho[m[31m [m[38;5;130m"[m[31mcheck baseCpl in directory: [m[35m$1[m[38;5;130m"
[m    [38;5;130mcd[m [35m$1[m
    [36mdirCnt[m=[35m`[m[38;5;130mls[m[35m | wc -l`[m
    [38;5;130mif [[m [35m$dirCnt[m [38;5;130m-eq[m [31m0[m [38;5;130m][m;[38;5;130mthen[17;9Hcd[m ..[18;9Hsudo [38;5;130mrm[m [38;5;130m-r[m baseCpl[19;9Hgit clone https://github.com/NeoGeon/baseCpl.git
    [38;5;130mfi
[m    [38;5;130mcd[m -
[36m}[m

[38;5;130mif [[m [35m$1[m [38;5;130m-eq[m [31m0[m [38;5;130m][m; [38;5;130mthen
[m    [38;5;130mecho[m[31m [m[38;5;130m'[m[31m---------------BCGen v1.0 by Alex---------------------------[m[38;5;130m'
[m    [38;5;130mecho[m[31m [m[38;5;130m'[m[31m----------A software support CESM-like applications---------[m[38;5;130m'
[m    [38;5;130mecho[m[31m [m[38;5;130m'[m[31m--------------A generator for baseCpl-----------------------[m[38;5;130m'[m[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;63H2[2;1H[?12l[?25h[?25l[28;63H3[3;1H[?12l[?25h[?25l[28;63H4[4;1H[?12l[?25h[?25l[28;63H5[5;1H[?12l[?25h[?25l[28;63H6[6;1H[?12l[?25h[?25l[28;63H7[7;1H[?12l[?25h[?25l[28;63H8[8;1H[?12l[?25h[?25l[28;63H9[9;1H[?12l[?25h[?25l[28;63H10,1[10;1H[?12l[?25h[?25l[28;64H1[11;1H[?12l[?25h[?25l[28;64H2[12;1H[?12l[?25h[?25l[28;64H3[13;1H[?12l[?25h[?25l[28;64H4[14;1H[?12l[?25h[?25l[28;64H5[15;1H[?12l[?25h[?25l[28;64H6[16;1H[?12l[?25h[?25l[28;64H7[17;1H[?12l[?25h[?25l[28;64H8[18;1H[?12l[?25h[?25l[28;64H9[19;1H[?12l[?25h[?25l[28;63H20[20;1H[?12l[?25h[?25l[28;64H1[21;1H[?12l[?25h[?25l[12;15H[36m[106m{[22;1H}[m[28;64H2[22;1H[?12l[?25h[?25l[12;15H[36m{[22;1H}[m[28;64H3,0-1[23;1H[?12l[?25h[?25l[28;64H4,1  [24;1H[?12l[?25h[?25l[28;64H5[25;1H[?12l[?25h[?25l[28;64H6[26;1H[?12l[?25h[?25l[28;64H7[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130melif[m [38;5;130m[[m [35m$1[m [38;5;130m-eq[m [31m1[m [38;5;130m][m; [38;5;130mthen[m[28;1H[K[28;63H28,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mcd[m [35m$MAINPATH[m[28;63H[K[28;63H29,1[11C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mecho[m[31m [m[35m$?[m[28;63H[K[28;63H30,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[35m$PYTHON[m main.py[28;63H[K[28;63H31,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5HcheckBaseCpl [35m$BASECPLPATH[m[28;63H[K[28;63H32,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mcd[m [35m$MAINPATH[m[28;63H[K[28;63H33,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H./move.sh[28;63H[K[28;63H34,1[10C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130melif[m [38;5;130m[[m [35m$1[m [38;5;130m-eq[m [31m2[m [38;5;130m][m; [38;5;130mthen[m[28;63H[K[28;63H35,1[10C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mcd[m [35m$MAINPATH[m[28;63H[K[28;63H36,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mrm[m baseCpl.F90[28;63H[K[28;63H37,1[10C47%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mrm[m proc_def.F90[28;63H[K[28;63H38,1[10C52%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mrm[m manage.F90[28;63H[K[28;63H39,1[10C57%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[35m$PYTHON[m main.py[28;63H[K[28;63H40,1[10C61%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5HcheckBaseCok [35m$BASECPLDIR[m[28;63H[K[28;63H41,1[10C66%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mcd[m [35m$MAINPATH[m[28;63H[K[28;63H42,1[10C71%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H./move.sh[28;63H[K[28;63H43,1[10C76%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130melif[m [38;5;130m[[m [35m$1[m [38;5;130m-eq[m [31m-1[m [38;5;130m][m; [38;5;130mthen[m[28;63H[K[28;63H44,1[10C80%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mecho[m[31m [m[38;5;130m'[m[31mhelp u[m[38;5;130m'[m[28;63H[K[28;63H45,1[10C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130melse[m[28;63H[K[28;63H46,1[10C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mecho[m[31m [m[38;5;130m'[m[31mplease input ./BCGen.sh help for detail[m[38;5;130m'[m[28;63H[K[28;63H47,1[10C95%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[38;5;130mfi[m[28;63H[K[28;63H48,1[9Cåº•ç«¯[27;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hW[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[97m[41mE492: ä¸æ˜¯ç¼–è¾‘å™¨çš„å‘½ä»¤: Wq[m[36C48,1[9Cåº•ç«¯[27;1H[?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"BCGen.sh" 48L, 1184C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd ..
]0;root@test0:/share/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m  [38;5;27mBCGen[0m  [38;5;27mtestLib[0m
]0;root@test0:/share/BCGen[root@test0 BCGen]# cd[K[Kgit c[K[K[K[K[Kgit clone [K[K[K[K[K[K[K[K[K[Kclear
[3;J[H[2J]0;root@test0:/share/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m  [38;5;27mBCGen[0m  [38;5;27mtestLib[0m
]0;root@test0:/share/BCGen[root@test0 BCGen]# cd BCGen/
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd scq[Kripts/
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ./baseCpl.run.sh
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 cpl
 war protocal initiated
 war module upgraded
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 human reaper initiated
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 war module upgraded
 human reaper initiated
 war module upgraded
 human reaper initiated
 war module upgraded
 war module upgraded
 human reaper initiated
 human reaper initiated
 check
 check
 check
 check
 my_world_rank:           0  my_in_model T T T F T T T T T T T T
 my_world_rank:           2  my_in_model T T F T T F T T T T T T
 my_world_rank:           3  my_in_model T T F T T F F T T T T T
 my_world_rank:           1  my_in_model T T T F T T T T T T T T
 comm initiated
 comm initiated
 comm initiated
 comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 mct_world_init initiated
 mct_world_init initiated
 Im cpl           1
 mct_world_init initiated
 Im cpl           2
 mct_world_init initiated
 Im cpl           3
 Im cpl           0
 before mapper_init
 before mapper_init
 before mapper_init
 before mapper_init
  Read in Xlnd input from file= xlnd_in
(lnd_init_mct) 
(lnd_init_mct)          Model  :  lnd
(lnd_init_mct)            NGX  :        10
(lnd_init_mct)            NGY  :        10
(lnd_init_mct)  Decomposition  :         0
(lnd_init_mct)  Num pes in X   :         2
(lnd_init_mct)  Num of local Segment :         1
(lnd_init_mct)     inst_index  :        10
(lnd_init_mct) 
  Read in Xatm input from file= xatm_in
(atm_init_mct) 
(atm_init_mct)          Model  :  atm
(atm_init_mct)            NGX  :        10
(atm_init_mct)            NGY  :        10
(atm_init_mct)  Decomposition  :         0
(atm_init_mct)  Num pes in X   :         2
(atm_init_mct)  Num of local Segment :         1
(atm_init_mct)     inst_index  :        10
(atm_init_mct) 
  Read in Xocn input from file= xocn_in
(ocn_init_mct) 
(ocn_init_mct)          Model  :  ocn
(ocn_init_mct)            NGX  :        10
(ocn_init_mct)            NGY  :        10
(ocn_init_mct)  Decomposition  :         0
(ocn_init_mct)  Num pes in X   :         3
(ocn_init_mct)  Num of local Segment :         1
(ocn_init_mct)     inst_index  :        10
(ocn_init_mct) 
 <<==== All Model Init Rank:           0  Over ====>>
 <<==== All Model Init Rank:           1  Over ====>>
 <<==== All Model Init Rank:           2  Over ====>>
 <<==== All Model Init Rank:           3  Over ====>>
  
  
  
  
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
001.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
003.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 1
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 3
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=3, AttrVect_lsize(TargetAV)=2.
002.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 2
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
000.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 0
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# ls
[0m[38;5;34mbaseCpl.make.sh[0m  [38;5;34mbaseCpl.run.sh[0m  [38;5;34mBCGen.sh[0m
]0;root@test0:/share/BCGen/BCGen/scripts[root@test0 scripts]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd sc[Krc
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd template
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl_Template.F90" 372L, 13885C[>c[1;9H[34m! (c2x_cx,b2x_cx,a2x_cx) => (x2c_cx)[m
    [38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[3;9Hif[m(s[38;5;130m==[m[31m10[m) [38;5;130mthen[m[4;13H[34m! merge *2x_ax --> x2a_ax in rfield "x", cal the mean of all[5;13H!call mapper_comp_avMerge(a2x_ax, b2x_ax, c2x_ax, x2a_ax, "x")[m[6;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[7;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AX_Merge_VALUE Rank:'[m,comm_rank, x2a_axx[8;1H%rAttr([31m1[m,:)[9;13H[34m!#for $mgr_routine in $merge_subroutines[10;13H!    #set func_str = $mgr_routine.toString($mgr_routine.name, $mgr_rr[11;1Houtine.argList)[12;13H!    call ${mgr_routine.toString($mgr_routine.name,$mgr_routine.argLL[13;1Hist)}[14;13H!#end for[m[15;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[16;9H[38;5;130mendif
[m    [38;5;130mendif[19;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[25;5H[32mimplicit[m [32mnone[m[27;5H[34m!----------------------------------------------------------------------[m[28;63H334,13[8C92%[14;13H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;65H3[12;13H[?12l[?25h[?25l[28;65H2[10;13H[?12l[?25h[?25l[28;65H1[9;13H[?12l[?25h[?25l[28;65H0[7;13H[?12l[?25h[?25l[28;64H29[6;13H[?12l[?25h[?25l[28;65H8[5;13H[?12l[?25h[?25l[28;65H7[4;13H[?12l[?25h[?25l[28;65H6[3;13H[?12l[?25h[?25l[28;65H5[2;13H[?12l[?25h[?25l[28;65H4[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (c2x_bx,b2x_bx,a2x_bx) => (x2b_bx)[m[28;1H[K[28;63H323,13[8C92%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (c2x_ax,b2x_ax,a2x_ax) => (x2a_ax)[m[28;63H[K[28;63H322,13[8C92%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! For Example:[m[28;63H[K[28;63H321,13[8C91%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H320,13[8C91%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  (M is Model, X is CPL, A,B,C is Another Model)[m[28;63H[K[28;63H319,13[8C91%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Merge (A2X_MX, B2X_MX, C2X_MX, M2X_MX)--> X2M_MX[m[28;63H[K[28;63H318,13[8C91%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Run phase 4[m[28;63H[K[28;63H317,13[8C90%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H316,13[8C90%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H315,0-1[7C90%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H314,13[8C89%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mend if[m[28;63H[K[28;63H313,13[8C89%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[28;63H[K[28;63H312,13[8C89%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H$run_phase3_method.getFuncFormat()[28;63H[K[28;63H311,13[8C89%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m}2cpl)[38;5;130mthen[m[28;63H[K[28;63H310,13[8C88%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m($[106m{[m[38;5;130mname[m[106m}[m_run)[38;5;130mthen[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H309,13[8C88%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_phase3_method [38;5;130m=[m $run_method[[31m'run_phase3_method'[m][2;13H{[4C}[28;63H[K[28;63H308,13[8C88%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_method [38;5;130m=[m $cfg[[31m'subroutine'[m][[31m'run_method'[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H307,13[8C88%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H306,13[8C88%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;8H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H305,13[8C87%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[27;1H[94m@                                                                               [m[28;63H[K[28;63H304,3[9C87%[1;3H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m![m[28;63H[K[28;63H303,9[9C87%[1;9H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! (a2x_bx,a2x_cx) (b2x_cx,b2x_a2) (c2x_ax,c2x_bx)[m[28;63H[K[28;63H302,13[8C87%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! sparse(a2x_ax b2x_bx c2x_cx) =>[m[28;63H[K[28;63H301,13[8C86%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m! rearrage(a2x_aa,b2x_bb,c2x_cc) => (a2x_ax,b2x_bx,c2x_cx)[m[28;63H[K[28;63H300,13[8C86%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  For example:[m[28;63H[K[28;63H299,13[8C86%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H298,13[8C86%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  (M is Model, X is CPL, B is Another Model)[m[28;63H[K[28;63H297,13[8C85%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Step2: SparseMul With Other Model, M2X_MX --> M2X_BX[m[28;63H[K[28;63H296,13[8C85%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Step1: Rearrange, M2X_MM --> M2X_MX[m[28;63H[K[28;63H295,13[8C85%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  For each Model:[m[28;63H[K[28;63H294,13[8C84%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Run phase 3[m[28;63H[K[28;63H293,13[8C84%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H292,13[8C84%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;9H[38;5;130mif[m(my_proc%iam_root) [38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'----------------run phase2 end ----------[2;1H--------------'[m[28;63H[K[28;63H291,13[8C83%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H290,13[8C83%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H289,0-1[7C83%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H288,13[8C82%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mend if[m[28;63H[K[28;63H287,13[8C82%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[28;63H[K[28;63H286,13[8C82%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H$run_phase2_method.getFuncFormat()[28;63H[K[28;63H285,13[8C82%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m})[38;5;130mthen[m[28;63H[K[28;63H284,13[8C81%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m($[106m{[m[38;5;130mname[m[106m}[m_run)[38;5;130mthen[m[28;63H[K[28;63H283,13[8C81%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_phase2_method [38;5;130m=[m $run_method[[31m'run_phase2_method'[m][2;13H{[4C}[28;63H[K[28;63H282,13[8C81%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_method [38;5;130m=[m $cfg[[31m'subroutine'[m][[31m'run_method'[m][28;63H[K[28;63H281,13[8C80%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H280,13[8C80%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H279,13[8C80%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H278,0-1[7C80%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H277,13[8C79%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  (M is Model, X is CPL)[m[28;63H[K[28;63H276,13[8C79%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Run phase 2, Model Run,  X2M_MM --> M2X_MM[m[28;63H[K[28;63H275,13[8C79%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H274,13[8C78%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H273,0-1[7C78%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H272,0-1[7C78%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H271,13[8C78%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H270,0-1[7C77%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H269,13[8C77%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mend if[m[28;63H[K[28;63H268,13[8C77%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mend if[m[28;63H[K[28;63H267,13[8C76%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mend if[m[28;63H[K[28;63H266,13[8C76%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[27;1H[94m@                                                                               [m[28;63H[K[28;63H265,13[8C76%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;21H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<===X2A_AA_VALUE Rank:'[m,comm_rank, x2a_aa%rAttrr[2;1H([31m1[m,:)[28;63H[K[28;63H264,13[8C76%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;21H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ii[2;1Herr)[28;63H[K[28;63H263,13[8C75%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m(s [38;5;130m==[m [31m3[m [38;5;130m.and.[m my_proc%iamin_modela2cpl) [38;5;130mthen[m[28;63H[K[28;63H262,13[8C75%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H261,0-1[7C74%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H$run_phase1_method.getFuncFormat()[28;63H[K[28;63H260,13[8C74%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H259,13[8C74%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mendif[m[28;63H[K[28;63H258,13[8C74%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130menddo[m[28;63H[K[28;63H257,13[8C73%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;25Hx2b_bx%rAttr([31m1[m,i) [38;5;130m=[m x2b_bx%rAttr([31m1[m,i) [38;5;130m+[m (comm_rank[38;5;130m+[m[31m1[m)[38;5;130m*[m[31m100[m[2;1H[38;5;130m+[mi[28;63H[K[28;63H256,13[8C73%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mdo[m i[38;5;130m=[m[31m1[m,avect_lsize(x2b_bx)[28;63H[K[28;63H255,13[8C72%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m(s [38;5;130m==[m [31m7[m [38;5;130m.and.[m my_proc%iamin_modelb2cpl) [38;5;130mthen[m[28;63H[K[28;63H254,13[8C72%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mendif[m[28;63H[K[28;63H253,13[8C72%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130menddo[m[28;63H[K[28;63H252,13[8C72%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;25Hx2a_ax%rAttr([31m1[m,i) [38;5;130m=[m x2a_ax%rAttr([31m1[m,i) [38;5;130m+[m (comm_rank[38;5;130m+[m[31m1[m)[38;5;130m*[m[31m100[m[2;1H[38;5;130m+[mi[28;63H[K[28;63H251,13[8C71%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[38;5;130mdo[m i[38;5;130m=[m[31m1[m,avect_lsize(x2a_ax)[28;63H[K[28;63H250,13[8C71%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m(s [38;5;130m==[m [31m3[m [38;5;130m.and.[m my_proc%iamin_modela2cpl) [38;5;130mthen[m[28;63H[K[28;63H249,13[8C71%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m}2cpl)[38;5;130mthen[m[28;63H[K[28;63H248,13[8C70%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m($[106m{[m[38;5;130mname[m[106m}[m_run)[38;5;130mthen[m[28;63H[K[28;63H247,13[8C70%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_phase1_method [38;5;130m=[m $run_method[[31m'run_phase1_method'[m][2;13H{[4C}[28;63H[K[28;63H246,13[8C70%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $run_method [38;5;130m=[m $cfg[[31m'subroutine'[m][[31m'run_method'[m][28;63H[K[28;63H245,13[8C69%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H244,13[8C69%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H243,13[8C69%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H242,0-1[7C69%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[27;1H[94m@                                                                               [m[28;63H[K[28;63H241,0-1[7C68%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H240,13[8C68%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  (M is Model, X is CPL)[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H239,13[8C68%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!  Run phase 1 X2M_MX --> X2M_MM[m[28;63H[K[28;63H238,13[8C68%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m!------------------------------------------------------------[m[28;63H[K[28;63H237,13[8C68%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H236,0-1[7C67%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H235,0-1[7C67%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H234,0-1[7C67%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m(s[38;5;130m==[m[31m10[m) stop_clock [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H233,13[8C66%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hs [38;5;130m=[m s[38;5;130m+[m[31m1[m[28;63H[K[28;63H232,13[8C66%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m triger(EClock, stop_clock, [31m"stop_clock"[m)[27;1H[94m@                                                                               [m[28;63H[K[28;63H231,13[8C66%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H230,13[8C66%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m triger(EClock, ${[38;5;130mname[m}_run, [31m"${name}_run"[m)[28;63H[K[28;63H229,13[8C65%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;16H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H228,13[8C65%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H227,13[8C65%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m clock_advance(EClock)[28;63H[K[28;63H226,13[8C65%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[27;1H[94m@                                                                               [m[28;63H[K[28;63H225,0-1[7C64%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdo[m [38;5;130mwhile[m[106m([m[38;5;130m.not.[m stop_clock[106m)[m[28;63H[K[28;63H224,13[8C64%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m triger(EClock, stop_clock, [31m"stop_clock"[m)[2;13H([16C)[28;63H[K[28;63H223,13[8C64%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H222,0-1[7C64%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hs [38;5;130m=[m [31m0[m[28;63H[K[28;63H221,9[9C63%[1;9H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H220,13[8C63%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m' '[m[28;63H[K[28;63H219,13[8C63%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H218,13[8C62%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<============== Rank:'[m,comm_rank,[31m' Begin Run==================>>[2;1H>'[m[28;63H[K[28;63H217,13[8C62%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H216,13[8C62%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m mpi_comm_rank(my_proc%comp_comm(my_proc%gloid), comm_rank, ierr)[28;63H[K[28;63H215,13[8C61%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H214,4[9C61%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: ierr,s,i,comm_rank[28;63H[K[28;63H213,13[8C61%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H212,13[8C60%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H211,0-1[7C60%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35msubroutine[m cpl_run()[28;63H[K[28;63H210,13[8C60%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H209,0-1[7C60%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mend subroutine[m cpl_init[28;63H[K[28;63H208,13[8C59%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H207,0-1[7C59%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H206,13[8C59%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'<========= Init End  ===========>'[m[28;63H[K[28;63H205,13[8C58%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mend if[m[28;63H[K[28;63H204,10[8C58%[1;10H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H203,13[8C58%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m" "[m[28;63H[K[28;63H202,13[8C58%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H201,13[8C57%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H200,1[9C57%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H199,13[8C57%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#[35mend[m for[28;63H[K[28;63H198,13[8C56%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H197,0-1[7C56%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;32H$gm_mx, $gm_nx)[28;63H[K[28;63H196,13[8C56%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;32H$smat_size,[35m&[m[28;63H[K[28;63H195,13[8C56%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;32Hmy_proc%${dst_model_name}_gsize, my_proc%${[38;5;130mname[m}__[2;1Hgsize, [35m&[m[28;63H[K[28;63H194,13[8C55%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;32Hmy_proc%cplid, [35m&[m[28;63H[K[28;63H193,13[8C55%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;32Hmy_proc%${mapper_name}, [35m&[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H192,13[8C55%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m mapper_spmat_init(my_proc,[35m&[m[28;63H[K[28;63H191,13[8C54%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H190,0-1[7C54%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;29Hmy_proc%model${dst_model_name}2cpl_id)[28;63H[K[28;63H189,13[8C54%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;29Hmy_proc%cplid, $gm_nx, [35m&[m[28;63H[K[28;63H188,13[8C54%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;29Hmy_proc%cplid, $av_mx_nx,[35m&[m[28;63H[K[28;63H187,13[8C53%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[36mcall[m avect_init_ext(my_proc, $av_mx_mx,[35m&[m[28;63H[K[28;63H186,13[8C53%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $smat_size [38;5;130m=[m $mn_av[[31m'smat_size'[m][28;63H[K[28;63H185,13[8C53%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $mapper_name [38;5;130m=[m $mn_av[[31m'dst_mapper'[m][28;63H[K[28;63H184,13[8C52%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $dst_model_name [38;5;130m=[m $mn_av[[31m'dst_model_name'[m][28;63H[K[28;63H183,13[8C52%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $gm_nx [38;5;130m=[m $mn_av[[31m'dst_gm'[m][28;63H[K[28;63H182,13[8C52%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $av_mx_nx [38;5;130m=[m $d_av.[38;5;130mname[m[28;63H[K[28;63H181,13[8C52%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $d_av [38;5;130m=[m $mn_av[[31m'dst_av'[m][28;63H[K[28;63H180,13[8C51%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#for $mn_av [32min[m $dst_info[28;63H[K[28;63H179,13[8C51%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $dst_info [38;5;130m=[m $cfg[[31m'dst'[m][28;63H[K[28;63H178,13[8C51%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $gm_mx [38;5;130m=[m $cfg[[31m'gm'[m][28;63H[K[28;63H177,13[8C50%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_mx_mx [38;5;130m=[m $cfg[[31m'src'[m][28;63H[K[28;63H176,13[8C50%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#set $cfg [38;5;130m=[m $merge_cfgs[$cfg][28;63H[K[28;63H175,13[8C50%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[28;63H[K[28;63H174,13[8C50%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#for $cfg [32min[m $merge_cfgs[28;63H[K[28;63H173,13[8C49%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H172,0-1[7C49%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mif[m(my_proc%iamin_cpl) [38;5;130mthen[m[28;63H[K[28;63H171,13[8C49%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H170,0-1[7C48%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H169,0-1[7C48%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[27;1H[94m@                                                                               [m[28;63H[K[28;63H168,13[8C48%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m' '[m[28;63H[K[28;63H167,13[8C48%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H166,13[8C47%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mwrite[m([31m6[m,[38;5;130m*[m) [31m'<<========= Rank:'[m,comm_rank,[31m' Model-XInit End====>>'[m[28;63H[K[28;63H165,13[8C47%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H164,13[8C47%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H163,0-1[7C46%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H162,0-1[7C46%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#[35mend[m for[28;63H[K[28;63H161,13[8C46%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mend if[m[28;63H[K[28;63H160,13[8C46%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;42H$av_mx_mm, $av_mx_mx, [31m100[m[38;5;130m+[m[31m10[m[38;5;130m+[m[31m1[m, ierr)[28;63H[K[28;63H159,13[8C45%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m mapper_comp_map(my_proc%mapper_C${[38;5;130mname[m}[36m2x[m, [35m&[m[28;63H[K[28;63H158,13[8C45%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m MPI_Barrier(my_proc%mpi_model${[38;5;130mname[m}2cpl, ierr)[28;63H[K[28;63H157,13[8C45%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H156,0-1[7C44%[1;1H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;49Hmy_proc%model${[38;5;130mname[m}2cpl_id, ierr[2;1Hr)[28;63H[K[28;63H155,13[8C44%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;49H$gm_mm, my_proc%model${[38;5;130mname[m}_id,,[2;1H [35m&[m[28;63H[K[28;63H154,13[8C44%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;49Hmy_proc, $gm_mx, my_proc%cplid,  [2;1H[35m&[m[28;63H[K[28;63H153,13[8C43%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m mapper_rearrsplit_init(my_proc%mapper_Cx2${[38;5;130mname[m}, [35m&[m[28;63H[K[28;63H152,13[8C43%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H151,0-1[7C43%[1;1H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;49Hmy_proc%model${[38;5;130mname[m}2cpl_id, ierr[2;1Hr)[28;63H[K[28;63H150,13[8C42%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;49H$gm_mx, my_proc%cplid, [35m&[m[28;63H[K[28;63H149,13[8C42%[1;13H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;49Hmy_proc, $gm_mm, my_proc%model${{[2;1H[38;5;130mname[m}_id, [35m&[m[28;63H[K[28;63H148,13[8C42%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m mapper_rearrsplit_init(my_proc%mapper_C${[38;5;130mname[m}[36m2x[m, [35m&[m[28;63H[K[28;63H147,13[8C41%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}2cpl_id)[28;63H[K[28;63H146,13[8C41%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%cplid, $gm_mx, [35m&[m[28;63H[K[28;63H145,13[8C41%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}_id, $av_xm_mx, [35m&[m[28;63H[K[28;63H144,13[8C40%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m avect_init_ext(my_proc, $av_xm_mm,[35m&[m[28;63H[K[28;63H143,13[8C40%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H142,0-1[7C40%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}2cpl_id)[28;63H[K[28;63H141,13[8C40%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%cplid, $gm_mx, [35m&[m[28;63H[K[28;63H140,13[8C39%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}_id, $av_mx_mx, [35m&[m[28;63H[K[28;63H139,13[8C39%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m avect_init_ext(my_proc, $av_mx_mm,[35m&[m[28;63H[K[28;63H138,13[8C39%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H137,0-1[7C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}2cpl_id )[28;63H[K[28;63H136,13[8C38%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41H$gm_mx, my_proc%cplid, [35m&[m[28;63H[K[28;63H135,13[8C38%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;41Hmy_proc%model${[38;5;130mname[m}_id, [35m&[m[28;63H[K[28;63H134,13[8C38%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H[36mcall[m gsmap_init_ext(my_proc, $gm_mm, [35m&[m[27;1H[94m@                                                                               [m[28;63H[K[28;63H133,13[8C37%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m}2cpl)[38;5;130mthen[m[28;63H[K[28;63H132,13[8C37%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $gm_mm [38;5;130m=[m $gm[[31m'mm'[m][[31m'name'[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H131,13[8C37%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $gm_mx [38;5;130m=[m $gm[[31m'mx'[m][[31m'name'[m][28;63H[K[28;63H130,13[8C37%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_xm_mx [38;5;130m=[m $av_mx[[31m'xm_mx'[m][[31m'name'[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H129,13[8C36%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_mx_mx [38;5;130m=[m $av_mx[[31m'mx_mx'[m][[31m'name'[m][28;63H[K[28;63H128,13[8C36%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_xm_mm [38;5;130m=[m $av_mx[[31m'xm_mm'[m][[31m'name'[m][28;63H[K[28;63H127,13[8C36%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_mx_mm [38;5;130m=[m $av_mx[[31m'mx_mm'[m][[31m'name'[m][28;63H[K[28;63H126,13[8C36%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][27;1H[94m@                                                                               [m[28;63H[K[28;63H125,13[8C35%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $gm [38;5;130m=[m $cfg[[31m'mx_gsmap_set'[m][28;63H[K[28;63H124,13[8C35%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $av_mx [38;5;130m=[m $cfg[[31m'mx_av_set'[m][28;63H[K[28;63H123,13[8C35%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H#for $cfg [32min[m $model_cfgs[27;1H[94m@                                                                               [m[28;63H[K[28;63H122,13[8C34%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H121,13[8C34%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! !Model_X gsmap_ext av_ext[m[28;63H[K[28;63H120,13[8C34%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H119,13[8C34%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H118,0-1[7C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H117,4[9C33%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H116,13[8C33%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m' '[m[28;63H[K[28;63H115,13[8C33%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H114,13[8C32%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m" Over ====>>"[m[28;63H[K[28;63H113,13[8C32%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m) [31m'<<==== All Model Init Rank:'[m, comm_rank, [35m&[m[28;63H[K[28;63H112,13[8C32%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H111,13[8C31%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H110,4[9C31%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H109,0-1[7C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;8H#[35mend[m for[28;63H[K[28;63H108,13[8C31%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mend if[m[28;63H[K[28;63H107,13[8C30%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H$init_method.getFuncFormat()[28;63H[K[28;63H106,13[8C30%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m(my_proc%iamin_model${[38;5;130mname[m})[38;5;130mthen[m[28;63H[K[28;63H105,13[8C30%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $init_method [38;5;130m=[m $[35msubroutine[m[[31m'init_method'[m][28;63H[K[28;63H104,13[8C29%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[35msubroutine[m [38;5;130m=[m $cfg[[31m'subroutine'[m][28;63H[K[28;63H103,13[8C29%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $[38;5;130mname[m [38;5;130m=[m $cfg[[31m'model_unique_name'[m][28;63H[K[28;63H102,13[8C29%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;8H#for $cfg [32min[m $model_cfgs[28;63H[K[28;63H101,13[8C28%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H100,13[8C28%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! !Model Init[m[28;63H[K[28;63H99,13[9C28%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H98,13[9C28%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H97,0-1[8C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H96,0-1[8C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m MPI_Comm_rank(MPI_COMM_WORLD, comm_rank, ierr)[28;63H[K[28;63H95,13[9C27%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H94,0-1[8C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H93,12[9C26%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[36mcall[m $init_str[28;63H[K[28;63H92,13[9C26%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H#set $init_str [38;5;130m=[m $init.toString($init.[38;5;130mname[m, $init.argList)[28;63H[K[28;63H91,13[9C26%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H#set $init [38;5;130m=[m $fraction_cfgs[$frac].init[28;63H[K[28;63H90,13[9C25%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $frac [32min[m $fraction_cfgs[28;63H[K[28;63H89,13[9C25%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H88,0-1[8C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H87,12[9C24%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#[35mend[m for[28;63H[K[28;63H86,13[9C24%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H$[38;5;130mname=>[m my_proc%$[38;5;130mname[m[28;63H[K[28;63H85,13[9C24%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $[38;5;130mname[m [38;5;130m=[m $avs[$av].[38;5;130mname[m[28;63H[K[28;63H84,13[9C24%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#for $av [32min[m $avs[28;63H[K[28;63H83,13[9C23%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $avs [38;5;130m=[m $model.attrVects[28;63H[K[28;63H82,13[9C23%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H81,13[9C23%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H80,4[10C22%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H79,13[9C22%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!  !Define Model_AV_MM [m[28;63H[K[28;63H78,13[9C22%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H77,13[9C22%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H76,0-1[8C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H75,13[9C21%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! !Cpl in 0,1,2,3[m[28;63H[K[28;63H74,13[9C21%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! !A in 0,1,gsize=8   B in 2,3,gsize=12   C in 2,3,gsize=16[m[28;63H[K[28;63H73,13[9C20%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m!-------------------------------------------------------------------[m[28;63H[K[28;63H72,13[9C20%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H71,4[10C20%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m clock_init(EClock)[28;63H[K[28;63H70,13[9C20%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[36mcall[m pm_init(my_proc)[28;63H[K[28;63H69,13[9C19%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: comm_rank[28;63H[K[28;63H68,13[9C19%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: ierr[28;63H[K[28;63H67,13[9C19%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H66,13[9C18%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35msubroutine[m cpl_init()[28;63H[K[28;63H65,13[9C18%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H64,0-1[8C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mcontains[m[28;63H[K[28;63H63,8[10C17%[1;8H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H62,0-1[8C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mpublic[m :: cpl_final[28;63H[K[28;63H61,13[9C17%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mpublic[m :: cpl_run[28;63H[K[28;63H60,13[9C17%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mpublic[m :: cpl_init[28;63H[K[28;63H59,13[9C16%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H58,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mtype[m(clock) :: EClock[28;63H[K[28;63H57,13[9C16%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m     logical[m :: stop_clock[28;63H[K[28;63H56,13[9C15%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H55,4[10C15%[1;4H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H54,12[9C15%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(AttrVect) :: $frac[28;63H[K[28;63H53,13[9C15%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $frac [32min[m $fraction_cfgs[28;63H[K[28;63H52,13[9C14%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H51,0-1[8C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H50,12[9C14%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[32m         logical[m :: ${[38;5;130mname[m}_run[28;63H[K[28;63H49,6-13[7C13%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H48,13[9C13%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H47,13[9C13%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! Declare Control Var[m[28;63H[K[28;63H46,13[9C13%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H45,0-1[8C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H44,12[9C12%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#[35mend[m for[28;63H[K[28;63H43,13[9C12%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;10H[32mtype[m(AttrVect):: $av_mx_nx[28;63H[K[28;63H42,13[9C11%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $av_mx_nx [38;5;130m=[m $mn_av[[31m'dst_av'[m].[38;5;130mname[m[28;63H[K[28;63H41,13[9C11%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#for $mn_av [32min[m $cfg[[31m'dst'[m][28;63H[K[28;63H40,13[9C11%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $cfg [38;5;130m=[m $merge_cfgs[$cfg][28;63H[K[28;63H39,13[9C11%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $cfg [32min[m $merge_cfgs[28;63H[K[28;63H38,13[9C10%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! Declare Temp Merge AttrVect of each Model(m2x_nx)[m[28;63H[K[28;63H37,13[9C10%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H36,0-1[8C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H35,0-1[9C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H34,12[10C9%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#[35mend[m for[28;63H[K[28;63H33,13[10C9%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[32mtype[m[106m([mAttrVect[106m)[m,[32mpointer[m ::$[38;5;130mname[m[28;63H[K[28;63H32,13[10C8%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $[38;5;130mname[m [38;5;130m=[m $avs[$av].[38;5;130mname[m[2;13H([8C)[28;63H[K[28;63H31,13[10C8%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#for $av [32min[m $avs[28;63H[K[28;63H30,13[10C8%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $avs [38;5;130m=[m $model.attrVects[28;63H[K[28;63H29,13[10C8%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H28,13[10C7%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! Declare AttrVect of each Model(c2x_cx,c2x_cc,x2c_cx,x2c_cc)[m[28;63H[K[28;63H27,13[10C7%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H26,0-1[9C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#[35mend[m for[28;63H[K[28;63H25,12[10C6%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#[35mend[m for[28;63H[K[28;63H24,13[10C6%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[32mtype[m[106m([mgsMap[106m)[m :: $[38;5;130mname[m[28;63H[K[28;63H23,13[10C6%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;25H#set $[38;5;130mname[m [38;5;130m=[m $gms[$gm].[38;5;130mname[m[2;13H(gsMap)[28;63H[K[28;63H22,13[10C6%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#for $gm [32min[m $gms[28;63H[K[28;63H21,13[10C5%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H#set $gms [38;5;130m=[m $model.gsMaps[28;63H[K[28;63H20,13[10C5%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H19,13[10C5%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m! Declare gsMap of each Model[m[28;63H[K[28;63H18,13[10C4%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H17,0-1[9C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mtype[m(proc), [32mtarget[m :: my_proc[28;63H[K[28;63H16,13[10C4%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H[32mimplicit[m [32mnone[m[28;63H[K[28;63H15,13[10C4%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H14,0-1[9C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H#[35mend[m for[28;63H[K[28;63H13,8[11C3%[1;8H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m comp_${[38;5;130mname[m}[28;63H[K[28;63H12,13[10C3%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;6H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H11,13[10C2%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H10,13[10C2%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m!use fraction_mod[m[28;63H[K[28;63H9,13[11C2%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m!use mrg_mod[m[28;63H[K[28;63H8,12[11C2%[1;12H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m mct_mod[28;63H[K[28;63H7,11[11C1%[1;11H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m timeM[28;63H[K[28;63H6,9[12C1%[1;9H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m comms[28;63H[K[28;63H5,9[12C1%[1;9H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m procm, [35monly[m: pm_init [38;5;130m=>[m init, clean[28;63H[K[28;63H4,13[11C0%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m comms_def[28;63H[K[28;63H3,13[11C0%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m proc_def[28;63H[K[28;63H2,13[11C0%[1;13H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mmodule[m baseCpl[28;63H[K[28;63H1,13[9Cé¡¶ç«¯[1;13H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hW[?25l[?12l[?25hQ[?25l[?12l[?25h[?25l[97m[41mE492: ä¸æ˜¯ç¼–è¾‘å™¨çš„å‘½ä»¤: WQ[m[36C1,13[9Cé¡¶ç«¯[1;13H[?12l[?25h[?25l[28;1H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl_Template.F90" 372L, 13885C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim manage.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"manage.F90" 267L, 8406C[>c[1;1H[35mmodule[m procM

[35muse[m mct_mod
[35muse[m comms_def, [35monly[m: mct_mod
[35muse[m proc_def, [35monly[m: proc
[35muse[m comms, [35monly[m: mapper_init
[35muse[m deploy_mod, [35monly[m: deploy, deploy_cpl
[35muse[m mpi_comm, [35monly[m:  iam_comm_root
[34m!use deploy_mod
!use m_attrvect, only: AttrVect, mct_init => init, mct_clean => clean[m
    [32mimplicit[m [32mnone[m
[35minclude[m[31m"mpif.h"[m[14;5H[32mpublic[m :: init
    [32mpublic[m :: clean

[35mcontains

subroutine[m init(my_proc)[21;5H[32mimplicit[m [32mnone
[m    [32mtype[m(proc), [32mintent[m([32minout[m) :: my_proc
    [32minteger[m :: ierr
    [32minteger[m :: num_rank
    [32minteger[m :: num_size
    [32minteger[m :: iter[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;63H2,0-1[2;1H[?12l[?25h[?25l[28;63H3,1  [3;1H[?12l[?25h[?25l[28;63H4[4;1H[?12l[?25h[?25l[28;63H5[5;1H[?12l[?25h[?25l[28;63H6[6;1H[?12l[?25h[?25l[28;63H7[7;1H[?12l[?25h[?25l[28;63H8[8;1H[?12l[?25h[?25l[28;63H9[9;1H[?12l[?25h[?25l[28;63H10,1[10;1H[?12l[?25h[?25l[28;64H1[11;1H[?12l[?25h[?25l[28;64H2[12;1H[?12l[?25h[?25l[28;64H3,0-1[13;1H[?12l[?25h[?25l[28;64H4,1  [14;1H[?12l[?25h[?25l[28;64H5[15;1H[?12l[?25h[?25l[28;64H6,0-1[16;1H[?12l[?25h[?25l[28;64H7,1  [17;1H[?12l[?25h[?25l[28;64H8,0-1[18;1H[?12l[?25h[?25l[28;64H9,1  [19;1H[?12l[?25h[?25l[28;63H20[20;1H[?12l[?25h[?25l[28;64H1[21;1H[?12l[?25h[?25l[28;64H2[22;1H[?12l[?25h[?25l[28;64H3[23;1H[?12l[?25h[?25l[28;64H4[24;1H[?12l[?25h[?25l[28;64H5[25;1H[?12l[?25h[?25l[28;64H6[26;1H[?12l[?25h[?25l[28;64H7,0-1[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;1H[K[28;63H28,0-1[9C0%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_models [38;5;130m=[m [31m5[m[28;63H[K[28;63H29,1[11C0%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_comms [38;5;130m=[m [31m12[m[28;63H[K[28;63H30,1[11C1%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_flags [38;5;130m=[m [38;5;130m-[m[31m1[m[28;63H[K[28;63H31,1[11C1%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H32,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H33,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H34,0-1[9C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Init(ierr)[28;63H[K[28;63H35,1[11C3%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Comm_rank(MPI_COMM_WORLD, num_rank, ierr)[28;63H[K[28;63H36,1[11C3%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Comm_size(MPI_COMM_WORLD, num_size, ierr)[28;63H[K[28;63H37,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H38,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!call mct_world_init(ncomps, MPI_COMM_WORLD, comms, comps) ! comms? comps?[m[28;63H[K[28;63H39,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H40,0-1[9C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%modela [38;5;130m=[m [31m"modela"[m[28;63H[K[28;63H41,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H42,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%a_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H43,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H44,0-1[9C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%modellnd [38;5;130m=[m [31m"modellnd"[m[28;63H[K[28;63H45,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H46,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%lnd_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H47,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H48,0-1[9C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%modelb [38;5;130m=[m [31m"modelb"[m[28;63H[K[28;63H49,1[11C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H50,1[11C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%b_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H51,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H52,0-1[8C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%modelatm [38;5;130m=[m [31m"modelatm"[m[28;63H[K[28;63H53,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H54,1[10C11%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%atm_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H55,1[10C11%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H56,0-1[8C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%modelocn [38;5;130m=[m [31m"modelocn"[m[28;63H[K[28;63H57,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H58,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%ocn_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H59,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H60,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%a_gsize [38;5;130m=[m [31m10[m[28;63H[K[28;63H61,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%lnd_gsize [38;5;130m=[m [31m1000[m[28;63H[K[28;63H62,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%b_gsize [38;5;130m=[m [31m10[m[28;63H[K[28;63H63,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%atm_gsize [38;5;130m=[m [31m20[m[28;63H[K[28;63H64,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%ocn_gsize [38;5;130m=[m [31m1000[m[28;63H[K[28;63H65,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H66,1[10C16%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!----------------------------------------------------------[m[28;63H[K[28;63H67,1[10C16%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! set up every comp's comm[m[28;63H[K[28;63H68,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!----------------------------------------------------------[m[28;63H[K[28;63H69,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%mpi_glocomm [38;5;130m=[m MPI_COMM_WORLD[28;63H[K[28;63H70,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H71,0-1[8C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%iamin_model(my_proc%ncomps))[28;63H[K[28;63H72,1[10C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mdo[m iter [38;5;130m=[m [31m1[m, my_proc%ncomps[28;63H[K[28;63H73,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_model(iter) [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H74,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend do[m[28;63H[K[28;63H75,1[10C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_model([31m1[m) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H76,1[10C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H77,0-1[8C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! deploy_cpl[m[28;63H[K[28;63H78,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy_cpl(my_proc%mpi_glocomm, my_proc%mpi_cpl, [35m&[m[28;63H[K[28;63H79,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;19Hmy_proc%cplid, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H80,1[10C22%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H81,0-1[8C22%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_modela,[35m&[m[28;63H[K[28;63H82,1[10C22%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_modela2cpl, [35m&[m[28;63H[K[28;63H83,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modela_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H84,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modela2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H85,1[10C24%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_modellnd,[35m&[m[28;63H[K[28;63H86,1[10C24%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_modellnd2cpl, [35m&[m[28;63H[K[28;63H87,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modellnd_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H88,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modellnd2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H89,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_modelb,[35m&[m[28;63H[K[28;63H90,1[10C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_modelb2cpl, [35m&[m[28;63H[K[28;63H91,1[10C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelb_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H92,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelb2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H93,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_modelatm,[35m&[m[28;63H[K[28;63H94,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_modelatm2cpl, [35m&[m[28;63H[K[28;63H95,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelatm_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H96,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelatm2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H97,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_modelocn,[35m&[m[28;63H[K[28;63H98,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_modelocn2cpl, [35m&[m[28;63H[K[28;63H99,1[10C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelocn_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H100,1[9C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%modelocn2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H101,1[9C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H102,0-1[7C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H103,0-1[7C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H104,0-1[7C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H105,1[9C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m), [31m"my_world_rank:"[m, num_rank, [31m" my_in_model"[m, my_proc%iamin_model[28;63H[K[28;63H106,1[9C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H107,1[9C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H108,0-1[7C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H109,0-1[7C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H110,1[9C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'comm initiated'[m[28;63H[K[28;63H111,1[9C35%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%comp_comm(my_proc%ncomps))[28;63H[K[28;63H112,1[9C35%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%gloid)[9C[38;5;130m=[m my_proc%mpi_glocomm[28;63H[K[28;63H113,1[9C35%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%cplid)[9C[38;5;130m=[m my_proc%mpi_cpl[28;63H[K[28;63H114,1[9C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H115,0-1[7C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H116,0-1[7C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modela_id)     [38;5;130m=[m my_proc%mpi_modela[28;63H[K[28;63H117,1[9C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modela2cpl_id) [38;5;130m=[m my_proc%mpi_modela2cpl[28;63H[K[28;63H118,1[9C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H119,0-1[7C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modellnd_id)     [38;5;130m=[m my_proc%mpi_modellnd[28;63H[K[28;63H120,1[9C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modellnd2cpl_id) [38;5;130m=[m my_proc%mpi_modellnd2cpl[28;63H[K[28;63H121,1[9C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H122,0-1[7C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelb_id)     [38;5;130m=[m my_proc%mpi_modelb[28;63H[K[28;63H123,1[9C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelb2cpl_id) [38;5;130m=[m my_proc%mpi_modelb2cpl[28;63H[K[28;63H124,1[9C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H125,0-1[7C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelatm_id)     [38;5;130m=[m my_proc%mpi_modelatm[28;63H[K[28;63H126,1[9C41%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelatm2cpl_id) [38;5;130m=[m my_proc%mpi_modelatm2cpl[28;63H[K[28;63H127,1[9C41%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H128,0-1[7C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelocn_id)     [38;5;130m=[m my_proc%mpi_modelocn[28;63H[K[28;63H129,1[9C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%modelocn2cpl_id) [38;5;130m=[m my_proc%mpi_modelocn2cpl[28;63H[K[28;63H130,1[9C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H131,0-1[7C43%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H132,1[9C43%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'comp_comm initiated'[m[28;63H[K[28;63H133,1[9C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%comp_id(my_proc%ncomps))[28;63H[K[28;63H134,1[9C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mdo[m iter [38;5;130m=[m [31m1[m, my_proc%ncomps[28;63H[K[28;63H135,1[9C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%comp_id(iter) [38;5;130m=[m iter[28;63H[K[28;63H136,1[9C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend do[m[28;63H[K[28;63H137,1[9C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H138,0-1[7C46%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5H[36mcall[m mct_world_init(my_proc%ncomps, MPI_COMM_WORLD, my_proc%comp_comm, my_prr[27;1Hoc%comp_id)[28;63H[K[28;63H139,1[9C46%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H140,0-1[7C47%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'mct_world_init initiated'[m[28;63H[K[28;63H141,1[9C47%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(num_rank[38;5;130m==[m[31m0[m) [38;5;130mthen[m[28;63H[K[28;63H142,1[9C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iam_root [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H143,1[9C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130melse[m[28;63H[K[28;63H144,1[9C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iam_root [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H145,1[9C49%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H146,1[9C49%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H147,0-1[7C50%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H148,1[9C50%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%cplid))[38;5;130mthen[m[28;63H[K[28;63H149,1[9C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'Im cpl'[m,num_rank[28;63H[K[28;63H150,1[9C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_cpl, my_proc%iamroot_cpl, ierr)[28;63H[K[28;63H151,1[9C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H152,1[9C52%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H153,1[9C52%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H154,0-1[7C53%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modela [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H155,1[9C53%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modela_id))[38;5;130mthen[m[28;63H[K[28;63H156,1[9C53%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modela, my_proc%iamroot_modela, ierr)[28;63H[K[28;63H157,1[9C54%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modela [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H158,1[9C54%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H159,1[9C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H160,0-1[7C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modela2cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H161,1[9C56%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modela2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H162,1[9C56%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modela2cpl, [35m&[m[28;63H[K[28;63H163,1[9C56%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_modela2cpl, ierr)[28;63H[K[28;63H164,1[9C57%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9Hmy_proc%iamin_modela2cpl [38;5;130m=[m [31m.true.[m
    [38;5;130mend if[m[28;63H[K[28;63H165,1[9C57%[26;1H[?12l[?25h[?25l[28;65H6[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H167,0-1[7C58%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modellnd [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H168,1[9C58%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modellnd_id))[38;5;130mthen[m[28;63H[K[28;63H169,1[9C59%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modellnd, my_proc%iamroot_modellnd, ierr)[28;63H[K[28;63H170,1[9C59%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modellnd [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H171,1[9C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H172,1[9C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H173,0-1[7C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modellnd2cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H174,1[9C61%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modellnd2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H175,1[9C61%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modellnd2cpl, [35m&[m[28;63H[K[28;63H176,1[9C62%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_modellnd2cpl, ierr)[28;63H[K[28;63H177,1[9C62%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modellnd2cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H178,1[9C62%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H179,1[9C63%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H180,0-1[7C63%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelb [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H181,1[9C64%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelb_id))[38;5;130mthen[m[28;63H[K[28;63H182,1[9C64%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelb, my_proc%iamroot_modelb, ierr)[28;63H[K[28;63H183,1[9C65%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelb [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H184,1[9C65%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H185,1[9C65%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H186,0-1[7C66%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelb2cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H187,1[9C66%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelb2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H188,1[9C67%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelb2cpl, [35m&[m[28;63H[K[28;63H189,1[9C67%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_modelb2cpl, ierr)[28;63H[K[28;63H190,1[9C67%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelb2cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H191,1[9C68%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H192,1[9C68%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H193,0-1[7C69%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelatm [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H194,1[9C69%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelatm_id))[38;5;130mthen[m[28;63H[K[28;63H195,1[9C70%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelatm, my_proc%iamroot_modelatm, ierr)[28;63H[K[28;63H196,1[9C70%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelatm [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H197,1[9C70%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H198,1[9C71%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H199,0-1[7C71%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelatm2cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H200,1[9C72%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelatm2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H201,1[9C72%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelatm2cpl, [35m&[m[28;63H[K[28;63H202,1[9C72%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_modelatm2cpl, ierr)[28;63H[K[28;63H203,1[9C73%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelatm2cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H204,1[9C73%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H205,1[9C74%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H206,0-1[7C74%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelocn [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H207,1[9C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelocn_id))[38;5;130mthen[m[28;63H[K[28;63H208,1[9C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelocn, my_proc%iamroot_modelocn, ierr)[28;63H[K[28;63H209,1[9C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelocn [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H210,1[9C76%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H211,1[9C76%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H212,0-1[7C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_modelocn2cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H213,1[9C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%modelocn2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H214,1[9C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_modelocn2cpl, [35m&[m[28;63H[K[28;63H215,1[9C78%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_modelocn2cpl, ierr)[28;63H[K[28;63H216,1[9C78%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_modelocn2cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H217,1[9C79%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H218,1[9C79%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H219,0-1[7C80%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H220,0-1[7C80%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H221,0-1[7C80%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H222,1[9C81%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'before mapper_init'[m[28;63H[K[28;63H223,1[9C81%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H224,0-1[7C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H225,0-1[7C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Ca[36m2x[m, ierr)[28;63H[K[28;63H226,1[9C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2a, ierr)[28;63H[K[28;63H227,1[9C83%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H228,0-1[7C83%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Clnd[36m2x[m, ierr)[28;63H[K[28;63H229,1[9C84%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2lnd, ierr)[28;63H[K[28;63H230,1[9C84%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H231,0-1[7C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cb[36m2x[m, ierr)[28;63H[K[28;63H232,1[9C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2b, ierr)[28;63H[K[28;63H233,1[9C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H234,0-1[7C86%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Catm[36m2x[m, ierr)[28;63H[K[28;63H235,1[9C86%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2atm, ierr)[28;63H[K[28;63H236,1[9C87%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H237,0-1[7C87%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cocn[36m2x[m, ierr)[28;63H[K[28;63H238,1[9C87%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2ocn, ierr)[28;63H[K[28;63H239,1[9C88%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H240,0-1[7C88%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%nothing [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H241,1[9C89%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H242,0-1[7C89%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m init[28;63H[K[28;63H243,1[9C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H244,0-1[7C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35msubroutine[m clean(my_proc)[28;63H[K[28;63H245,1[9C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H246,1[9C91%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H247,1[9C91%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mtype[m(proc), [32mintent[m([32minout[m) :: my_proc[28;63H[K[28;63H248,1[9C92%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: ierr[28;63H[K[28;63H249,1[9C92%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H250,0-1[7C92%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%a2x_aa)[28;63H[K[28;63H251,1[9C93%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2a_aa)[28;63H[K[28;63H252,1[9C93%[27;1H[?12l[?25h[?25l[28;65H1[26;1H[?12l[?25h[?25l[28;65H0,0-1[25;1H[?12l[?25h[?25l[28;64H49,1  [24;1H[?12l[?25h[?25l[28;65H8[23;1H[?12l[?25h[?25l[28;65H7[22;1H[?12l[?25h[?25l[28;65H6[21;1H[?12l[?25h[?25l[28;65H5[20;1H[?12l[?25h[?25l[28;65H4,0-1[19;1H[?12l[?25h[?25l[28;65H3,1  [18;1H[?12l[?25h[?25l[28;65H2,0-1[17;1H[?12l[?25h[?25l[28;65H1,1  [16;1H[?12l[?25h[?25l[28;65H0,0-1[15;1H[?12l[?25h[?25l[28;64H39,1  [14;1H[?12l[?25h[?25l[28;65H8[13;1H[?12l[?25h[?25l[28;65H7,0-1[12;1H[?12l[?25h[?25l[28;65H6,1  [11;1H[?12l[?25h[?25l[28;65H5[10;1H[?12l[?25h[?25l[28;65H4,0-1[9;1H[?12l[?25h[?25l[28;65H3,1  [8;1H[?12l[?25h[?25l[28;65H2[7;1H[?12l[?25h[?25l[28;65H1,0-1[6;1H[?12l[?25h[?25l[28;65H2,1  [7;1H[?12l[?25h[?25l[28;65H3[8;1H[?12l[?25h[?25l[28;65H4,0-1[9;1H[?12l[?25h[?25l[28;65H5,1  [10;1H[?12l[?25h[?25l[28;65H6[11;1H[?12l[?25h[?25l[28;65H7,0-1[12;1H[?12l[?25h[?25l[28;65H8,1  [13;1H[?12l[?25h[?25l[28;65H9[14;1H[?12l[?25h[?25l[28;64H40,0-1[15;1H[?12l[?25h[?25l[28;65H1,1  [16;1H[?12l[?25h[?25l[28;65H2,0-1[17;1H[?12l[?25h[?25l[28;65H3,1  [18;1H[?12l[?25h[?25l[28;65H4,0-1[19;1H[?12l[?25h[?25l[28;65H5,1  [20;1H[?12l[?25h[?25l[28;65H6[21;1H[?12l[?25h[?25l[28;65H7[22;1H[?12l[?25h[?25l[28;65H8[23;1H[?12l[?25h[?25l[28;65H9[24;1H[?12l[?25h[?25l[28;64H50,0-1[25;1H[?12l[?25h[?25l[28;65H1,1  [26;1H[?12l[?25h[?25l[28;65H2[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%lnd2x_lndlnd)[28;63H[K[28;63H253,1[9C94%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2lnd_lndlnd)[28;63H[K[28;63H254,1[9C94%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%b2x_bb)[28;63H[K[28;63H255,1[9C95%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2b_bb)[28;63H[K[28;63H256,1[9C95%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%atm2x_atmatm)[28;63H[K[28;63H257,1[9C95%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2atm_atmatm)[28;63H[K[28;63H258,1[9C96%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%ocn2x_ocnocn)[28;63H[K[28;63H259,1[9C96%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2ocn_ocnocn)[28;63H[K[28;63H260,1[9C97%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H261,0-1[7C97%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Finalize(ierr)[28;63H[K[28;63H262,1[9C97%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H263,0-1[7C98%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m clean[28;63H[K[28;63H264,1[9C98%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H265,0-1[7C99%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend module[m procM[28;63H[K[28;63H266,1[9C99%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H267,0-1      åº•ç«¯[27;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"manage.F90" 267L, 8406C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim mana[K[K[K[KprocM_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"procM_Template.F90" 174L, 4751C[>c[1;5H#set $num_comms [38;5;130m=[m $num_models [38;5;130m*[m [31m2[m [38;5;130m+[m [31m2[m[3;5Hmy_proc%num_models [38;5;130m=[m $num_models
    my_proc%num_comms [38;5;130m=[m $num_comms
    my_proc%num_flags [38;5;130m=[m [38;5;130m-[m[31m1[m[9;5H[36mcall[m MPI_Init(ierr)
    [36mcall[m MPI_Comm_rank(MPI_COMM_WORLD, num_rank, ierr)
    [36mcall[m MPI_Comm_size(MPI_COMM_WORLD, num_size, ierr)[13;5H[34m!call mct_world_init(ncomps, MPI_COMM_WORLD, comms, comps) ! comms? comps?[m
#for $model [32min[m $proc_cfgs
#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[17;5Hmy_proc%model${[38;5;130mname[m} [38;5;130m=[m [31m"model${name}"[m
    [34m! [m[30m[103mtodo[m
    my_proc%${[38;5;130mname[m}_size [38;5;130m=[m [31m10[m
#[35mend[m for
    [34m! [m[30m[103mtodo[m
#for $model [32min[m $proc_cfgs
    #set $g_size [38;5;130m=[m $model.gSize
    #set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m
    my_proc%${[38;5;130mname[m}_gsize [38;5;130m=[m $g_size
#[35mend[m for[28;63H42,1[10C19%[14;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H3[15;1H[?12l[?25h[?25l[28;64H2[14;1H[?12l[?25h[?25l[28;64H1[13;1H[?12l[?25h[?25l[28;64H0[12;1H[?12l[?25h[?25l[28;63H39[11;1H[?12l[?25h[?25l[28;64H8[10;1H[?12l[?25h[?25l[28;64H7[9;1H[?12l[?25h[?25l[28;64H6,0-1[8;1H[?12l[?25h[?25l[28;64H5,1  [7;1H[?12l[?25h[?25l[28;64H4[6;1H[?12l[?25h[?25l[28;64H3[5;1H[?12l[?25h[?25l[28;64H2[4;1H[?12l[?25h[?25l[28;64H1[3;1H[?12l[?25h[?25l[28;64H0,0-1[2;1H[?12l[?25h[?25l[28;63H29,1  [1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H#set $num_models [38;5;130m=[m [36mlen[m($proc_cfgs)[28;1H[K[28;63H28,1[10C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H27,0-1[8C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: iter[28;63H[K[28;63H26,1[10C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: num_size[28;63H[K[28;63H25,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: num_rank[28;63H[K[28;63H24,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32minteger[m :: ierr[28;63H[K[28;63H23,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mtype[m(proc), [32mintent[m([32minout[m) :: my_proc[28;63H[K[28;63H22,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H21,1[10C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H20,1[10C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35msubroutine[m init(my_proc)[28;63H[K[28;63H19,1[10C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H18,0-1[8C11%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mcontains[m[28;63H[K[28;63H17,1[10C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H16,0-1[8C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mpublic[m :: clean[28;63H[K[28;63H15,1[11C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mpublic[m :: init[28;63H[K[28;63H14,1[11C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H13,0-1[9C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35minclude[m[31m"mpif.h"[m[28;63H[K[28;63H12,1[11C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H11,1[11C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m!use m_attrvect, only: AttrVect, mct_init => init, mct_clean => clean[m[28;63H[K[28;63H10,1[11C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m!use deploy_mod[m[28;63H[K[28;63H9,1[12C5%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m mpi_comm, [35monly[m:  iam_comm_root[28;63H[K[28;63H8,1[12C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m deploy_mod, [35monly[m: deploy, deploy_cpl[28;63H[K[28;63H7,1[12C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m comms, [35monly[m: mapper_init[28;63H[K[28;63H6,1[12C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m proc_def, [35monly[m: proc[28;63H[K[28;63H5,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m comms_def, [35monly[m: mct_mod[28;63H[K[28;63H4,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35muse[m mct_mod[28;63H[K[28;63H3,1[12C1%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H2,0-1[10C0%[1;1H[?12l[?25h[?25l[28;63H3,1  [2;1H[?12l[?25h[?25l[28;63H4[3;1H[?12l[?25h[?25l[28;63H5[4;1H[?12l[?25h[?25l[28;63H6[5;1H[?12l[?25h[?25l[28;63H7[6;1H[?12l[?25h[?25l[28;63H8[7;1H[?12l[?25h[?25l[28;63H9[8;1H[?12l[?25h[?25l[28;63H10,1[9;1H[?12l[?25h[?25l[28;64H1[10;1H[?12l[?25h[?25l[28;64H2[11;1H[?12l[?25h[?25l[28;64H3,0-1[12;1H[?12l[?25h[?25l[28;64H4,1  [13;1H[?12l[?25h[?25l[28;64H5[14;1H[?12l[?25h[?25l[28;64H6,0-1[15;1H[?12l[?25h[?25l[28;64H7,1  [16;1H[?12l[?25h[?25l[28;64H8,0-1[17;1H[?12l[?25h[?25l[28;64H9,1  [18;1H[?12l[?25h[?25l[28;63H20[19;1H[?12l[?25h[?25l[28;64H1[20;1H[?12l[?25h[?25l[28;64H2[21;1H[?12l[?25h[?25l[28;64H3[22;1H[?12l[?25h[?25l[28;64H4[23;1H[?12l[?25h[?25l[28;64H5[24;1H[?12l[?25h[?25l[28;64H6[25;1H[?12l[?25h[?25l[28;64H7,0-1[26;1H[?12l[?25h[?25l[28;64H8,1  [27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $num_comms [38;5;130m=[m $num_models [38;5;130m*[m [31m2[m [38;5;130m+[m [31m2[m[28;63H[K[28;63H29,1[11C1%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H30,0-1[9C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_models [38;5;130m=[m $num_models[28;63H[K[28;63H31,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_comms [38;5;130m=[m $num_comms[28;63H[K[28;63H32,1[11C3%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%num_flags [38;5;130m=[m [38;5;130m-[m[31m1[m[28;63H[K[28;63H33,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H34,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H35,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H36,0-1[9C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Init(ierr)[28;63H[K[28;63H37,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Comm_rank(MPI_COMM_WORLD, num_rank, ierr)[28;63H[K[28;63H38,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Comm_size(MPI_COMM_WORLD, num_size, ierr)[28;63H[K[28;63H39,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H40,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!call mct_world_init(ncomps, MPI_COMM_WORLD, comms, comps) ! comms? comps?[m[28;63H[K[28;63H41,1[11C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H42,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H43,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H44,0-1[8C11%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%model${[38;5;130mname[m} [38;5;130m=[m [31m"model${name}"[m[28;63H[K[28;63H45,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H46,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%${[38;5;130mname[m}_size [38;5;130m=[m [31m10[m[28;63H[K[28;63H47,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H48,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! [m[30m[103mtodo[m[28;63H[K[28;63H49,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H50,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $g_size [38;5;130m=[m $model.gSize[28;63H[K[28;63H51,1[10C16%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H52,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%${[38;5;130mname[m}_gsize [38;5;130m=[m $g_size[28;63H[K[28;63H53,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H54,1[10C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H55,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!----------------------------------------------------------[m[28;63H[K[28;63H56,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! set up every comp's comm[m[28;63H[K[28;63H57,1[10C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!----------------------------------------------------------[m[28;63H[K[28;63H58,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%mpi_glocomm [38;5;130m=[m MPI_COMM_WORLD[28;63H[K[28;63H59,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H60,0-1[8C22%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%iamin_model(my_proc%ncomps))[28;63H[K[28;63H61,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mdo[m iter [38;5;130m=[m [31m1[m, my_proc%ncomps[28;63H[K[28;63H62,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_model(iter) [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H63,1[10C24%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend do[m[28;63H[K[28;63H64,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_model([31m1[m) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H65,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H66,0-1[8C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m! deploy_cpl[m[28;63H[K[28;63H67,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy_cpl(my_proc%mpi_glocomm, my_proc%mpi_cpl, [35m&[m[28;63H[K[28;63H68,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;19Hmy_proc%cplid, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H69,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H70,0-1[8C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H71,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H72,1[10C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m deploy(my_proc%mpi_glocomm, my_proc%mpi_model${[38;5;130mname[m},[35m&[m[28;63H[K[28;63H73,1[10C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%mpi_model${[38;5;130mname[m}2cpl, [35m&[m[28;63H[K[28;63H74,1[10C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%model${[38;5;130mname[m}_id, my_proc%cplid, [35m&[m[28;63H[K[28;63H75,1[10C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmy_proc%model${[38;5;130mname[m}2cpl_id, my_proc%iamin_model, [31m0[m, ierr)[28;63H[K[28;63H76,1[10C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H77,1[10C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H78,0-1[8C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H79,0-1[8C35%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H80,0-1[8C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H81,1[10C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m), [31m"my_world_rank:"[m, num_rank, [31m" my_in_model"[m, my_proc%iamin_model[28;63H[K[28;63H82,1[10C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H83,1[10C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H84,0-1[8C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H85,0-1[8C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H86,1[10C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'comm initiated'[m[28;63H[K[28;63H87,1[10C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%comp_comm(my_proc%ncomps))[28;63H[K[28;63H88,1[10C41%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%gloid)[9C[38;5;130m=[m my_proc%mpi_glocomm[28;63H[K[28;63H89,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%cplid)[9C[38;5;130m=[m my_proc%mpi_cpl[28;63H[K[28;63H90,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H91,0-1[8C43%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H92,1[10C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $g_size [38;5;130m=[m $model.gSize[28;63H[K[28;63H93,1[10C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H94,1[10C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H95,0-1[8C46%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%comp_comm(my_proc%model${[38;5;130mname[m}_id)     [38;5;130m=[m my_proc%mpi_model${[38;5;130mname[m}[28;63H[K[28;63H96,1[10C46%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5Hmy_proc%comp_comm(my_proc%model${[38;5;130mname[m}2cpl_id) [38;5;130m=[m my_proc%mpi_model${[38;5;130mname[m}2cpp[27;1Hl[28;63H[K[28;63H97,1[10C47%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H98,1[10C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H99,0-1[8C49%[27;1H[?12l[?25h[?25l[28;64H8,1  [26;1H[?12l[?25h[?25l[28;64H7[24;1H[?12l[?25h[?25l[28;64H6[23;1H[?12l[?25h[?25l[28;64H5,0-1[22;1H[?12l[?25h[?25l[28;64H4,1  [21;1H[?12l[?25h[?25l[28;64H3[20;1H[?12l[?25h[?25l[28;64H2[19;1H[?12l[?25h[?25l[28;64H1,0-1[18;1H[?12l[?25h[?25l[28;64H0,1  [17;1H[?12l[?25h[?25l[28;63H89[16;1H[?12l[?25h[?25l[28;64H8[15;1H[?12l[?25h[?25l[28;64H7[14;1H[?12l[?25h[?25l[28;66H2[14;2H[?12l[?25h[?25l[28;66H3[14;3H[?12l[?25h[?25l[28;66H4[14;4H[?12l[?25h[?25l[28;66H5[14;5H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;63H[K[28;63H87,5[10C49%[14;5H[?12l[?25h[?25l[34m!write(*,*)'comm initiated'[m[28;66H6[14;6H[?12l[?25h[?25l[28;64H6[13;6H[?12l[?25h[?25l[28;64H5,1[12;1H[?12l[?25h[?25l[28;64H4[11;1H[?12l[?25h[?25l[28;64H3,6[10;6H[?12l[?25h[?25l[28;64H2[9;6H[?12l[?25h[?25l[28;66H5[9;5H[?12l[?25h[?25l[34m!write(*,*), "my_world_rank:", num_rank, " my_in_model", my_proc%iamin_model[m[28;66H6[9;6H[?12l[?25h[?25l[28;64H3[10;6H[?12l[?25h[?25l[28;64H2[9;6H[?12l[?25h[?25l[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m), [31m"my_world_rank:"[m, num_rank, [31m" my_in_model"[m, my_proc%iamin_model[9;80H[K[28;66H5[9;5H[?12l[?25h[?25l[28;64H3[10;5H[?12l[?25h[?25l[28;64H4,1[11;1H[?12l[?25h[?25l[28;64H5[12;1H[?12l[?25h[?25l[28;64H6,5[13;5H[?12l[?25h[?25l[28;64H7[14;5H[?12l[?25h[?25l[28;64H8[15;5H[?12l[?25h[?25l[28;64H9[16;5H[?12l[?25h[?25l[28;63H90[17;5H[?12l[?25h[?25l[28;64H1,1[18;1H[?12l[?25h[?25l[28;64H2,5[19;5H[?12l[?25h[?25l[28;64H3[20;5H[?12l[?25h[?25l[28;64H4[21;5H[?12l[?25h[?25l[28;64H5,1[22;1H[?12l[?25h[?25l[28;64H6,5[23;5H[?12l[?25h[?25l[28;64H7[24;5H[?12l[?25h[?25l[28;64H8[26;5H[?12l[?25h[?25l[28;64H9,1[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H100,5[9C50%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'comp_comm initiated'[m[28;63H[K[28;63H101,5[9C50%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mallocate[m(my_proc%comp_id(my_proc%ncomps))[28;63H[K[28;63H102,5[9C51%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mdo[m iter [38;5;130m=[m [31m1[m, my_proc%ncomps[28;63H[K[28;63H103,5[9C52%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%comp_id(iter) [38;5;130m=[m iter[28;63H[K[28;63H104,5[9C52%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend do[m[28;63H[K[28;63H105,5[9C53%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H106,1[9C54%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5H[36mcall[m mct_world_init(my_proc%ncomps, MPI_COMM_WORLD, my_proc%comp_comm, my_prr[27;1Hoc%comp_id)[28;63H[K[28;63H107,5[9C55%[26;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H108,1[9C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'mct_world_init initiated'[m[28;63H[K[28;63H109,5[9C56%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(num_rank[38;5;130m==[m[31m0[m) [38;5;130mthen[m[28;63H[K[28;63H110,5[9C57%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iam_root [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H111,5[9C57%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130melse[m[28;63H[K[28;63H112,5[9C58%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iam_root [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H113,5[9C59%[27;5H[?12l[?25h[?25l[28;65H2[26;5H[?12l[?25h[?25l[28;65H1[25;5H[?12l[?25h[?25l[28;65H0[24;5H[?12l[?25h[?25l[28;64H08,1[22;1H[?12l[?25h[?25l[28;65H7,5[20;5H[?12l[?25h[?25l[28;65H6,1[19;1H[?12l[?25h[?25l[28;65H5,5[18;5H[?12l[?25h[?25l[28;65H4[17;5H[?12l[?25h[?25l[28;65H3[16;5H[?12l[?25h[?25l[28;65H4[17;5H[?12l[?25h[?25l[28;65H5[18;5H[?12l[?25h[?25l[28;65H6,1[19;1H[?12l[?25h[?25l[28;65H7,5[20;5H[?12l[?25h[?25l[28;65H8,1[22;1H[?12l[?25h[?25l[28;65H9,5[23;5H[?12l[?25h[?25l[28;64H10[24;5H[?12l[?25h[?25l[28;65H1[25;5H[?12l[?25h[?25l[28;65H2[26;5H[?12l[?25h[?25l[28;65H3[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H114,5[9C59%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H115,1[9C60%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_cpl [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H116,5[9C61%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%cplid))[38;5;130mthen[m[28;63H[K[28;63H117,5[9C61%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'Im cpl'[m,num_rank[28;63H[K[28;63H118,5[9C62%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_cpl, my_proc%iamroot_cpl, ierr)[28;63H[K[28;63H119,5[9C63%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H120,5[9C63%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H121,5[9C64%[27;5H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H122,1[9C65%[26;1H[?12l[?25h[?25l[28;65H3,5[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $g_size [38;5;130m=[m $model.gSize[28;63H[K[28;63H124,5[9C66%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H125,5[9C66%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%iamin_model${[38;5;130mname[m} [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H126,5[9C67%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m(my_proc%iamin_model(my_proc%model${[38;5;130mname[m}_id))[38;5;130mthen[m[28;63H[K[28;63H127,5[9C68%[27;5H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9H[36mcall[m iam_comm_root(my_proc%mpi_model${[38;5;130mname[m}, my_proc%iamroot_model${[38;5;130mnamee[m[27;1H}, ierr)[28;63H[K[28;63H128,5[9C69%[26;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_model${[38;5;130mname[m} [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H129,5[9C69%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H130,5[9C70%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H131,1[9C71%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5Hmy_proc%iamin_model${[38;5;130mname[m}2cpl [38;5;130m=[m [31m.false.[m
    [38;5;130mif[m(my_proc%iamin_model(my_proc%model${[38;5;130mname[m}2cpl_id))[38;5;130mthen[m[28;63H[K[28;63H132,5[9C72%[26;5H[?12l[?25h[?25l[28;65H3[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m iam_comm_root(my_proc%mpi_model${[38;5;130mname[m}2cpl, [35m&[m[28;63H[K[28;63H134,5[9C72%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmy_proc%iamroot_model${[38;5;130mname[m}2cpl, ierr)[28;63H[K[28;63H135,5[9C73%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmy_proc%iamin_model${[38;5;130mname[m}2cpl [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H136,5[9C74%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H137,5[9C75%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H138,1[9C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H139,5[9C76%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H140,1[9C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H141,1[9C77%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ierr)[28;63H[K[28;63H142,5[9C78%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'before mapper_init'[m[28;63H[K[28;63H143,5[9C79%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H144,1[9C79%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H145,5[9C80%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $g_size [38;5;130m=[m $model.gSize[28;63H[K[28;63H146,5[9C81%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H147,5[9C81%[27;5H[?12l[?25h[?25l[28;65H6[26;5H[?12l[?25h[?25l[28;65H5[25;5H[?12l[?25h[?25l[28;65H4,1[24;1H[?12l[?25h[?25l[28;65H3,5[23;5H[?12l[?25h[?25l[34m!write(*,*)'before mapper_init'[m[28;67H6[23;6H[?12l[?25h[?25l[28;65H4,1[24;1H[?12l[?25h[?25l[28;65H5,6[25;6H[?12l[?25h[?25l[28;65H6[26;6H[?12l[?25h[?25l[28;65H7[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H148,1[9C82%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_C${[38;5;130mname[m}[36m2x[m, ierr)[28;63H[K[28;63H149,6[9C83%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m mapper_init(my_proc%mapper_Cx2${[38;5;130mname[m}, ierr)[28;63H[K[28;63H150,6[9C83%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H151,6[9C84%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H152,1[9C85%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hmy_proc%nothing [38;5;130m=[m [31m.false.[m[28;63H[K[28;63H153,6[9C85%[27;6H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H[35mend subroutine[m init[28;63H[K[28;63H154,1[9C87%[26;1H[?12l[?25h[?25l[28;65H5,6[27;6H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H[35msubroutine[m clean(my_proc)[28;63H[K[28;63H157,6[9C88%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H158,5[9C89%[27;5H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H159,6[9C89%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mtype[m(proc), [32mintent[m([32minout[m) :: my_proc[28;63H[K[28;63H160,6[9C90%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: ierr[28;63H[K[28;63H161,6[9C91%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H162,1[9C91%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#for $model [32min[m $proc_cfgs[28;63H[K[28;63H163,6[9C92%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;6H#set $[38;5;130mname[m [38;5;130m=[m $model.[38;5;130mname[m[28;63H[K[28;63H164,6[9C93%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%${[38;5;130mname[m}2x_${[38;5;130mname[m}${[38;5;130mname[m})[28;63H[K[28;63H165,6[9C93%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m avect_clean(my_proc%x2${[38;5;130mname[m}_${[38;5;130mname[m}${[38;5;130mname[m})[28;63H[K[28;63H166,6[9C94%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H#[35mend[m for[28;63H[K[28;63H167,6[9C95%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H168,1[9C95%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[36mcall[m MPI_Finalize(ierr)[28;63H[K[28;63H169,6[9C96%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H170,1[9C97%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m clean[28;63H[K[28;63H171,6[9C97%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H172,1[9C98%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend module[m procM[28;63H[K[28;63H173,6[9C99%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H174,1[8Cåº•ç«¯[27;1H[?12l[?25h[28;1H[K[27;1H[?25l[28;63H174,0-1      åº•ç«¯[27;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"procM_Template.F90" 174L, 4753C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd [K[K[Kvim deploymod_Template.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"deploymod_Template.F90" 173L, 6097C[>c[2;1H[35mmodule[m deploy_mod
[34m!----------------------------------------------------------
! This module used for deploy comp to proper process
!----------------------------------------------------------[m
    [32mimplicit[m [32mnone[m
[35minclude[m [31m'mpif.h'[m
    [32minteger[m :: defaulToAll [38;5;130m=[m [31m1[m
    #set nums [38;5;130m=[m [36mlen[m($deploy_cfgs)
    [32minteger[m :: comp(${nums}, [31m3[m)
    [32mdata[m comp [38;5;130m/[m [35m&[m [34m!--- comp_first, comp_last, stride[m[12;9H#set $first [38;5;130m=[m [][13;9H#set $last [38;5;130m=[m [][14;9H#set $stride [38;5;130m=[m [][15;9H#for $model_id [32min[m $deploy_cfgs[16;13H#set $deploy_cfg [38;5;130m=[m $deploy_cfgs[$model_id][17;13H$first.append($deploy_cfg[[31m0[m]) $last.append($deploy_cfg[[31m1[m]) $stride.aa[18;1Hppend($deploy_cfg[[31m2[m]) #[35mend[m for[19;9H#set $firsts [38;5;130m=[m [31m","[m.join($first) [38;5;130m+[m [31m",[m[35m&[m[31m"[m[20;9H#set $lasts [38;5;130m=[m [31m","[m.join($last) [38;5;130m+[m [31m",[m[35m&[m[31m"[m[21;9H#set $strides [38;5;130m=[m [31m","[m.join($stride) [38;5;130m+[m [31m"/"[m[22;9H$firsts[23;9H$lasts[24;9H$strides
    [32mpublic[m  :: deploy
    [32mpublic[m  :: deploy_cpl
    [32mpublic[m  :: deploy_readFile[28;63H1,0-1[8Cé¡¶ç«¯[1;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;63H2,1  [2;1H[?12l[?25h[?25l[28;63H3[3;1H[?12l[?25h[?25l[28;63H4[4;1H[?12l[?25h[?25l[28;63H5[5;1H[?12l[?25h[?25l[28;63H6[6;1H[?12l[?25h[?25l[28;63H7[7;1H[?12l[?25h[?25l[28;63H8[8;1H[?12l[?25h[?25l[28;63H9[9;1H[?12l[?25h[?25l[28;63H10,1[10;1H[?12l[?25h[?25l[28;64H1[11;1H[?12l[?25h[?25l[28;64H2[12;1H[?12l[?25h[?25l[28;64H3[13;1H[?12l[?25h[?25l[28;64H4[14;1H[?12l[?25h[?25l[28;64H5[15;1H[?12l[?25h[?25l[28;64H6[16;1H[?12l[?25h[?25l[28;64H7[17;1H[?12l[?25h[?25l[28;64H8[19;1H[?12l[?25h[?25l[28;64H9[20;1H[?12l[?25h[?25l[28;63H20[21;1H[?12l[?25h[?25l[28;64H1[22;1H[?12l[?25h[?25l[28;64H2[23;1H[?12l[?25h[?25l[28;64H3[24;1H[?12l[?25h[?25l[28;64H4[25;1H[?12l[?25h[?25l[28;64H5[26;1H[?12l[?25h[?25l[28;64H6[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mpublic[m  :: deploy_setRange[28;1H[K[28;63H27,1[11C0%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H28,0-1[9C1%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mcontains[m[28;63H[K[28;63H29,1[11C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H30,0-1[9C2%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35msubroutine[m deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)[28;63H[K[28;63H31,1[11C3%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H32,0-1[9C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H33,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[28C:: glo_comm[28;63H[K[28;63H34,1[11C5%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)[25C:: cpl_comm[28;63H[K[28;63H35,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[28C:: cpl_id[28;63H[K[28;63H36,1[11C6%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[32m    logical[m, [32mdimension[m(:), [32mpointer[m, [32mintent[m([32minout[m)  :: iam_in[28;63H[K[28;63H37,1[11C7%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32moptional[m, [32mintent[m([32min[m)[18C:: pattern[28;63H[K[28;63H38,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32moptional[m, [32mintent[m([32min[m)[18C:: ierr[28;63H[K[28;63H39,1[11C8%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H40,0-1[9C9%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: mpi_grp[28;63H[K[28;63H41,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: new_grp[28;63H[K[28;63H42,1[10C10%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;5H[32minteger[m :: peRange([31m1[m,[31m3[m)
    [32minteger[m :: comp_first[28;63H[K[28;63H43,1[10C11%[26;1H[?12l[?25h[?25l[28;64H4[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: comp_last[28;63H[K[28;63H45,1[10C12%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: stride[28;63H[K[28;63H46,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: me[28;63H[K[28;63H47,1[10C13%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: comm_size[28;63H[K[28;63H48,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m :: ier[28;63H[K[28;63H49,1[10C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H50,0-1[8C15%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!write(*,*)'they created us'[m[28;63H[K[28;63H51,1[10C16%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m([38;5;130m.not.[m [36mpresent[m(pattern) [38;5;130m.or.[m pattern [38;5;130m.eq.[m [31m1[m)[38;5;130mthen[m[28;63H[K[28;63H52,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hcpl_comm [38;5;130m=[m glo_comm[28;63H[K[28;63H53,1[10C17%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hiam_in(cpl_id) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H54,1[10C18%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130melse[m[28;63H[K[28;63H55,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_group(glo_comm, mpi_grp, ier)[28;63H[K[28;63H56,1[10C19%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_size(glo_comm, comm_size, ier)[28;63H[K[28;63H57,1[10C20%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m deploy_readFile(cpl_id, comp_first, comp_last, stride, ier)[28;63H[K[28;63H58,1[10C21%[27;1H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9H[34m!write(*,*)cpl_id,comp_first,comp_last,stride,comp(cpl_id-1,1),comp(cpl__[27;1Hid-1,2),comp(cpl_id-1,3)[m[28;63H[K[28;63H59,1[10C22%[26;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m1[m) [38;5;130m=[m comp_first[28;63H[K[28;63H60,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m2[m) [38;5;130m=[m comp_last[28;63H[K[28;63H61,1[10C23%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m3[m) [38;5;130m=[m stride[28;63H[K[28;63H62,1[10C24%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_range_incl(mpi_grp, [31m1[m, peRange, new_grp, ier)[28;63H[K[28;63H63,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_create(glo_comm, new_grp, cpl_comm, ier)[28;63H[K[28;63H64,1[10C25%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_rank(new_grp, me, ier)[28;63H[K[28;63H65,1[10C26%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mif[m(me [38;5;130m.ne.[m MPI_UNDEFINED)[38;5;130mthen[m[28;63H[K[28;63H66,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hiam_in(cpl_id) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H67,1[10C27%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'cpl'[m[28;63H[K[28;63H68,1[10C28%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mend if[m[28;63H[K[28;63H69,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H70,1[10C29%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'war protocal initiated'[m[28;63H[K[28;63H71,1[10C30%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H72,0-1[8C31%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m deploy_cpl[28;63H[K[28;63H73,1[10C31%[27;1H[?12l[?25h[?25l[28;64H2,0-1[26;1H[?12l[?25h[?25l[28;64H1,1  [25;1H[?12l[?25h[?25l[28;66H2[25;2H[?12l[?25h[?25l[28;66H3[25;3H[?12l[?25h[?25l[28;66H4[25;4H[?12l[?25h[?25l[28;66H5[25;5H[?12l[?25h[?25l


[1m-- æ’å…¥ --[m[28;63H[K[28;63H71,5[10C31%[25;5H[?12l[?25h[?25l[34m!write(*,*)'war protocal initiated'[m[28;66H6[25;6H[?12l[?25h[?25l[28;64H2,1[26;1H[?12l[?25h[?25l[28;64H3,6[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H74,1[10C32%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35msubroutine[m deploy(glo_comm, deploy_comm, deploy_join_comm, [35m&[m[28;63H[K[28;63H75,6[10C33%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;19Hcomp_id, cpl_id, id_join, iam_in, pattern, ierr)[28;63H[K[28;63H76,6[10C34%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H77,1[10C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H78,6[10C35%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[14C:: glo_comm[28;63H[K[28;63H79,6[10C36%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)[11C:: deploy_comm[28;63H[K[28;63H80,6[10C36%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)[11C:: deploy_join_comm[28;63H[K[28;63H81,6[10C37%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[14C:: comp_id[28;63H[K[28;63H82,6[10C38%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[14C:: cpl_id[28;63H[K[28;63H83,6[10C38%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)[14C:: id_join[28;63H[K[28;63H84,6[10C39%[27;6H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;1H[32m    logical[m, [32mdimension[m(:), [32mpointer[m, [32mintent[m([32minout[m) :: iam_in
    [32minteger[m, [32moptional[m, [32mintent[m([32min[m)    :: pattern[28;63H[K[28;63H85,6[10C40%[26;6H[?12l[?25h[?25l[28;64H6[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32moptional[m, [32mintent[m([32minout[m) :: ierr[28;63H[K[28;63H87,6[10C41%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H88,1[10C41%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: mpi_grp[28;63H[K[28;63H89,6[10C42%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: new_grp[28;63H[K[28;63H90,6[10C43%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: cpl_grp[28;63H[K[28;63H91,6[10C43%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: union_grp[28;63H[K[28;63H92,6[10C44%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[34m!integer    :: n[m[28;63H[K[28;63H93,6[10C45%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: peRange([31m1[m,[31m3[m)[28;63H[K[28;63H94,6[10C45%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: rank[28;63H[K[28;63H95,6[10C46%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: comp_first[28;63H[K[28;63H96,6[10C47%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: comp_last[28;63H[K[28;63H97,6[10C47%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: stride[28;63H[K[28;63H98,6[10C48%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: me[28;63H[K[28;63H99,6[10C49%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: comm_size[28;63H[K[28;63H100,6[9C50%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m    :: ier[28;63H[K[28;63H101,6[9C50%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H102,1[9C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m([38;5;130m.not.[m [36mpresent[m(pattern) [38;5;130m.or.[m pattern [38;5;130m==[m [31m1[m)[38;5;130mthen[m[28;63H[K[28;63H103,6[9C52%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdeploy_comm [38;5;130m=[m glo_comm[28;63H[K[28;63H104,6[9C52%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdeploy_join_comm [38;5;130m=[m glo_comm[28;63H[K[28;63H105,6[9C53%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hiam_in(comp_id) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H106,6[9C54%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130melse[m[28;63H[K[28;63H107,6[9C54%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'war module upgraded'[m[28;63H[K[28;63H108,6[9C55%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_group(glo_comm, mpi_grp, ier)[28;63H[K[28;63H109,6[9C56%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_size(glo_comm, comm_size, ier)[28;63H[K[28;63H110,6[9C56%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m deploy_readFile(comp_id, comp_first, comp_last, stride, ier)[28;63H[K[28;63H111,6[9C57%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m1[m) [38;5;130m=[m comp_first[28;63H[K[28;63H112,6[9C58%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m2[m) [38;5;130m=[m comp_last[28;63H[K[28;63H113,6[9C58%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m3[m) [38;5;130m=[m stride[28;63H[K[28;63H114,6[9C59%[27;6H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9H[34m!write(*,*)comp_id, peRange(1,1), peRange(1,2), peRange(1,3),'argument dd[27;1Hone',&[m[28;63H[K[28;63H115,6[9C60%[26;6H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9H[34m!          comp_first, comp_last, stride, comp(1,comp_id-1), comp(2,compp[27;1H_id-1), comp(3,comp_id-1)[m[28;63H[K[28;63H116,6[9C61%[26;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[34m!--- set up n and peRange[m[28;63H[K[28;63H117,6[9C62%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_range_incl(mpi_grp, [31m1[m, peRange, new_grp, ier)[28;63H[K[28;63H118,6[9C62%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'human reaper initiated'[m[28;63H[K[28;63H119,6[9C63%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_create(glo_comm, new_grp, deploy_comm, ier)[28;63H[K[28;63H120,6[9C64%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_rank(new_grp, me, ier)[28;63H[K[28;63H121,6[9C64%[27;6H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mif[m(me [38;5;130m.ne.[m MPI_UNDEFINED)[38;5;130mthen[m[28;63H[K[28;63H122,6[9C65%[27;6H[?12l[?25h[?25l[28;65H1[26;6H[?12l[?25h[?25l[28;65H0[25;6H[?12l[?25h[?25l[28;64H19[24;6H[?12l[?25h[?25l[28;65H7[22;6H[?12l[?25h[?25l[28;65H6[20;6H[?12l[?25h[?25l[28;65H5[18;6H[?12l[?25h[?25l[28;65H4[17;6H[?12l[?25h[?25l[28;65H3[16;6H[?12l[?25h[?25l[28;65H2[15;6H[?12l[?25h[?25l[28;65H1[14;6H[?12l[?25h[?25l[28;65H0[13;6H[?12l[?25h[?25l[28;64H09[12;6H[?12l[?25h[?25l[28;65H8[11;6H[?12l[?25h[?25l[28;65H7[10;6H[?12l[?25h[?25l[28;65H6[9;6H[?12l[?25h[?25l[28;65H5[8;6H[?12l[?25h[?25l[28;65H6[9;6H[?12l[?25h[?25l[28;65H7[10;6H[?12l[?25h[?25l[28;65H8[11;6H[?12l[?25h[?25l[28;67H7[11;7H[?12l[?25h[?25l[28;67H8[11;8H[?12l[?25h[?25l[28;67H9[11;9H[?12l[?25h[?25l[34m!write(*,*)'war module upgraded'[m[28;67H10[11;10H[?12l[?25h[?25l[28;65H9[12;10H[?12l[?25h[?25l[28;64H10[13;10H[?12l[?25h[?25l[28;65H1[14;10H[?12l[?25h[?25l[28;65H2[15;10H[?12l[?25h[?25l[28;65H3[16;10H[?12l[?25h[?25l[28;65H4[17;10H[?12l[?25h[?25l[28;65H5[18;10H[?12l[?25h[?25l[28;65H6[20;10H[?12l[?25h[?25l[28;65H7[22;10H[?12l[?25h[?25l[28;65H8[23;10H[?12l[?25h[?25l[28;65H9[24;10H[?12l[?25h[?25l[28;64H20[25;10H[?12l[?25h[?25l[28;64H19[24;10H[?12l[?25h[?25l[28;67H9 [24;9H[?12l[?25h[?25l[28;67H8[24;8H[?12l[?25h[?25l[28;67H9[24;9H[?12l[?25h[?25l[34m!write(*,*)'human reaper initiated'[m[28;67H10[24;10H[?12l[?25h[?25l[28;64H20[25;10H[?12l[?25h[?25l[28;65H1[26;10H[?12l[?25h[?25l[28;65H2[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hiam_in(comp_id) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H123,10[8C66%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mend if[m[28;63H[K[28;63H124,10[8C66%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H125,1[9C67%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m MPI_Barrier(MPI_COMM_WORLD, ier)[28;63H[K[28;63H126,10[8C68%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mwrite[m([38;5;130m*[m,[38;5;130m*[m)[31m'check'[m[28;63H[K[28;63H127,10[8C68%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m deploy_readFile(cpl_id, comp_first, comp_last, stride, ier)[28;63H[K[28;63H128,10[8C69%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m1[m) [38;5;130m=[m comp_first[28;63H[K[28;63H129,10[8C70%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m2[m) [38;5;130m=[m comp_last[28;63H[K[28;63H130,10[8C70%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9HpeRange([31m1[m,[31m3[m) [38;5;130m=[m stride[28;63H[K[28;63H131,10[8C71%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_range_incl(mpi_grp, [31m1[m, peRange, cpl_grp, ier)[28;63H[K[28;63H132,10[8C72%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_group_union(new_grp, cpl_grp, union_grp, ier)[28;63H[K[28;63H133,10[8C72%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[36mcall[m mpi_comm_create(glo_comm, union_grp, deploy_join_comm, ier)[28;63H[K[28;63H134,10[8C73%[27;10H[?12l[?25h[?25l[28;65H3[26;10H[?12l[?25h[?25l[28;65H2[25;10H[?12l[?25h[?25l[28;65H1[24;10H[?12l[?25h[?25l[28;65H0[23;10H[?12l[?25h[?25l[28;64H29[22;10H[?12l[?25h[?25l[28;65H8[21;10H[?12l[?25h[?25l[28;65H7[20;10H[?12l[?25h[?25l[28;67H9 [20;9H[?12l[?25h[?25l[34m!write(*,*)'check'[m[28;67H10[20;10H[?12l[?25h[?25l[28;65H8[21;10H[?12l[?25h[?25l[28;65H9[22;10H[?12l[?25h[?25l[28;64H30[23;10H[?12l[?25h[?25l[28;65H1[24;10H[?12l[?25h[?25l[28;65H2[25;10H[?12l[?25h[?25l[28;65H3[26;10H[?12l[?25h[?25l[28;65H4[27;10H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[26;9H[36mcall[m mpi_group_rank(union_grp, me, ier)[27;9H[38;5;130mif[m(me [38;5;130m.ne.[m MPI_UNDEFINED)[38;5;130mthen[m[28;63H[K[28;63H136,10[8C75%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hiam_in(id_join) [38;5;130m=[m [31m.true.[m[28;63H[K[28;63H137,10[8C75%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mend if[m[28;63H[K[28;63H138,10[8C76%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mend if[m[28;63H[K[28;63H139,10[8C77%[27;10H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H[35mend subroutine[m deploy[28;63H[K[28;63H140,1[9C78%[26;1H[?12l[?25h[?25l[28;65H1,10[27;10H[?12l[?25h[?25l[1;27r[1;1H[2M[1;28r[27;1H[35msubroutine[m deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)[28;63H[K[28;63H142,1[9C79%[26;1H[?12l[?25h[?25l[28;65H3,10[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H144,1[9C80%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32min[m)     :: comp_id[28;63H[K[28;63H145,10[8C80%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)  :: comp_first[28;63H[K[28;63H146,10[8C81%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)  :: comp_last[28;63H[K[28;63H147,10[8C82%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32mintent[m([32minout[m)  :: stride[28;63H[K[28;63H148,10[8C82%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32moptional[m, [32mintent[m([32minout[m)  :: ierr[28;63H[K[28;63H149,10[8C83%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H150,1[9C84%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hcomp_first [38;5;130m=[m comp(comp_id[38;5;130m-[m[31m1[m, [31m1[m)[28;63H[K[28;63H151,10[8C84%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hcomp_last  [38;5;130m=[m comp(comp_id[38;5;130m-[m[31m1[m, [31m2[m)[28;63H[K[28;63H152,10[8C85%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hstride     [38;5;130m=[m comp(comp_id[38;5;130m-[m[31m1[m, [31m3[m)[28;63H[K[28;63H153,10[8C86%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H154,1[9C86%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m deploy_readFile[28;63H[K[28;63H155,10[8C87%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H156,1[9C88%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35msubroutine[m deploy_setRange(comp_id, comp_first, comp_last, stride, ierr)[28;63H[K[28;63H157,10[8C89%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H158,1[9C89%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32mimplicit[m [32mnone[m[28;63H[K[28;63H159,10[8C90%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m,[11C[32mintent[m([32min[m)   :: comp_id[28;63H[K[28;63H160,10[8C91%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m,[11C[32mintent[m([32minout[m)   :: comp_first[28;63H[K[28;63H161,10[8C91%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m,[11C[32mintent[m([32minout[m)   :: comp_last[28;63H[K[28;63H162,10[8C92%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m,[11C[32mintent[m([32minout[m)   :: stride[28;63H[K[28;63H163,10[8C93%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[32minteger[m, [32moptional[m, [32mintent[m([32minout[m)   :: ierr[28;63H[K[28;63H164,10[8C93%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H165,1[9C94%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hcomp_first [38;5;130m=[m comp([31m1[m,comp_id[38;5;130m-[m[31m1[m)[28;63H[K[28;63H166,10[8C95%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hcomp_last  [38;5;130m=[m comp([31m2[m,comp_id[38;5;130m-[m[31m1[m)[28;63H[K[28;63H167,10[8C95%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5Hstride     [38;5;130m=[m comp([31m3[m,comp_id[38;5;130m-[m[31m1[m)[28;63H[K[28;63H168,10[8C96%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mif[m([36mpresent[m(ierr))ierr [38;5;130m=[m [31m0[m[28;63H[K[28;63H169,10[8C97%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H170,1[9C97%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend subroutine[m deploy_setRange[28;63H[K[28;63H171,10[8C98%[27;10H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H172,1[9C99%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mend module[m deploy_mod[28;63H[K[28;63H173,10[7Cåº•ç«¯[27;10H[?12l[?25h[28;1H[K[27;9H[?25l[28;63H173,9[8Cåº•ç«¯[27;9H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"deploymod_Template.F90" 173L, 6101C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./main.py
./main.py:è¡Œ1: from: æœªæ‰¾åˆ°å‘½ä»¤
./main.py:è¡Œ2: import: æœªæ‰¾åˆ°å‘½ä»¤
./main.py:è¡Œ3: æœªé¢„æœŸçš„ç¬¦å· `'../parser'' é™„è¿‘æœ‰è¯­æ³•é”™è¯¯
./main.py:è¡Œ3: `sys.path.append('../parser')'
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./main.pyp./main.pyy./main.pyt./main.pyh./main.pyo./main.pyn./main.py ./main.py
haha
haha
haha
haha
...................model parsed...................
ocn2x_ocnx
lnd2x_lndx
a2x_ax
b2x_bx
a2x_ax
..............couple AttrVect parsed..............
{'a': <ir.Model object at 0x7f9b0ad2d890>, 'lnd': <ir.Model object at 0x7f9b0ad2dc50>, 'b': <ir.Model object at 0x7f9b0ad2da10>, 'atm': <ir.Model object at 0x7f9b0ad2db90>, 'ocn': <ir.Model object at 0x7f9b0ad2dd10>}
a
b
atm
lnd
ocn
..................deploy parsed...................
<type 'dict'>
6
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
/usr/lib/python2.7/site-packages/Cheetah/Compiler.py:1509: UserWarning: 
You don't have the C version of NameMapper installed! I'm disabling Cheetah's useStackFrames option as it is painfully slow with the Python version of NameMapper. You should get a copy of Cheetah with the compiled C version of NameMapper.
  "\nYou don't have the C version of NameMapper installed! "
vnn
{1: ['0', '3', '1'], 2: ['0', '1', '1'], 3: ['2', '3', '1'], 4: ['0', '3', '1'], 5: ['0', '1', '1'], 6: ['0', '2', '1']}
eee
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim main.py
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"main.py" 110L, 3324C[>c[1;1H[36mprint[m(deploy_cfgs)
code.generate()

code = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.generate()

[36mprint[m [31m'eee'[m
code = codeGenerator([31m"procDef_Template.F90"[m, [31m"proc_def.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.addList([31m'merge_cfgs'[m,merge_cfgs)
code.generate()


code = codeGenerator([31m"timeM_Template.F90"[m, [31m"timeM.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.generate()


[34m#[m[30m[103mTODO[m
code = codeGenerator([31m"baseCpl_Template.F90"[m, [31m"baseCpl.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.addList([31m'merge_subroutines'[m, merge_subroutines)
code.addList([31m'merge_cfgs'[m,merge_cfgs)
code.addList([31m'model_cfgs'[m,model_cfgs)
code.addList([31m'fraction_cfgs'[m,fraction_cfgs)
code.generate()[28;63H110,1[8Cåº•ç«¯[27;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H09[26;1H[?12l[?25h[?25l[28;65H8[25;1H[?12l[?25h[?25l[28;65H7[24;1H[?12l[?25h[?25l[28;65H6[23;1H[?12l[?25h[?25l[28;65H5[22;1H[?12l[?25h[?25l[28;65H4[21;1H[?12l[?25h[?25l[28;65H3[20;1H[?12l[?25h[?25l[28;65H2,0-1[19;1H[?12l[?25h[?25l[28;65H1[18;1H[?12l[?25h[?25l[28;65H0,1  [17;1H[?12l[?25h[?25l[28;63H99,1 [16;1H[?12l[?25h[?25l[28;64H8[15;1H[?12l[?25h[?25l[28;64H7,0-1[14;1H[?12l[?25h[?25l[28;64H6[13;1H[?12l[?25h[?25l[28;64H5,1  [12;1H[?12l[?25h[?25l[28;64H4[11;1H[?12l[?25h[?25l[28;64H3[10;1H[?12l[?25h[?25l[28;64H2[9;1H[?12l[?25h[?25l[28;64H1[8;1H[?12l[?25h[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H91,1[9Cåº•ç«¯[8;1H[?12l[?25h[?25l[34m#print 'eee'[m[28;66H2[8;2H[?12l[?25h[?25l[28;64H0,1[7;1H[?12l[?25h[?25l[28;63H89,2[6;2H[?12l[?25h[?25l[28;64H8[5;2H[?12l[?25h[?25l[28;64H7[4;2H[?12l[?25h[?25l[28;64H6,1[3;1H[?12l[?25h[?25l[28;64H5,2[2;2H[?12l[?25h[?25l[28;64H4[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'deploy_cfgs'[m,deploy_cfgs)[28;63H[K[28;63H83,2[10C98%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H82,2[10C97%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"deploymod_Template.F90"[m, [31m"deploy_mod.F90"[m)[28;63H[K[28;63H81,2[10C96%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#[m[30m[103mTODO[m[34m add [m[28;63H[K[28;63H80,2[10C95%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H79,1[10C93%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)[28;63H[K[28;63H78,2[10C92%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[36mprint[m [31m'vnn'[m[28;63H[K[28;63H77,2[10C91%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m search_set [35mimport[m *[28;63H[K[28;63H76,2[10C90%[1;2H[?12l[?25h[?25l[28;64H7[2;2H[?12l[?25h[?25l[28;64H8[3;2H[?12l[?25h[?25l[28;64H9,1[4;1H[?12l[?25h[?25l[28;63H80,2[5;2H[?12l[?25h[?25l[28;64H1[6;2H[?12l[?25h[?25l[28;64H2[7;2H[?12l[?25h[?25l[28;64H3[8;2H[?12l[?25h[?25l[28;64H4[9;2H[?12l[?25h[?25l[28;64H5[10;2H[?12l[?25h[?25l[28;64H4[9;2H[?12l[?25h[?25l[28;66H1[9;1H[?12l[?25h[?25l[34m#print(deploy_cfgs)[m[28;66H2[9;2H[?12l[?25h[?25l[28;64H3[8;2H[?12l[?25h[?25l[28;64H2[7;2H[?12l[?25h[?25l[28;64H1[6;2H[?12l[?25h[?25l[28;64H0[5;2H[?12l[?25h[?25l[28;63H79,1[4;1H[?12l[?25h[?25l[28;64H8,2[3;2H[?12l[?25h[?25l[28;64H7[2;2H[?12l[?25h[?25l[28;64H6[1;2H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[28;63H[K[28;63H74,1[10C87%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H73,1[10C86%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.generate()[28;63H[K[28;63H72,2[10C85%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H71,2[10C84%[1;2H[?12l[?25h[?25l[28;64H2[2;2H[?12l[?25h[?25l[28;64H3,1[3;1H[?12l[?25h[?25l[28;64H4[4;1H[?12l[?25h[?25l[28;64H5[5;1H[?12l[?25h[?25l[28;64H6,2[6;2H[?12l[?25h[?25l[28;64H7[7;2H[?12l[?25h[?25l[28;66H1[7;1H[?12l[?25h[?25l[34m#print 'vnn'[m[28;66H2[7;2H[?12l[?25h[?25l[28;64H6[6;2H[?12l[?25h[?25l[28;64H5,1[5;1H[?12l[?25h[?25l[28;64H4[4;1H[?12l[?25h[?25l[28;64H3[3;1H[?12l[?25h[?25l[28;64H2,2[2;2H[?12l[?25h[?25l[28;64H1[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'models'[m,proc_cfgs)[28;63H[K[28;63H70,2[10C83%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"searchSet_Template.py"[m, [31m"search_set.py"[m)[28;63H[K[28;63H69,2[10C81%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmerge_cfgs = get_SMat_relation(parser.attrVectCouple)[28;63H[K[28;63H68,2[10C80%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H67,1[10C79%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mreturn[m model_SMats[28;63H[K[28;63H66,2[10C78%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hmodel_SMats[src_model_name][[31m'dst'[m].append(dst_info)[28;63H[K[28;63H65,2[10C77%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'gm'[m]=model_gsmap_name[28;63H[K[28;63H64,2[10C75%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_gsmap_name=dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H63,2[10C74%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'dst'[m]=[][28;63H[K[28;63H62,2[10C73%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'src'[m]=src_x_dst_x_av.srcName[28;63H[K[28;63H61,2[10C72%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name]={}[28;63H[K[28;63H60,2[10C71%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m src_model_name [38;5;130mnot[m [38;5;130min[m model_SMats:[28;63H[K[28;63H59,2[10C69%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H}[28;63H[K[28;63H58,2[10C68%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'smat_size'[m:[31m8[m[28;63H[K[28;63H57,2[10C67%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[34m# todo set dst_sparse_len[m[28;63H[K[28;63H56,2[10C66%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_field'[m:dst_field,[28;63H[K[28;63H55,2[10C65%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_mapper'[m:src_x_dst_x_av.mapperName,[28;63H[K[28;63H54,2[10C63%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_gm'[m: dst_gsmap_name,[28;63H[K[28;63H53,2[10C62%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_av'[m:src_x_dst_x_av,[28;63H[K[28;63H52,2[10C61%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_model_name'[m:dst_model_name,[28;63H[K[28;63H51,2[10C60%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_info = {[28;63H[K[28;63H50,2[10C59%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#        src_x_dst_x_av.mapperName)[m[28;63H[K[28;63H49,2[10C57%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#print(av, dst_model_name, src_x_dst_x_av.name,\[m[28;63H[K[28;63H48,2[10C56%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_field = src_x_dst_x_av.field[28;63H[K[28;63H47,2[10C55%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H46,2[10C54%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model_name = dst_model.name[28;63H[K[28;63H45,2[10C53%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model_name = src_model.name[28;63H[K[28;63H44,2[10C51%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model = src_x_dst_x_av.dstModel[28;63H[K[28;63H43,2[10C50%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model = src_x_dst_x_av.srcModel[28;63H[K[28;63H42,2[10C49%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mfor[m src_x_dst_x_av [38;5;130min[m attrVects[av]:[28;63H[K[28;63H41,2[10C48%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H40,2[10C46%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H39,1[10C45%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_names.append(model_name)[28;63H[K[28;63H38,2[10C44%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'gm'[m] = model_gsmap_name[28;63H[K[28;63H37,2[10C43%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'dst'[m] = [][28;63H[K[28;63H36,2[10C42%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'src'[m] = av[28;63H[K[28;63H35,2[10C40%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name] = {}[28;63H[K[28;63H34,2[10C39%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H33,2[10C38%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_name = dst_model.name[28;63H[K[28;63H32,2[10C37%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H31,1[10C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hdst_model = attrVects[av][[31m0[m].dstModel[28;63H[K[28;63H30,2[10C34%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m# todo get dst_av_model [m[28;63H[K[28;63H29,2[10C33%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H28,2[10C32%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H27,1[10C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H26,1[10C30%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmodel_SMats = {}[28;63H[K[28;63H25,2[10C28%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmodel_names = [][28;63H[K[28;63H24,2[10C27%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;130mdef[m [36mget_SMat_relation[m(attrVects):[28;63H[K[28;63H23,2[10C26%[1;2H[?12l[?25h[?25l[1;27r[1;1H[2L[1;28r[1;1H[36mprint[m(deploy_cfgs)[28;63H[K[28;63H21,2[10C24%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[36mprint[m([36mlen[m(deploy_cfgs))[28;63H[K[28;63H20,2[10C22%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[36mprint[m([36mtype[m(deploy_cfgs))[28;63H[K[28;63H19,2[10C21%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hdeploy_cfgs = parser.deploy[28;63H[K[28;63H18,2[10C20%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hfraction_cfgs = parser.fractions[28;63H[K[28;63H17,2[10C19%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H16,1[10C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H][28;63H[K[28;63H15,2[10C16%[28;63H[K[28;63H15,2[10C16%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparser.subroutine[m] [38;5;130mfor[m m [38;5;130min[m parser.subroutine[28;63H[K[28;63H14,2[10C15%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmerge_subroutines = [[28;63H[K[28;63H13,2[10C14%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H12,1[10C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H][28;63H[K[28;63H11,2[10C12%[28;63H[K[28;63H11,2[10C12%[1;2H[?12l[?25h[?25l[28;64H2,1[2;1H[?12l[?25h[?25l[28;64H3,2[3;2H[?12l[?25h[?25l[28;64H4[4;2H[?12l[?25h[?25l[3;21H[106m[

][m[28;63H[K[28;63H15,2[10C12%[5;2H[?12l[?25h[?25l[3;21H[

][28;64H6,1[6;1H[?12l[?25h[?25l[28;64H7,2[7;2H[?12l[?25h[?25l[28;64H8[8;2H[?12l[?25h[?25l[28;64H9[9;2H[?12l[?25h[?25l[28;66H1[9;1H[?12l[?25h[?25l[35m@[m[36mprint[m([36mtype[m(deploy_cfgs))[28;66H2[9;2H[?12l[?25h[?25l[36mprint[m([36mtype[m(deploy_cfgs)[9;25H[K[28;66H1[9;1H[?12l[?25h[?25l[34m#print(type(deploy_cfgs))[m[28;66H2[9;2H[?12l[?25h[?25l[28;63H20[10;2H[?12l[?25h[?25l[28;66H1[10;1H[?12l[?25h[?25l[34m#print(len(deploy_cfgs))[m[28;66H2[10;2H[?12l[?25h[?25l[28;64H1[11;2H[?12l[?25h[?25l[28;66H1[11;1H[?12l[?25h[?25l[34m#print(deploy_cfgs)[m[28;66H2[11;2H[?12l[?25h[?25l[28;64H0[10;2H[?12l[?25h[?25l[28;63H19[9;2H[?12l[?25h[?25l[28;64H8[8;2H[?12l[?25h[?25l[28;64H7[7;2H[?12l[?25h[?25l[28;64H6,1[6;1H[?12l[?25h[?25l[3;21H[106m[

][m[28;63H[K[28;63H15,2[10C12%[5;2H[?12l[?25h[?25l[3;21H[

][28;64H4[4;2H[?12l[?25h[?25l[28;64H3[3;2H[?12l[?25h[?25l[28;64H2,1[2;1H[?12l[?25h[?25l[28;63H[K[28;63H11,2[10C12%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparser.models[m] [38;5;130mfor[m m [38;5;130min[m parser.models[28;63H[K[28;63H10,2[10C10%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hproc_cfgs = [[28;63H[K[28;63H9,2[12C9%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H8,1[12C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparser.parse()[28;63H[K[28;63H7,2[12C7%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparser = Parser()[28;63H[K[28;63H6,2[12C6%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H5,1[12C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m parserMod [35mimport[m Parser[28;63H[K[28;63H4,2[12C3%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hsys.path.append([31m'../parser'[m)[28;63H[K[28;63H3,2[12C2%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mimport[m sys[28;63H[K[28;63H2,2[12C1%[1;2H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m codeGen [35mimport[m codeGenerator[28;63H[K[28;63H1,2[10Cé¡¶ç«¯[1;2H[?12l[?25h[?25l[28;63H2[2;2H[?12l[?25h[?25l[28;63H3[3;2H[?12l[?25h[?25l[28;63H4[4;2H[?12l[?25h[?25l[28;63H5,1[5;1H[?12l[?25h[?25l[28;63H6,2[6;2H[?12l[?25h[?25l[28;63H7[7;2H[?12l[?25h[?25l[28;63H9[9;2H[?12l[?25h[?25l[28;63H10,2[10;2H[?12l[?25h[?25l[9;13H[106m[

][m[28;63H[K[28;63H11,2[9Cé¡¶ç«¯[11;2H[?12l[?25h[?25l[9;13H[

][28;64H2,1[12;1H[?12l[?25h[?25l[28;64H3,2[13;2H[?12l[?25h[?25l[28;64H4[14;2H[?12l[?25h[?25l[13;21H[106m[

][m[28;63H[K[28;63H15,2[9Cé¡¶ç«¯[15;2H[?12l[?25h[?25l[13;21H[

][28;64H6,1[16;1H[?12l[?25h[?25l[28;64H7,2[17;2H[?12l[?25h[?25l[28;64H8[18;2H[?12l[?25h[?25l[28;64H9[19;2H[?12l[?25h[?25l[28;63H20[20;2H[?12l[?25h[?25l[28;64H1[21;2H[?12l[?25h[?25l[28;64H2,1[22;1H[?12l[?25h[?25l[28;64H3,2[23;2H[?12l[?25h[?25l[28;64H4[24;2H[?12l[?25h[?25l[28;64H5[25;2H[?12l[?25h[?25l[28;64H6,1[26;1H[?12l[?25h[?25l[28;64H7[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H28,2[11C1%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[34m# todo get dst_av_model [m[28;63H[K[28;63H29,2[11C2%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hdst_model = attrVects[av][[31m0[m].dstModel[28;63H[K[28;63H30,2[11C3%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H31,1[11C4%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_name = dst_model.name[28;63H[K[28;63H32,2[11C6%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H33,2[11C7%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_SMats[model_name] = {}[28;63H[K[28;63H34,2[11C8%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_SMats[model_name][[31m'src'[m] = av[28;63H[K[28;63H35,2[11C9%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_SMats[model_name][[31m'dst'[m] = [][28;63H[K[28;63H36,2[10C10%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_SMats[model_name][[31m'gm'[m] = model_gsmap_name[28;63H[K[28;63H37,2[10C12%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9Hmodel_names.append(model_name)[28;63H[K[28;63H38,2[10C13%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H39,1[10C14%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H40,2[10C15%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;9H[38;5;130mfor[m src_x_dst_x_av [38;5;130min[m attrVects[av]:[28;63H[K[28;63H41,2[10C16%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hsrc_model = src_x_dst_x_av.srcModel[28;63H[K[28;63H42,2[10C18%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hdst_model = src_x_dst_x_av.dstModel[28;63H[K[28;63H43,2[10C19%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hsrc_model_name = src_model.name[28;63H[K[28;63H44,2[10C20%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hdst_model_name = dst_model.name[28;63H[K[28;63H45,2[10C21%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hdst_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H46,2[10C22%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hdst_field = src_x_dst_x_av.field[28;63H[K[28;63H47,2[10C24%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[34m#print(av, dst_model_name, src_x_dst_x_av.name,\[m[28;63H[K[28;63H48,2[10C25%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[34m#        src_x_dst_x_av.mapperName)[m[28;63H[K[28;63H49,2[10C26%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hdst_info = {[28;63H[K[28;63H50,2[10C27%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_model_name'[m:dst_model_name,[28;63H[K[28;63H51,2[10C28%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_av'[m:src_x_dst_x_av,[28;63H[K[28;63H52,2[10C30%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_gm'[m: dst_gsmap_name,[28;63H[K[28;63H53,2[10C31%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_mapper'[m:src_x_dst_x_av.mapperName,[28;63H[K[28;63H54,2[10C32%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_field'[m:dst_field,[28;63H[K[28;63H55,2[10C33%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[34m# todo set dst_sparse_len[m[28;63H[K[28;63H56,2[10C34%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'smat_size'[m:[31m8[m[28;63H[K[28;63H57,2[10C36%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H}[28;63H[K[28;63H58,2[10C37%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m src_model_name [38;5;130mnot[m [38;5;130min[m model_SMats:[28;63H[K[28;63H59,2[10C38%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name]={}[28;63H[K[28;63H60,2[10C39%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'src'[m]=src_x_dst_x_av.srcName[28;63H[K[28;63H61,2[10C40%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'dst'[m]=[][28;63H[K[28;63H62,2[10C42%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_gsmap_name=dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H63,2[10C43%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'gm'[m]=model_gsmap_name[28;63H[K[28;63H64,2[10C44%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmodel_SMats[src_model_name][[31m'dst'[m].append(dst_info)[28;63H[K[28;63H65,2[10C45%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mreturn[m model_SMats[28;63H[K[28;63H66,2[10C46%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H67,1[10C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hmerge_cfgs = get_SMat_relation(parser.attrVectCouple)[28;63H[K[28;63H68,2[10C49%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"searchSet_Template.py"[m, [31m"search_set.py"[m)[28;63H[K[28;63H69,2[10C50%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'models'[m,proc_cfgs)[28;63H[K[28;63H70,2[10C51%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H71,2[10C53%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H72,2[10C54%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H73,1[10C55%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H74,1[10C56%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H75,1[10C57%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[35mfrom[m search_set [35mimport[m *[28;63H[K[28;63H76,2[10C59%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#print 'vnn'[m[28;63H[K[28;63H77,2[10C60%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)[28;63H[K[28;63H78,2[10C61%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H79,1[10C62%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#[m[30m[103mTODO[m[34m add [m[28;63H[K[28;63H80,2[10C63%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"deploymod_Template.F90"[m, [31m"deploy_mod.F90"[m)[28;63H[K[28;63H81,2[10C65%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H82,2[10C66%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'deploy_cfgs'[m,deploy_cfgs)[28;63H[K[28;63H83,2[10C67%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#print(deploy_cfgs)[m[28;63H[K[28;63H84,2[10C68%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H85,2[10C69%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H86,1[10C71%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)[28;63H[K[28;63H87,2[10C72%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H88,2[10C73%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H89,2[10C74%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H90,1[10C75%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#print 'eee'[m[28;63H[K[28;63H91,2[10C77%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"procDef_Template.F90"[m, [31m"proc_def.F90"[m)[28;63H[K[28;63H92,2[10C78%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H93,2[10C79%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H94,2[10C80%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H95,2[10C81%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H96,1[10C83%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H97,1[10C84%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"timeM_Template.F90"[m, [31m"timeM.F90"[m)[28;63H[K[28;63H98,2[10C85%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H99,2[10C86%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H100,2[9C87%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H101,1[9C89%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H102,1[9C90%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1H[34m#[m[30m[103mTODO[m[28;63H[K[28;63H103,2[9C91%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"baseCpl_Template.F90"[m, [31m"baseCpl.F90"[m)[28;63H[K[28;63H104,2[9C92%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H105,2[9C93%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'merge_subroutines'[m, merge_subroutines)[28;63H[K[28;63H106,2[9C95%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H107,2[9C96%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'model_cfgs'[m,model_cfgs)[28;63H[K[28;63H108,2[9C97%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'fraction_cfgs'[m,fraction_cfgs)[28;63H[K[28;63H109,2[9C98%[27;2H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H110,2[8Cåº•ç«¯[27;2H[?12l[?25h[28;1H[K[27;1H[?25l[28;63H110,1[8Cåº•ç«¯[27;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"main.py" 110L, 3330C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim main.pyls[Kpython ./main.py
haha
haha
haha
haha
...................model parsed...................
ocn2x_ocnx
lnd2x_lndx
a2x_ax
b2x_bx
a2x_ax
..............couple AttrVect parsed..............
{'a': <ir.Model object at 0x7f7276d11950>, 'lnd': <ir.Model object at 0x7f7276d11c50>, 'b': <ir.Model object at 0x7f7276d11a10>, 'atm': <ir.Model object at 0x7f7276d11b90>, 'ocn': <ir.Model object at 0x7f7276d11d10>}
a
b
atm
lnd
ocn
..................deploy parsed...................
/usr/lib/python2.7/site-packages/Cheetah/Compiler.py:1509: UserWarning: 
You don't have the C version of NameMapper installed! I'm disabling Cheetah's useStackFrames option as it is painfully slow with the Python version of NameMapper. You should get a copy of Cheetah with the compiled C version of NameMapper.
  "\nYou don't have the C version of NameMapper installed! "
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# python ./main.py[5Pvim main.py
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"main.py" 110L, 3330C[>c[1;1H[34m#print(deploy_cfgs)[m
code.generate()

code = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.generate()

[34m#print 'eee'[m
code = codeGenerator([31m"procDef_Template.F90"[m, [31m"proc_def.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.addList([31m'merge_cfgs'[m,merge_cfgs)
code.generate()


code = codeGenerator([31m"timeM_Template.F90"[m, [31m"timeM.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.generate()


[34m#[m[30m[103mTODO[m
code = codeGenerator([31m"baseCpl_Template.F90"[m, [31m"baseCpl.F90"[m)
code.addList([31m'proc_cfgs'[m,proc_cfgs)
code.addList([31m'merge_subroutines'[m, merge_subroutines)
code.addList([31m'merge_cfgs'[m,merge_cfgs)
code.addList([31m'model_cfgs'[m,model_cfgs)
code.addList([31m'fraction_cfgs'[m,fraction_cfgs)
code.generate()[28;63H110,1[8Cåº•ç«¯[27;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H09[26;1H[?12l[?25h[?25l[28;65H8[25;1H[?12l[?25h[?25l[28;65H7[24;1H[?12l[?25h[?25l[28;65H6[23;1H[?12l[?25h[?25l[28;65H5[22;1H[?12l[?25h[?25l[28;65H4[21;1H[?12l[?25h[?25l[28;65H3[20;1H[?12l[?25h[?25l[28;65H2,0-1[19;1H[?12l[?25h[?25l[28;65H1[18;1H[?12l[?25h[?25l[28;65H0,1  [17;1H[?12l[?25h[?25l[28;63H99,1 [16;1H[?12l[?25h[?25l[28;64H8[15;1H[?12l[?25h[?25l[28;64H7,0-1[14;1H[?12l[?25h[?25l[28;64H6[13;1H[?12l[?25h[?25l[28;64H5,1  [12;1H[?12l[?25h[?25l[28;64H4[11;1H[?12l[?25h[?25l[28;64H3[10;1H[?12l[?25h[?25l[28;64H2[9;1H[?12l[?25h[?25l[28;64H1[8;1H[?12l[?25h[?25l[28;64H0,0-1[7;1H[?12l[?25h[?25l[28;63H89,1  [6;1H[?12l[?25h[?25l[28;64H8[5;1H[?12l[?25h[?25l[28;64H7[4;1H[?12l[?25h[?25l[28;64H6,0-1[3;1H[?12l[?25h[?25l[28;64H5,1  [2;1H[?12l[?25h[?25l[28;64H4[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'deploy_cfgs'[m,deploy_cfgs)[28;1H[K[28;63H83,1[10C98%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'proc_cfgs'[m,proc_cfgs)[28;63H[K[28;63H82,1[10C97%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"deploymod_Template.F90"[m, [31m"deploy_mod.F90"[m)[28;63H[K[28;63H81,1[10C96%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#[m[30m[103mTODO[m[34m add [m[28;63H[K[28;63H80,1[10C95%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H79,0-1[8C93%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"procM_Template.F90"[m, [31m"manage.F90"[m)[28;63H[K[28;63H78,1[10C92%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#print 'vnn'[m[28;63H[K[28;63H77,1[10C91%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m search_set [35mimport[m *[28;63H[K[28;63H76,1[10C90%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H75,0-1[8C89%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H74,0-1[8C87%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H73,0-1[8C86%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.generate()[28;63H[K[28;63H72,1[10C85%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H71,1[10C84%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode.addList([31m'models'[m,proc_cfgs)[28;63H[K[28;63H70,1[10C83%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hcode = codeGenerator([31m"searchSet_Template.py"[m, [31m"search_set.py"[m)[28;63H[K[28;63H69,1[10C81%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmerge_cfgs = get_SMat_relation(parser.attrVectCouple)[28;63H[K[28;63H68,1[10C80%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H67,0-1[8C79%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mreturn[m model_SMats[28;63H[K[28;63H66,1[10C78%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hmodel_SMats[src_model_name][[31m'dst'[m].append(dst_info)[28;63H[K[28;63H65,1[10C77%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'gm'[m]=model_gsmap_name[28;63H[K[28;63H64,1[10C75%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_gsmap_name=dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H63,1[10C74%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'dst'[m]=[][28;63H[K[28;63H62,1[10C73%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name][[31m'src'[m]=src_x_dst_x_av.srcName[28;63H[K[28;63H61,1[10C72%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hmodel_SMats[src_model_name]={}[28;63H[K[28;63H60,1[10C71%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mif[m src_model_name [38;5;130mnot[m [38;5;130min[m model_SMats:[28;63H[K[28;63H59,1[10C69%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21H}[28;63H[K[28;63H58,1[10C68%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'smat_size'[m:[31m8[m[28;63H[K[28;63H57,1[10C67%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[34m# todo set dst_sparse_len[m[28;63H[K[28;63H56,1[10C66%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_field'[m:dst_field,[28;63H[K[28;63H55,1[10C65%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_mapper'[m:src_x_dst_x_av.mapperName,[28;63H[K[28;63H54,1[10C63%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_gm'[m: dst_gsmap_name,[28;63H[K[28;63H53,1[10C62%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_av'[m:src_x_dst_x_av,[28;63H[K[28;63H52,1[10C61%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[31m'dst_model_name'[m:dst_model_name,[28;63H[K[28;63H51,1[10C60%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_info = {[28;63H[K[28;63H50,1[10C59%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#        src_x_dst_x_av.mapperName)[m[28;63H[K[28;63H49,1[10C57%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#print(av, dst_model_name, src_x_dst_x_av.name,\[m[28;63H[K[28;63H48,1[10C56%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_field = src_x_dst_x_av.field[28;63H[K[28;63H47,1[10C55%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H46,1[10C54%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model_name = dst_model.name[28;63H[K[28;63H45,1[10C53%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model_name = src_model.name[28;63H[K[28;63H44,1[10C51%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model = src_x_dst_x_av.dstModel[28;63H[K[28;63H43,1[10C50%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model = src_x_dst_x_av.srcModel[28;63H[K[28;63H42,1[10C49%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mfor[m src_x_dst_x_av [38;5;130min[m attrVects[av]:[28;63H[K[28;63H41,1[10C48%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H40,1[10C46%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H39,0-1[8C45%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_names.append(model_name)[28;63H[K[28;63H38,1[10C44%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'gm'[m] = model_gsmap_name[28;63H[K[28;63H37,1[10C43%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'dst'[m] = [][28;63H[K[28;63H36,1[10C42%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'src'[m] = av[28;63H[K[28;63H35,1[10C40%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name] = {}[28;63H[K[28;63H34,1[10C39%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H33,1[10C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_name = dst_model.name[28;63H[K[28;63H32,1[10C37%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H31,0-1[8C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hdst_model = attrVects[av][[31m0[m].dstModel[28;63H[K[28;63H30,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m# todo get dst_av_model [m[28;63H[K[28;63H29,1[10C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H28,1[10C32%[1;1H[?12l[?25h[?25l[28;64H9[2;1H[?12l[?25h[?25l[28;63H30[3;1H[?12l[?25h[?25l[28;64H1,0-1[4;1H[?12l[?25h[?25l[28;64H2,1  [5;1H[?12l[?25h[?25l[28;64H3[6;1H[?12l[?25h[?25l[28;64H4[7;1H[?12l[?25h[?25l[28;64H5[8;1H[?12l[?25h[?25l[28;64H6[9;1H[?12l[?25h[?25l[28;64H7[10;1H[?12l[?25h[?25l[28;64H8[11;1H[?12l[?25h[?25l[28;64H9,0-1[12;1H[?12l[?25h[?25l[28;63H40,1  [13;1H[?12l[?25h[?25l[28;64H1[14;1H[?12l[?25h[?25l[28;64H2[15;1H[?12l[?25h[?25l[28;64H3[16;1H[?12l[?25h[?25l[28;64H4[17;1H[?12l[?25h[?25l[28;64H5[18;1H[?12l[?25h[?25l[28;64H6[19;1H[?12l[?25h[?25l[28;64H7[20;1H[?12l[?25h[?25l[28;64H8[21;1H[?12l[?25h[?25l[28;64H9[22;1H[?12l[?25h[?25l[28;63H50[23;1H[?12l[?25h[?25l[28;64H1[24;1H[?12l[?25h[?25l[28;64H2[25;1H[?12l[?25h[?25l[28;64H3[26;1H[?12l[?25h[?25l[28;64H4[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'dst_field'[m:dst_field,[28;63H[K[28;63H55,1[10C33%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[34m# todo set dst_sparse_len[m[28;63H[K[28;63H56,1[10C34%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17H[31m'smat_size'[m:[31m8[m[28;63H[K[28;63H57,1[10C36%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;21H}[28;63H[K[28;63H58,1[10C37%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13H[38;5;130mif[m src_model_name [38;5;130mnot[m [38;5;130min[m model_SMats:[28;63H[K[28;63H59,1[10C38%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name]={}[28;63H[K[28;63H60,1[10C39%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'src'[m]=src_x_dst_x_av.srcName[28;63H[K[28;63H61,1[10C40%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'dst'[m]=[][28;63H[K[28;63H62,1[10C42%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_gsmap_name=dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H63,1[10C43%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;17Hmodel_SMats[src_model_name][[31m'gm'[m]=model_gsmap_name[28;63H[K[28;63H64,1[10C44%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;13Hmodel_SMats[src_model_name][[31m'dst'[m].append(dst_info)[28;63H[K[28;63H65,1[10C45%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;5H[38;5;130mreturn[m model_SMats[28;63H[K[28;63H66,1[10C46%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[28;63H[K[28;63H67,0-1[8C48%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hmerge_cfgs = get_SMat_relation(parser.attrVectCouple)[28;63H[K[28;63H68,1[10C49%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode = codeGenerator([31m"searchSet_Template.py"[m, [31m"search_set.py"[m)[28;63H[K[28;63H69,1[10C50%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'models'[m,proc_cfgs)[28;63H[K[28;63H70,1[10C51%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.addList([31m'merge_cfgs'[m,merge_cfgs)[28;63H[K[28;63H71,1[10C53%[27;1H[?12l[?25h[?25l[1;27r[27;1H
[1;28r[27;1Hcode.generate()[28;63H[K[28;63H72,1[10C54%[27;1H[?12l[?25h[?25l[28;64H1[26;1H[?12l[?25h[?25l[28;64H0[25;1H[?12l[?25h[?25l[28;63H69[24;1H[?12l[?25h[?25l[28;64H8[23;1H[?12l[?25h[?25l[28;64H7,0-1[22;1H[?12l[?25h[?25l[28;64H6,1  [21;1H[?12l[?25h[?25l[28;64H5[20;1H[?12l[?25h[?25l[28;64H4[19;1H[?12l[?25h[?25l[28;64H3[18;1H[?12l[?25h[?25l[28;64H2[17;1H[?12l[?25h[?25l[28;64H1[16;1H[?12l[?25h[?25l[28;64H0[15;1H[?12l[?25h[?25l[28;63H59[14;1H[?12l[?25h[?25l[28;64H8[13;1H[?12l[?25h[?25l[28;64H7[12;1H[?12l[?25h[?25l[28;64H6[11;1H[?12l[?25h[?25l[28;64H5[10;1H[?12l[?25h[?25l[28;64H4[9;1H[?12l[?25h[?25l[28;64H3[8;1H[?12l[?25h[?25l[28;64H2[7;1H[?12l[?25h[?25l[28;64H1[6;1H[?12l[?25h[?25l[28;64H0[5;1H[?12l[?25h[?25l[28;63H49[4;1H[?12l[?25h[?25l[28;64H8[3;1H[?12l[?25h[?25l[28;64H7[2;1H[?12l[?25h[?25l[28;64H6[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model_name = dst_model.name[28;63H[K[28;63H45,1[10C53%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model_name = src_model.name[28;63H[K[28;63H44,1[10C51%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hdst_model = src_x_dst_x_av.dstModel[28;63H[K[28;63H43,1[10C50%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hsrc_model = src_x_dst_x_av.srcModel[28;63H[K[28;63H42,1[10C49%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mfor[m src_x_dst_x_av [38;5;130min[m attrVects[av]:[28;63H[K[28;63H41,1[10C48%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H40,1[10C46%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H39,0-1[8C45%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_names.append(model_name)[28;63H[K[28;63H38,1[10C44%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'gm'[m] = model_gsmap_name[28;63H[K[28;63H37,1[10C43%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'dst'[m] = [][28;63H[K[28;63H36,1[10C42%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name][[31m'src'[m] = av[28;63H[K[28;63H35,1[10C40%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_SMats[model_name] = {}[28;63H[K[28;63H34,1[10C39%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_gsmap_name = dst_model.gsMaps[[31m'cpl'[m].name[28;63H[K[28;63H33,1[10C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hmodel_name = dst_model.name[28;63H[K[28;63H32,1[10C37%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H31,0-1[8C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hdst_model = attrVects[av][[31m0[m].dstModel[28;63H[K[28;63H30,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[34m# todo get dst_av_model [m[28;63H[K[28;63H29,1[10C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mfor[m av [38;5;130min[m attrVects:[28;63H[K[28;63H28,1[10C32%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H27,0-1[8C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H26,0-1[8C30%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmodel_SMats = {}[28;63H[K[28;63H25,1[10C28%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmodel_names = [][28;63H[K[28;63H24,1[10C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;130mdef[m [36mget_SMat_relation[m(attrVects):[28;63H[K[28;63H23,1[10C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H22,0-1[8C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#print(deploy_cfgs)[m[28;63H[K[28;63H21,1[10C24%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#print(len(deploy_cfgs))[m[28;63H[K[28;63H20,1[10C22%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#print(type(deploy_cfgs))[m[28;63H[K[28;63H19,1[10C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hdeploy_cfgs = parser.deploy[28;63H[K[28;63H18,1[10C20%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hfraction_cfgs = parser.fractions[28;63H[K[28;63H17,1[10C19%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H16,0-1[8C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H][28;63H[K[28;63H15,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparser.subroutine[m] [38;5;130mfor[m m [38;5;130min[m parser.subroutine[28;63H[K[28;63H14,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmerge_subroutines = [[28;63H[K[28;63H13,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H12,0-1[8C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H][28;63H[K[28;63H11,1[10C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparser.models[m] [38;5;130mfor[m m [38;5;130min[m parser.models[28;63H[K[28;63H10,1[10C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hproc_cfgs = [[28;63H[K[28;63H9,1[12C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H8,0-1[10C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparser.parse()[28;63H[K[28;63H7,1[12C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparser = Parser()[28;63H[K[28;63H6,1[12C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H5,0-1[10C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m parserMod [35mimport[m Parser[28;63H[K[28;63H4,1[12C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hsys.path.append([31m'../parser'[m)[28;63H[K[28;63H3,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mimport[m sys[28;63H[K[28;63H2,1[12C1%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[35mfrom[m codeGen [35mimport[m codeGenerator[28;63H[K[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"main.py" 110L, 3330C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim searchSet_Template.py 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"searchSet_Template.py" 231L, 6660C[>c[1;5H[31m'ierr'[m:[31m'ierr'[m,
}
${model_name}_run_phase1 = Temp(funcname=method_name, params=params)

method_name = [31m'${model_name}_run_mct'[m
params = {
    [31m'my_proc'[m:[31m'my_proc'[m,
    [31m'ID'[m:[31m'my_proc%model${model_name}_id'[m,
    [31m'EClock'[m:[31m'EClock'[m,
    [31m'${model_name}2x'[m:[31m'${c2x_cc.name}'[m,
    [31m'x2${model_name}'[m:[31m'${x2c_cc.name}'[m,
    [31m'ierr'[m:[31m'ierr'[m
}
${model_name}_run_phase2 = Temp(funcname=method_name, params=params)

sub_run_phase_3 = []
method_name = [31m'mapper_comp_map'[m
params = {
    [31m'mapper'[m:[31m'my_proc%${mapper_c2x.name}'[m,
    [31m'src'[m:[31m'${c2x_cc.name}'[m,
    [31m'dst'[m:[31m'${c2x_cx.name}'[m,
    [31m'msgtag'[m:[31m'100+${j}0+3'[m,
    [31m'ierr'[m:[31m'ierr'[m,
}
${model_name}_run_phase3_1 = Temp(funcname=method_name, params=params)
sub_run_phase_3.append(${model_name}_run_phase3_1)[28;63H94,1[10C39%[14;1H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;64H5,0-1[15;1H[?12l[?25h[?25l[28;64H4,1  [14;1H[?12l[?25h[?25l[6;10H[106m{[13;1H}[m[28;64H3[13;1H[?12l[?25h[?25l[6;10H{[13;1H}[28;64H2[12;1H[?12l[?25h[?25l[28;64H1[11;1H[?12l[?25h[?25l[28;64H0[10;1H[?12l[?25h[?25l[28;63H89[9;1H[?12l[?25h[?25l[28;64H8[8;1H[?12l[?25h[?25l[28;64H7[7;1H[?12l[?25h[?25l[28;64H6[6;1H[?12l[?25h[?25l[28;64H5[5;1H[?12l[?25h[?25l[28;64H4,0-1[4;1H[?12l[?25h[?25l[28;64H3,1  [3;1H[?12l[?25h[?25l[28;64H2[2;1H[?12l[?25h[?25l[28;64H1[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[31m'msgtag'[m:[31m'100+${j}0+2'[m,[28;1H[K[28;63H80,1[10C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[31m'dst'[m:[31m'${x2c_cc.name}'[m,[28;63H[K[28;63H79,1[10C38%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[31m'src'[m:[31m'${x2c_cx.name}'[m,[28;63H[K[28;63H78,1[10C37%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[31m'mapper'[m:[31m'my_proc%${mapper_x2c.name}'[m,[28;63H[K[28;63H77,1[10C37%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparams = {[28;63H[K[28;63H76,1[10C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmethod_name=[31m'mapper_comp_map'[m[28;63H[K[28;63H75,1[10C36%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $mapper_x2c = $model.mappers['x2c'][m[28;63H[K[28;63H74,1[10C35%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $mapper_c2x = $model.mappers['c2x'][m[28;63H[K[28;63H73,1[10C35%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $comps = ['a', 'b', 'c'][m[28;63H[K[28;63H72,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $x2c_cx = $avs['x2c_cx'][m[28;63H[K[28;63H71,1[10C34%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $x2c_cc = $avs['x2c_cc'][m[28;63H[K[28;63H70,1[10C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $c2x_cx = $avs['c2x_cx'][m[28;63H[K[28;63H69,1[10C33%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $c2x_cc = $avs['c2x_cc'][m[28;63H[K[28;63H68,1[10C32%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $avs = $model.attrVects[m[28;63H[K[28;63H67,1[10C32%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $model_name = $model.name[m[28;63H[K[28;63H66,1[10C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#for $j, $model in enumerate($models)[m[28;63H[K[28;63H65,1[10C31%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H64,0-1[8C30%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#end for[m[28;63H[K[28;63H63,1[10C30%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H62,0-1[8C29%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H${model_name}_init = Temp(funcname=method_name, params=params)[28;63H[K[28;63H61,1[10C29%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H}[28;63H[K[28;63H60,1[10C28%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'ierr'[m:[31m'ierr'[m[28;63H[K[28;63H59,1[10C28%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'${x2c_cc.name}'[m:[31m'${x2c_cc.name}'[m,[28;63H[K[28;63H58,1[10C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'${c2x_cc.name}'[m:[31m'${c2x_cc.name}'[m,[28;63H[K[28;63H57,1[10C27%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'gsMap_${model_name}${model_name}'[m:[31m'gsMap_${model_name}${model_name}'[m,[28;63H[K[28;63H56,1[10C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'EClock'[m:[31m'EClock'[m,[28;63H[K[28;63H55,1[10C26%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'ID'[m:[31m'my_proc%model${model_name}_id'[m,[28;63H[K[28;63H54,1[10C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[31m'my_proc'[m:[31m'my_proc'[m,[28;63H[K[28;63H53,1[10C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hparams = {[28;63H[K[28;63H52,1[10C25%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1Hmethod_name = [31m'${model_name}_init_mct'[m[28;63H[K[28;63H51,1[10C24%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $mapper_x2c = $model.mappers['x2c'][m[28;63H[K[28;63H50,1[10C24%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $mapper_c2x = $model.mappers['c2x'][m[28;63H[K[28;63H49,1[10C23%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $x2c_cx = $avs['x2c_cx'][m[28;63H[K[28;63H48,1[10C23%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $x2c_cc = $avs['x2c_cc'][m[28;63H[K[28;63H47,1[10C22%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $c2x_cx = $avs['c2x_cx'][m[28;63H[K[28;63H46,1[10C22%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $c2x_cc = $avs['c2x_cc'][m[28;63H[K[28;63H45,1[10C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $avs = $model.attrVects[m[28;63H[K[28;63H44,1[10C21%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[34m#set $model_name = $model.name[m[28;63H[K[28;63H43,1[10C20%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[34m#for $model in $models[m[28;63H[K[28;63H42,1[10C20%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H41,0-1[8C19%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mreturn[m [31m"[m[35m\n[m[31m"[m.join(res)[28;63H[K[28;63H40,1[10C19%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hres.append(func_str)[28;63H[K[28;63H39,1[10C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H38,0-1[8C18%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#func_str = func_str[:str_len] + '&\n' + func_str[str_len:][m[28;63H[K[28;63H37,1[10C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[34m#str_len = len(func_str) / 2[m[28;63H[K[28;63H36,1[10C17%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hfunc_str = [31m"call "[m+ self.funcname + [31m"("[m + args +[31m")"[m[28;63H[K[28;63H35,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hargs = (self.space+[31m","[m).join(args)[28;63H[K[28;63H34,1[10C16%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hargs.append([36mstr[m(item))[28;63H[K[28;63H33,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21Hitem = key + [31m'='[m + self.params[key][28;63H[K[28;63H32,1[10C15%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m indx == l:[28;63H[K[28;63H31,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;21Hitem = key + [31m'=[m[35m\'[m[31m'[m + params[key]+ [31m'[m[35m\'[m[31m&[m[35m\n[m[31m'[m[28;63H[K[28;63H30,1[10C14%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17H[38;5;130mif[m key == [31m'rList'[m:[28;63H[K[28;63H29,1[10C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hitem = key + [31m'='[m + self.params[key] +[31m'&[m[35m\n[m[31m'[m[28;63H[K[28;63H28,1[10C13%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hindx = indx+[31m1[m[28;63H[K[28;63H27,1[10C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mfor[m key [38;5;130min[m [36msorted[m(self.params):[28;63H[K[28;63H26,1[10C12%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hindx = [31m0[m[28;63H[K[28;63H25,1[10C11%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hl = [36mlen[m(self.params)[28;63H[K[28;63H24,1[10C11%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13Hargs = [][28;63H[K[28;63H23,1[10C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130melse[m:[28;63H[K[28;63H22,1[10C10%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;17Hres.append(routine.getFuncFormat())[28;63H[K[28;63H21,1[11C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;13H[38;5;130mfor[m routine [38;5;130min[m self.subroutine:[28;63H[K[28;63H20,1[11C9%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mif[m self.mix:[28;63H[K[28;63H19,1[11C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hres = [][28;63H[K[28;63H18,1[11C8%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36mgetFuncFormat[m(self):[28;63H[K[28;63H17,1[11C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9H[38;5;130mreturn[m [31m"rr34"[m[28;63H[K[28;63H16,1[11C7%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36mgetName[m(self):[28;63H[K[28;63H15,1[11C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.space = [31m24[m*[31m" "[m[28;63H[K[28;63H14,1[11C6%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.mix = mix[28;63H[K[28;63H13,1[11C5%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.params = params[28;63H[K[28;63H12,1[11C5%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.funcname = funcname[28;63H[K[28;63H11,1[11C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.subroutine = subroutine[28;63H[K[28;63H10,1[11C4%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;9Hself.a = [31m"333"[m[28;63H[K[28;63H9,1[12C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H[38;5;130mdef[m [36m__init__[m(self, funcname=[31m""[m, params=[31m""[m, mix=[36mFalse[m, subroutine=[]):[28;63H[K[28;63H8,1[12C3%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5H}[28;63H[K[28;63H7,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[28;63H[K[28;63H6,1[12C2%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hparams = {[28;63H[K[28;63H5,1[12C1%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hfuncname = [31m""[m[28;63H[K[28;63H4,1[12C1%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hsubroutine = [][28;63H[K[28;63H3,1[12C0%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;5Hmix = [36mFalse[m[28;63H[K[28;63H2,1[12C0%[1;1H[?12l[?25h[?25l[1;27r[1;1H[L[1;28r[1;1H[38;5;130mclass[m [36mTemp[m:[28;63H[K[28;63H1,1[10Cé¡¶ç«¯[1;1H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"searchSet_Template.py" 231L, 6660C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# vim baseCpl.F90 
[?1049h[?1h=[2;1Hâ–½[6n[1;1H  [1;1H[1;28r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[28;1H"baseCpl.F90" 784L, 32435C[>c[1;13H[34m![2;13H!    [3;13H!    call mrg_x2a(my_proc, x2a_ax, b2x_ax)[4;13H![5;13H!    [6;13H!    call mrg_x2b(my_proc, x2b_bx, a2x_bx)[7;13H![8;13H!    [9;13H!    call mrg_x2ocn(my_proc, x2ocn_ocnx, a2x_ocnx)[10;13H![11;13H!    [12;13H!    call mrg_x2atm(my_proc, x2atm_atmx, ocn2x_atmx, lnd2x_atmx, &[m[13;9H[97m[101m)[m[14;13H[34m![m[15;13H[36mcall[m MPI_Barrier(my_proc%comp_comm(my_proc%modela2cpl_id), ierr)[16;9H[38;5;130mendif
[m    [38;5;130mendif[19;5Hend do[m

[35mend subroutine[m cpl_run

[35msubroutine[m cpl_final()[25;5H[32mimplicit[m [32mnone[m[27;5H[34m!----------------------------------------------------------------------[m[28;63H748,9[9C97%[13;9H[?12l[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[28;1H[1m-- æ’å…¥ --[m[28;11H[K[28;63H748,9[9C97%[13;9H[?12l[?25h[?25l[28;67H8[13;8H[?12l[?25h[?25l[28;67H9[13;9H[?12l[?25h[?25l[34m!)[m[12;32H[34m[106m([13;10H)[m[28;67H10[13;10H[?12l[?25h[28;1H[K[13;9H[?25l[12;32H[34m([13;10H)[m[28;63H748,9[9C97%[13;9H[?12l[?25h[?25l[28;63H[K[28;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l"baseCpl.F90" 784L, 32436C å·²å†™å…¥
[?1l>[?12l[?25h[?1049l]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# clear
[3;J[H[2J]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./[K[K./code[K[K[K[K[K[Kls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ./move.sh 
code moved
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# ls
baseCpl.F90             [0m[38;5;34mmain.py[0m               run.sh
baseCpl_Template.F90    manage.F90            search_set.py
codeGen.py              model_set.pyc         search_set.pyc
codeGen.pyc             [38;5;34mmove.sh[0m               searchSet_Template.py
coupler.xml             proc_def.F90          timeM.F90
deploy_mod.F90          procDef_Template.F90  timeM_Template.F90
deploymod_Template.F90  procM_Template.F90
]0;root@test0:/share/BCGen/BCGen/src/template[root@test0 template]# cd ..
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# ls
[0m[38;5;27mBCGen[0m  [38;5;27mErrorHandle[0m  __init__.py  [38;5;27mir[0m  [38;5;27mparser[0m  [38;5;27mtemplate[0m
]0;root@test0:/share/BCGen/BCGen/src[root@test0 src]# cd ..
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# ls
[0m[38;5;27mbaseCpl[0m    devel  README.md         [38;5;27mscripts[0m  typescript
[38;5;27mcomposing[0m  [38;5;27mdoc[0m    requirements.txt  [38;5;27msrc[0m
]0;root@test0:/share/BCGen/BCGen[root@test0 BCGen]# cd baseCpl/
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ,.[K[Kna[K[Kmake
/share/BCGen/BCGen/baseCpl
atm lnd model1 model2 model3 ocn
make -C MCTWrapper
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
mpif90 -I/usr/local/include -c mct_mod.F90 -lmct -lmpeu
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/MCTWrapperâ€
make -C data_def
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
mpif90 -I/usr/local/include -I/usr/local/lib -I../include -c comms_def.F90 proc_def.F90 -lmct -lmpeu -lmctm
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/data_defâ€
make -C timeManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
mpif90  -c timeM.F90
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/timeManageâ€
make -C	transManage 
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
extend.F90:560.51:

subroutine write_netcdf(my_proc, ID, log_path, time, AV, gsMap_AV)
                                                   1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:501.48:

    integer :: comm_rank, mpi_comm, nlseg, gsize, ierr 
                                                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜gsizeâ€™
extend.F90:492.58:

subroutine read_netcdf(my_proc, ID, check_point_path, time, AV, gsMap_AV)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:470.50:

subroutine log_run_msg(my_proc, ID, log_path, time)
                                                  1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:436.13:

    integer i, ierr, comm_rank, comm_size, j
             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:436.44:

    integer i, ierr, comm_rank, comm_size, j
                                            1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜jâ€™
extend.F90:383.56:

subroutine save_model_av(my_proc, AV, gsMap_AV, ID, time)
                                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜timeâ€™
extend.F90:337.20:

    integer pid_in_d,ier, rank_s, rank_d, srank, rrank
                    1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜pid_in_dâ€™
extend.F90:82.14:

    integer  i,j,status,ier,rank_s,rank_d,srank,rrank
              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
extend.F90:80.30:

    integer, pointer :: pei(:), peo(:)
                              1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peiâ€™
extend.F90:80.38:

    integer, pointer :: pei(:), peo(:)
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜peoâ€™
extend.F90:78.22:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜procs_iâ€™
extend.F90:78.38:

    integer :: procs_i, rank_in_comm_i, ngseg_i, gsize_i
                                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rank_in_comm_iâ€™
extend.F90:51.75:

subroutine avect_init_ext(my_proc, AV_s, ID_s, AV_d, ID_d, gsMap_d, ID_join)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜id_joinâ€™
mpif90 -I/usr/local/include  -I../include -I./ -I/usr/local/netcdf-fortran/include -L../lib -c extend.o comms.F90 -lmct -lmpeu -L/usr/local/netcdf-fortran/lib
comms.F90:192.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:192.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:179.21:

    integer comm_rank, ierr
                     1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜comm_rankâ€™
comms.F90:179.27:

    integer comm_rank, ierr
                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comms.F90:129.58:

subroutine mapper_comp_map(mapper, src, dst, msgtag,  ierr, rList)
                                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:37.94:

earrsplit_init(mapper, my_proc, gsmap_s, ID_s, gsmap_d, ID_d, ID_join, ierr)
                                                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
comms.F90:23.39:

subroutine mapper_init_nil(mapper, ierr)
                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
gfortran: è­¦å‘Šï¼šextend.oï¼šæœªä½¿ç”¨é“¾æ¥å™¨è¾“å…¥æ–‡ä»¶ï¼Œå› ä¸ºé“¾æ¥å°šæœªå®Œæˆ
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/transManageâ€
make -C procManage
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
mpif90 -I../include -I/usr/local/include -c deploy_mod.F90 mpi_comm.F90  manage.F90 -lmct -lmpeu -lmctm -lcomm -ldata_def 
deploy_mod.F90:134.71:

subroutine deploy_readFile(comp_id, comp_first, comp_last, stride, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:67.65:

                  comp_id, cpl_id, id_join, iam_in, pattern, ierr)
                                                                 1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
deploy_mod.F90:86.22:

    integer    :: rank  
                      1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜rankâ€™
deploy_mod.F90:22.71:

subroutine deploy_cpl(glo_comm, cpl_comm, cpl_id, iam_in, pattern, ierr)
                                                                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mpi_comm.F90:56.45:

subroutine iam_comm_root(comm, iam_root, ierr)
                                             1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜ierrâ€™
mv *.mod *.o ../include
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/procManageâ€
make models
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
mpif90 -c comp_atm.F90 -I../../include
comp_atm.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_atm.F90:149.42:

subroutine atm_run_mct(my_proc, ID, EClock, atm2x, x2atm, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_atm.F90:26.43:

subroutine atm_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_atm.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/atmâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
mpif90 -c comp_lnd.F90 -I../../include
comp_lnd.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_lnd.F90:149.42:

subroutine lnd_run_mct(my_proc, ID, EClock, lnd2x, x2lnd, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_lnd.F90:26.43:

subroutine lnd_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_lnd.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/lndâ€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
mpif90 -c comp_a.F90 -I../../include
comp_a.F90:65.40:

subroutine a_run_mct(my_proc, ID, EClock, a2x, x2a, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_a.F90:23.41:

subroutine a_init_mct(my_proc, ID, EClock, gsMap_aa, a2x_aa, x2a_aa, ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model1â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
mpif90 -c comp_b.F90 -I../../include
comp_b.F90:64.40:

subroutine b_run_mct(my_proc, ID, EClock, b2x, x2b, ierr)
                                        1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_b.F90:23.41:

subroutine b_init_mct(my_proc, ID, EClock, gsMap_bb, b2x_bb, x2b_bb,ierr)
                                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model2â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
mpif90 -c comp_c.F90 -I../../include
comp_c.F90:50.27:

    gsize = my_proc%c_gsize
                           1
é”™è¯¯ï¼š â€˜c_gsizeâ€™åœ¨(1)å¤„ä¸æ˜¯â€˜procâ€™ç»“æ„çš„æˆå‘˜
make[1]: *** [comp_c.o] é”™è¯¯ 1
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/model3â€
/share/BCGen/BCGen/baseCpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
mpif90 -c comp_ocn.F90 -I../../include
comp_ocn.F90:210.16:

  integer ::ierr,lsize
                1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜ierrâ€™
comp_ocn.F90:149.42:

subroutine ocn_run_mct(my_proc, ID, EClock, ocn2x, x2ocn, ierr)
                                          1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:158.23:

    integer comm_rank,i, av_lsize, n_rflds, n_iflds, n,nf
                       1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜iâ€™
comp_ocn.F90:26.43:

subroutine ocn_init_mct(my_proc, ID, EClock, &
                                           1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„è™šå‚â€˜eclockâ€™
comp_ocn.F90:42.25:

    logical :: first_time = .true. ! if the first time to run or restart
                         1
è­¦å‘Šï¼š (1)å¤„å£°æ˜äº†æœªä½¿ç”¨çš„å˜é‡â€˜first_timeâ€™
mv *.o *.mod ../cpl
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/ocnâ€
/share/BCGen/BCGen/baseCpl
end make models
ar rcs libbcpl.a ./include/*.o
rm ./include/*.o
mv libbcpl.a ./lib 	
make -C ./model/cpl
make[1]: è¿›å…¥ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mpif90 -c  baseCpl.F90 -I../../include -I./ -I/usr/local/netcdf-fortran/include
baseCpl.F90:62.1:

  logical :: a_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:63.1:

  logical :: lnd_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:64.1:

  logical :: b_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:65.1:

  logical :: atm_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
baseCpl.F90:66.1:

  logical :: ocn_run
 1
è­¦å‘Šï¼š (1)å¤„çš„åˆ¶è¡¨ç¬¦ä¸ç›¸å®¹
mpif90 ./comp_a.o ./comp_b.o ./comp_c.o ./comp_atm.o ./comp_ocn.o ./comp_lnd.o main.o baseCpl.o   -o main \
-L../../lib -L/usr/local/netcdf-fortran/lib -I/usr/local/netcdf-fortran/include -lbcpl  -lmct -lmpeu  -lnetcdff
make[1]: ç¦»å¼€ç›®å½•â€œ/share/BCGen/BCGen/baseCpl/model/cplâ€
mv ./model/cpl/main ./
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# kls[K[K[Kk[Kls
[0m[38;5;27mdata_def[0m   file.txt  [38;5;27mlogUtils[0m  [38;5;27mMCT[0m         netcf.nc    readme.md  [38;5;27mtimeManage[0m
[38;5;27mdoc[0m        [38;5;27minclude[0m   [38;5;34mmain[0m      [38;5;27mMCTWrapper[0m  plan        [38;5;34mrun.sh[0m     [38;5;27mtransManage[0m
file2.txt  [38;5;27mlib[0m       Makefile  [38;5;27mmodel[0m       [38;5;27mprocManage[0m  test.py    [38;5;27mutils[0m
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# ./run.sh 
 cpl
 cpl
 cpl
 cpl
 my_world_rank:           0  my_in_model T T T F T T T T T T T T
 my_world_rank:           1  my_in_model T T T F T T T T T T T T
 my_world_rank:           2  my_in_model T T F T T F T T T T T T
 my_world_rank:           3  my_in_model T T F T T F F T T T T T
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 comp_comm initiated
 mct_world_init initiated
 mct_world_init initiated
 Im cpl           1
 mct_world_init initiated
 Im cpl           2
 mct_world_init initiated
 Im cpl           3
 Im cpl           0
  Read in Xlnd input from file= xlnd_in
(lnd_init_mct) 
(lnd_init_mct)          Model  :  lnd
(lnd_init_mct)            NGX  :        10
(lnd_init_mct)            NGY  :        10
(lnd_init_mct)  Decomposition  :         0
(lnd_init_mct)  Num pes in X   :         2
(lnd_init_mct)  Num of local Segment :         1
(lnd_init_mct)     inst_index  :        10
(lnd_init_mct) 
  Read in Xatm input from file= xatm_in
(atm_init_mct) 
(atm_init_mct)          Model  :  atm
(atm_init_mct)            NGX  :        10
(atm_init_mct)            NGY  :        10
(atm_init_mct)  Decomposition  :         0
(atm_init_mct)  Num pes in X   :         2
(atm_init_mct)  Num of local Segment :         1
(atm_init_mct)     inst_index  :        10
(atm_init_mct) 
  Read in Xocn input from file= xocn_in
(ocn_init_mct) 
(ocn_init_mct)          Model  :  ocn
(ocn_init_mct)            NGX  :        10
(ocn_init_mct)            NGY  :        10
(ocn_init_mct)  Decomposition  :         0
(ocn_init_mct)  Num pes in X   :         3
(ocn_init_mct)  Num of local Segment :         1
(ocn_init_mct)     inst_index  :        10
(ocn_init_mct) 
 <<==== All Model Init Rank:           0  Over ====>>
 <<==== All Model Init Rank:           2  Over ====>>
 <<==== All Model Init Rank:           3  Over ====>>
 <<==== All Model Init Rank:           1  Over ====>>
  
  
  
  
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: TargetAV size is not appropriate for this Rearranger
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
MCT::m_Rearranger::Rearrange_: error, InRearranger%RecvRouter%lAvsize=2, AttrVect_lsize(TargetAV)=3.
000.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
001.MCT(MPEU)::die.: from MCT::m_Rearranger::Rearrange_()
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 0
application called MPI_Abort(MPI_COMM_WORLD, 2) - process 1
]0;root@test0:/share/BCGen/BCGen/baseCpl[root@test0 baseCpl]# exit
exit

Script done on 2018å¹´07æœˆ14æ—¥ æ˜ŸæœŸå…­ 16æ—¶11åˆ†44ç§’
